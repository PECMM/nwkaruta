<!DOCTYPE html>
<html lang='ja'>
<head>
  <meta charset="utf-8">
  <title>かるた</title>
  <style>
    body {
      font-size: 1rem;
      margin: 0;
      padding: 0;
    }
    
    h1 {
      font-size: 2.5rem;
    }
    
    #loadingMessage {
      margin: 8px;
    }
    #loginArea {
      margin: 8px;
      display: none;
    }
    #roomArea {
      margin: 8px;
      display: none;
    }
    #mainArea {
      display: none;
    }
    
    
    #loginInputs, #roomInputs {
      margin-left: 2rem;
      margin-bottom: 5rem;
    }
    
    #loginInputs div {
      display: flex;
      padding: 0.5rem;
    }
    #loginInputs label {
      width: 6rem;
      padding-right: 0.5rem;
    }
    #loginInputs button {
      width: 4rem;
    }
    #loginInputs input {
      width: 21rem;
    }
    #loginInputs * {
      font-size: 1.4rem;
      vertical-align: middle;
    }
    
    #roomInputs * {
      font-size: 1.4rem;
    }
    #memberList th {
      min-width: 6rem;
    }
    #memberList th,
    #memberList td {
      height: 2.8rem;
    }
    #memberList td.my-name {
      color: #0000FF;
    }
    #memberList td:nth-child(2) {
      min-width: 21rem;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    #memberList td:nth-child(1),#memberList td:nth-child(3) {
      text-align: center;
    }
    
    #startPlayButtonArea {
      margin-top: 1.4rem;
    }
    
    
    .help-list {
      font-size: 1rem;
    }
    
    #loginButtonMessage {
      color: #FF0000;
      margin-left: 1rem;
    }
    
    input[type='number'] {
      text-align: right;
      width: 3em;
    }
    
    footer {
      margin-top: 3rem;
      margin-left: 8px;
      padding-top: 0.5rem;
      border-top: solid 2px #cccccc;
    }
  </style>
</head>

<body>
  <div id='loadingMessage'>
    <p>ファイル読み込み中...</p>
    <p>どれだけ待っても読み込みが終了しない場合は、エラーや通信失敗が発生している可能性があります。<br />画面をリロードしたり、時間を置いてやり直すなど試してください</p>
  </div>
  <div id='loginArea'>
    <h1>かるた</h1>
    
    <div id='loginInputs'>
      <div>
        <label for='userName'>ユーザ名</label>
        <input id='userName' type='text' placeholder='' />
      </div>
      <div>
        <label for='roomName'>部屋名</label>
        <input id='roomName' type='text' placeholder='' />
      </div>
      <div>
        <button id='loginButton'>入室</button>
        <span id='loginButtonMessage'></span>
      </div>
    </div>
    
    <ul class='help-list'>
      <li><div>ver: <span id="version"></span></div></li>
      <li>このかるたは対戦ゲーム専用です</li>
      <li>完全に同一の部屋名を指定して入室した、他のユーザと対戦できます</li>
      <li>同じ部屋に同じ名前のユーザは複数入室できません</li>
      <li>ゲームプレイ中の部屋には入室できません</li>
    </ul>
    
    <footer></footer>
  </div>
  <div id='roomArea'>
    <h2>待機部屋</h2>
    
    <div id='roomInputs'>
      <table id='memberList' border='1' cellpadding='4 cellspacing='0'>
        <caption>参加者</caption>
        <thead> <tr> <th>ホスト</th> <th>ユーザ名</th> <th>操作</th> </tr> </thead>
        <tbody></tbody>
      </table>
      <button id='logoutButton'>退室</button>
      <div id='startPlayButtonArea'>
        <label> 使用するカード枚数：<input type='number' id='useCardCount' step='1' /></label>
        <br />
        <button id='startPlayButton'>開始</button>
      </div>
    </div>
    
    <ul class='help-list'>
      <li>この画面のヘルプ<ul>
        <li>ホストユーザのみが開始できます</li>
        <li>ホストユーザは同室ユーザ内で一番早くログインしているユーザに自動で切り替わります</li>
        <li>ユーザが２人以上入室していないと開始できません</li>
        <li>ホストユーザのみがゲームで使用するカード枚数を選択できます（2 ～ 存在するカード枚数まで）</li>
      </ul></li>
      <li>ゲーム画面のヘルプ<ul>
        <li>ゲーム開始後は、画面サイズ変更により配置・札の表示サイズの調整などはできません</li>
        <li>ブラウザの表示サイズや参加ユーザ数によっては、表示の乱れやはみ出しが起こる場合があります</li>
        <li>ゲームのプレイにはブラウザからの音声出力が必須です</li>
        <li>ゲーム終了後に画面をクリックで待機部屋に戻れます（ホストユーザの操作では、全ユーザが強制的に戻ります）</li>
        <li>ゲーム中にネットワーク切断などでユーザが退出した場合、強制的にゲーム全体が終了となります</li>
      </ul></li>
      <li>ゲームのルール<ul>
        <li>ネットワーク遅延を考慮し、『各環境で読み上げ開始から最も早く正答したユーザ』が札を取れるものとします</li>
        <li>お手付きした札はそのまま場に置かれたままとなります（お手付きの回数のみ、最終順位に影響します）</li>
        <li>お手付きした際は、次の札に進むまで操作できません</li>
        <li>全員がお手付きした際は、次の札に進みゲームを続けます。誰かが札を取るまで何度も同じ札が読み上げられる場合があります</li>
        <li>最後の 1 枚は連打勝負になってしまうため、残り 1 枚になった時点で終了とします</li>
        <li>最終順位は『手札が多かった順 → 同数ならばお手付きが少なかった順』で決定します</li>
      </ul></li>
      <li>ゲーム観戦機能はサポートしていません。<br />普通に観戦してクリック操作しない、とういやり方で観戦はできますが、自分以外全員お手付きの場合には、操作しないとゲームが進まなくなります。<br />（2 人以上が観戦しているとややこしいことになります）</li>
    </ul>
  </div>
  <div id='mainArea'>
    <canvas id='mainCanvas'></canvas>
  </div>
  <textarea style='display:none;' id='messageLog' cols='80' rows='12'></textarea>
  
  <script type='text/javascript' src='js/socket.io.min.js'></script>
  <script type='text/javascript'>
    const AppVersion = "0.1.0";
    
    // ここから
const a0_0x4563cc=a0_0x362d;(function(_0x47a62a,_0x2dc745){const _0x17855d=a0_0x362d,_0x38c882=_0x47a62a();while(!![]){try{const _0x5c648a=-parseInt(_0x17855d(0x1bc))/0x1*(-parseInt(_0x17855d(0x2c0))/0x2)+parseInt(_0x17855d(0x2a5))/0x3+-parseInt(_0x17855d(0x24b))/0x4+-parseInt(_0x17855d(0x25a))/0x5*(-parseInt(_0x17855d(0x2e8))/0x6)+parseInt(_0x17855d(0x1de))/0x7+-parseInt(_0x17855d(0x2c4))/0x8*(-parseInt(_0x17855d(0x190))/0x9)+parseInt(_0x17855d(0x23c))/0xa*(-parseInt(_0x17855d(0x1f8))/0xb);if(_0x5c648a===_0x2dc745)break;else _0x38c882['push'](_0x38c882['shift']());}catch(_0x2f7590){_0x38c882['push'](_0x38c882['shift']());}}}(a0_0x56f4,0x4aa12),(document[a0_0x4563cc(0x219)](a0_0x4563cc(0x1fe))??{})[a0_0x4563cc(0x1b7)]=AppVersion);function loadSyncImage(_0x1e63a0){return new Promise((_0x3a9015,_0x5237cf)=>{const _0x35bff9=a0_0x362d;let _0x5d8a2a=new Image();_0x5d8a2a[_0x35bff9(0x2f3)]=()=>_0x3a9015(_0x5d8a2a),_0x5d8a2a[_0x35bff9(0x272)]=_0x402d75=>_0x5237cf(_0x402d75),_0x5d8a2a['src']=_0x1e63a0;});}function loadSyncAudio(_0x2dfdd1){return new Promise((_0xcb6cb4,_0x247d43)=>{const _0x2d0e76=a0_0x362d,_0x6ca23e=new Audio();_0x6ca23e['onloadeddata']=()=>_0xcb6cb4(_0x6ca23e),_0x6ca23e[_0x2d0e76(0x289)]=_0x122ea2=>_0x247d43(_0x122ea2),_0x6ca23e[_0x2d0e76(0x2ed)]=_0x2dfdd1;});}function newElem(_0x1d1c55,_0x1a9169=[],_0x2e9a88=[],_0x5e5ac1={}){const _0x3ac46e=a0_0x4563cc,_0x439d2e=document[_0x3ac46e(0x220)](_0x1d1c55);return _0x2e9a88[_0x3ac46e(0x1b0)]>0x0&&_0x439d2e[_0x3ac46e(0x2d8)]['add'](..._0x2e9a88),Object[_0x3ac46e(0x1ea)](_0x5e5ac1)['forEach'](_0x549642=>{const _0x16521a=_0x3ac46e;_0x439d2e[_0x16521a(0x2bb)](_0x549642,_0x5e5ac1[_0x549642]);}),_0x1a9169[_0x3ac46e(0x25f)](_0x3bcecb=>{const _0x472499=_0x3ac46e;typeof _0x3bcecb==='string'?_0x439d2e['appendChild'](document['createTextNode'](_0x3bcecb)):_0x439d2e[_0x472499(0x2cd)](_0x3bcecb);}),_0x439d2e;}const newRandomArray=_0x3b72e8=>{const _0x1dbdc3=a0_0x4563cc,_0x1f2a5c=Array[_0x1dbdc3(0x212)](_0x3b72e8);for(let _0x106d7b=_0x1f2a5c[_0x1dbdc3(0x1b0)]-0x1;_0x106d7b>=0x0;_0x106d7b--){const _0x354e9e=Math[_0x1dbdc3(0x25b)](Math[_0x1dbdc3(0x194)]()*(_0x106d7b+0x1));[_0x1f2a5c[_0x106d7b],_0x1f2a5c[_0x354e9e]]=[_0x1f2a5c[_0x354e9e],_0x1f2a5c[_0x106d7b]];}return _0x1f2a5c;},parseFloatOr=(_0x31e266,_0x290cf8)=>{const _0x4eeb69=a0_0x4563cc,_0x5d7054=parseFloat(_0x31e266);return Number[_0x4eeb69(0x2a7)](_0x5d7054)?_0x290cf8:_0x5d7054;},sleep=_0x53725a=>{return new Promise(_0x55c59c=>setTimeout(_0x55c59c,_0x53725a));},generateBlinkingText=(_0x3dd385,_0xc6ea3a)=>{let _0x5d159e=![];const _0x3d16fa=(_0x97d831,_0x288958,_0x75578e)=>{const _0x3e9e53=a0_0x362d,_0x3589fc=Number[_0x3e9e53(0x228)](_0x75578e)&&_0x75578e>0x0?_0x75578e:_0xc6ea3a[_0x3e9e53(0x26a)];let _0x2307ba=_0x3589fc+_0x3e9e53(0x16f);const _0x1c0f15=Math['floor'](_0xc6ea3a['x']+_0xc6ea3a[_0x3e9e53(0x287)]/0x2),_0x411a13=Math[_0x3e9e53(0x25b)](_0xc6ea3a['y']+_0xc6ea3a[_0x3e9e53(0x292)]/0x2),_0x708160=_0x4fd3b6=>{const _0x4a7771=_0x3e9e53,_0xfc2eaf=Math['floor'](_0x4fd3b6/_0xc6ea3a[_0x4a7771(0x251)]),_0x466c22=(_0x4fd3b6-_0xfc2eaf*_0xc6ea3a['halfPeriodMS'])/_0xc6ea3a[_0x4a7771(0x251)],_0x116c02=_0xfc2eaf%0x2===0x0;_0x97d831['save'](),_0x97d831['globalAlpha']=0x1,_0x97d831[_0x4a7771(0x20e)]=_0xc6ea3a[_0x4a7771(0x1af)],_0x97d831[_0x4a7771(0x256)](_0xc6ea3a['x'],_0xc6ea3a['y'],_0xc6ea3a[_0x4a7771(0x287)],_0xc6ea3a['height']),_0x97d831['font']=_0x2307ba,_0x97d831[_0x4a7771(0x2c7)]='center',_0x97d831['textBaseline']=_0x4a7771(0x1e2),_0x97d831[_0x4a7771(0x20e)]=_0xc6ea3a['fontColor'],_0x97d831[_0x4a7771(0x1a0)]=_0x116c02?_0x466c22:0x1-_0x466c22,_0x97d831[_0x4a7771(0x1a1)](_0x288958,_0x1c0f15,_0x411a13),_0x97d831[_0x4a7771(0x1d9)](),_0x5d159e&&requestAnimationFrame(_0x708160);};return _0x708160;};return{'start':(_0x281a89,_0x3a0576)=>{_0x5d159e=!![],requestAnimationFrame(_0x3d16fa(_0x3dd385,_0x281a89,_0x3a0576));},'stop':()=>{_0x5d159e=![];}};};function showConfirmTextDialog(_0x54ec90,_0xc6900){const _0xb306fe=a0_0x4563cc,_0x51347d=newElem('p',[_0x54ec90]);return _0x51347d['style'][_0xb306fe(0x24a)]=_0xb306fe(0x259),showConfirmDialog(_0x51347d,_0xc6900);}function a0_0x362d(_0x46afb4,_0x34022d){const _0x56f43f=a0_0x56f4();return a0_0x362d=function(_0x362dfc,_0x2b1d42){_0x362dfc=_0x362dfc-0x162;let _0x39edd9=_0x56f43f[_0x362dfc];return _0x39edd9;},a0_0x362d(_0x46afb4,_0x34022d);}function a0_0x56f4(){const _0x1c96b8=['lineTo','playOrNop','clear','ctrlKey','#loginArea','maskAreaMarginRate','number','all','userNameMaxLength','result','showMessage','px\x20\x27\x27','onNumberValue','checkTimeupIntervalMS','modeChangeToLogin','displaySeq','exitUserName','width','initialize','onerror','arcTo','strokeStyle','checkTimeupIntervalID','border','has','afterArray','【最新の操作結果】','loaded','height','cards','#loadingMessage','metaKey','countdown2SoundPath','minWidth','ceil','onNullOrUndefined','#memberList\x20>\x20tbody','count','afterArrayItem','radiusFontSizeRate','userNameWidth','dataId','removeAttribute','actLogFontText','endY','unitMarginRate','rateForContent','1500057BOPrRv','target','isNaN','userNameRx','joinroom_duplicated_usename','createDocumentFragment','onStringValue','emit','countdown2Sound','firstChild','nextSound','myUserFontColor','game_end','messageFontColor','baseElement','lineHeightRate','wrongTextRightX','boolean','symbol','#roomName','showMask','title','setAttribute','枚取得','removeChild','rankUnit','takenSound','760314qbdpYh','letterCount','countdown1Sound','cardId','4744528RXacgy','start_play','wrongCountRx','textAlign','rankingArea','done','showData','display','waitCardResultEffectMS','appendChild','nextSoundPath','focus','maskAreaColor','okSound','initializeWaitingRoom','total','positionElement','boxSizing','trim','mode','classList','location','setItem','startTimestamp','soundPath','join_room','playArea','border-box','maxWidthRate','center','prepare_play','string','showNG','min','currentTime','key','14778oveNBP','#mainArea','drawImage','modeChangeToRoom','endCardSettings','src','#000000','contextmenu','modeChangeToPlay','sound','reduce','onload','map','isOwner','allngSound','font','notation','ngSoundPath','offsetY','playCountdownBlinking','beforeObjectItem','div','confirmDialog','placeholder','lineHeight','volume','correctUnitTextLeftX','px\x20\x22\x22','お手付き','wrongUnitTextWidth','none','残り：','decideCardsSize','cardHeight','useCardCount','fontText','待機部屋へ戻りますか？','room_member_list','removeEventListener','loop','winnerUserName','playSound','rankUnitTextWidth','Enter','currentY','marginTopRate','next_card','isArray','cardClickedCallback','effectNGColor','全員お手付き','beforeObject','parentElement','style','find','okSoundPath','correct','borderRadius','maskHeight','showActLog','9tJpLxE','fill','#memberList','marginBottom','random','textStartX','wrongUnit','flex','searchParams','splitLineOffsetY','endCardImg','onBooleanValue','marginMax','returnConfirmCallback','maskOn','総数：','globalAlpha','fillText','wrongUnitTextLeftX','splitLineWidth','actLogMargin','rank','preventDefault','img','#FFFFFF','correctCountLx','keydown','altKey','borderColor','maskWidth','disabled','backgroundColor','length','action','top','card_phase_card_result','numberTextWidth','marginLeftRate','\x20が部屋を抜けました。ゲームを終了します','textContent','padding','onBigIntValue','karuta','playCountdownLength','1ERdPcD','addEventListener','timeup','#userName','marginTop','actionResults','ngSound','show','Cancel','#loginButton','origWidth','#logoutButton','innerHeight','getComputedStyle','shift','stopPropagation','get','offsetX','progressArea','showLoginErrorMessage','rankUnitTextLeftX','shiftKey','backgroundAlpha','originalCards','all_ready_next_card','userName','unitFontSizeRate','marginLeft','onFunction','restore','初期パラメータ','minTakenTimeMS','\x27,\x20部屋名：\x27','isComposing','3547915yzwvgL','takenTimeSec','card','every','middle','localStorage','concat','0px','beginPath','タグ不整合...tag:','wrong','takenSoundPath','getOwnPropertyNames','maskMargin','joinroom_invaid_parameter','sqrt','beforeArrayItem','yesLabel','roomArea','12px\x200','【枚数】','play','-lastInputValues','fontColor','soundSettings','同室内でのユーザ名重複...(ユーザ：\x27','180697ObGqbe','moveTo','borderSize','onInitialize','playmat','cardPhaseAct','#version','100%','imgPath','appId','replace','ready_play','space-around','all_ready_play','getContext','rankedUserResults','correctTextRightX','effectAlpha','userNameTextLeftX','showOK','toString','right','fillStyle','\x20が札を取得','memberList','#startPlayButton','from','save','fixed','test','now','ready_next_card','cardWidth','querySelector','log','endX','card_phase_acted','roomName','position','beforeArray','createElement','centerY','assign','max','size','opacity','correctCountRx','displayCards','isFinite','isInteger','block','cardSettings','strokeRect','afterObject','findIndex','textStartY','zIndex','currentCard','left','tag','onSymbolValue','Tab','defaultValues','pageOptions','splitLinePaddingRate','object','240px','debug','1140jRImsW','colCount','measureText','currentTag','stop','countdown1SoundPath','getClickedCard','to_waiting_room','correctUnitTextWidth','value','defaultIsYes','splitLineStartX','click','flat','whiteSpace','1463016paMvsj','onValue','rankTextRightX','endCardSound','referenceHTML','splitLineColor','halfPeriodMS','connect','任意のテキスト','#mainCanvas','stringify','fillRect','maskShortSize','maskAreaAlpha','pre-line','1145qHSJbK','floor','allngSoundPath','#useCardCount','defaultFontSize','forEach','arc','cardColMargin','actLogFontSize','ownerUserName','fukidashiTailSize','#loginButtonMessage','lastShowData','cardRowMargin','#roomArea','unitFontSize','fontSize','origHeight','不正な入力値...','textBaseline','innerWidth','finish\x20loadResources','getItem','userResults','eonerror','wrongCountLx','card_phase_update_actinfo','margin'];a0_0x56f4=function(){return _0x1c96b8;};return a0_0x56f4();}function showConfirmDialog(_0x22567a,_0x1a539b){const _0x4f9d66=a0_0x4563cc;_0x1a539b=Object[_0x4f9d66(0x222)]({'baseElement':document['body'],'focusable':![],'yesLabel':'OK','noLabel':_0x4f9d66(0x1c4),'defaultIsYes':!![],'positionElement':window},_0x1a539b);const _0x2870c9=_0x1a539b[_0x4f9d66(0x2b3)],_0x2013c2=_0x1a539b['focusable'],_0x1e5d54=_0x1a539b[_0x4f9d66(0x1ef)],_0xce06d4=_0x1a539b['noLabel'],_0x4b7dbe=_0x1a539b[_0x4f9d66(0x246)],_0x110c11=_0x1a539b[_0x4f9d66(0x2d4)],_0x274b6b=_0xce06d4==='',_0x3f140c=newElem('button',[_0x1e5d54]),_0x34501f=newElem('button',[_0xce06d4]);_0x274b6b&&(_0x34501f[_0x4f9d66(0x189)][_0x4f9d66(0x2cb)]=_0x4f9d66(0x172));const _0x2ba00c=_0x274b6b?[_0x3f140c]:[_0x3f140c,_0x34501f],_0xd62ff3=newElem('div',_0x2ba00c),_0x586af3=newElem(_0x4f9d66(0x169),[_0x22567a,newElem('hr'),_0xd62ff3],[_0x4f9d66(0x16a)]),_0x2677c1=newElem(_0x4f9d66(0x169)),_0x169a5a=0xf423f;_0x586af3[_0x4f9d66(0x189)][_0x4f9d66(0x21e)]=_0x4f9d66(0x214),_0x586af3[_0x4f9d66(0x189)]['zIndex']=_0x169a5a,_0x586af3[_0x4f9d66(0x189)][_0x4f9d66(0x297)]=_0x4f9d66(0x23a),_0x586af3[_0x4f9d66(0x189)][_0x4f9d66(0x2d5)]=_0x4f9d66(0x2df),_0x586af3[_0x4f9d66(0x189)][_0x4f9d66(0x28d)]='solid\x20#DDDDDD\x203px',_0x586af3['style'][_0x4f9d66(0x18d)]='20px',_0x586af3[_0x4f9d66(0x189)][_0x4f9d66(0x275)]=0x0,_0x586af3[_0x4f9d66(0x189)][_0x4f9d66(0x1b8)]='5px\x2030px\x2010px',_0x586af3[_0x4f9d66(0x189)][_0x4f9d66(0x1af)]=_0x4f9d66(0x1a8),_0xd62ff3[_0x4f9d66(0x189)][_0x4f9d66(0x2cb)]=_0x4f9d66(0x197),_0xd62ff3[_0x4f9d66(0x189)]['justifyContent']=_0x4f9d66(0x204),_0x2677c1[_0x4f9d66(0x189)][_0x4f9d66(0x21e)]=_0x4f9d66(0x214),_0x2677c1[_0x4f9d66(0x189)][_0x4f9d66(0x230)]=_0x169a5a-0x1,_0x2677c1['style'][_0x4f9d66(0x1b2)]=0x0,_0x2677c1[_0x4f9d66(0x189)][_0x4f9d66(0x232)]=0x0,_0x2677c1[_0x4f9d66(0x189)][_0x4f9d66(0x287)]=_0x4f9d66(0x1ff),_0x2677c1[_0x4f9d66(0x189)][_0x4f9d66(0x292)]=_0x4f9d66(0x1ff),_0x2677c1['style'][_0x4f9d66(0x28d)]=_0x4f9d66(0x1e5),_0x2677c1[_0x4f9d66(0x189)][_0x4f9d66(0x1b8)]='0px',_0x2677c1[_0x4f9d66(0x189)]['margin']=_0x4f9d66(0x1e5),_0x2677c1['style'][_0x4f9d66(0x1af)]=_0x4f9d66(0x2ee),_0x2677c1[_0x4f9d66(0x189)][_0x4f9d66(0x225)]=0.3;!_0x22567a['style']['margin']&&!_0x22567a['style'][_0x4f9d66(0x1c0)]&&!_0x22567a[_0x4f9d66(0x189)][_0x4f9d66(0x193)]&&(_0x22567a[_0x4f9d66(0x189)][_0x4f9d66(0x275)]=_0x4f9d66(0x1f1));const _0x3df29d=function(_0x358ff5){const _0x3bba74=_0x4f9d66,_0x1b2826=_0x358ff5[0x0],_0xdba9cc=_0x358ff5[_0x358ff5[_0x3bba74(0x1b0)]-0x1],_0x304e69=[_0xdba9cc,_0x358ff5,_0x1b2826][_0x3bba74(0x249)]();return _0x5387c8=>{const _0x272510=_0x3bba74;if(_0x5387c8[_0x272510(0x2e7)]===_0x272510(0x235)&&!_0x5387c8['altKey']&&!_0x5387c8['ctrlKey']&&!_0x5387c8[_0x272510(0x295)]){_0x5387c8[_0x272510(0x1cb)](),_0x5387c8['preventDefault']();const _0x312046=_0x304e69['indexOf'](_0x5387c8[_0x272510(0x2a6)],0x1);_0x312046===-0x1?(_0x5387c8[_0x272510(0x1d1)]?_0xdba9cc:_0x1b2826)[_0x272510(0x2cf)]():_0x304e69[_0x312046+(_0x5387c8['shiftKey']?-0x1:0x1)]['focus']();}else _0x5387c8[_0x272510(0x2e7)]==='Escape'&&!_0x5387c8[_0x272510(0x1ab)]&&!_0x5387c8[_0x272510(0x279)]&&!_0x5387c8[_0x272510(0x1d1)]&&!_0x5387c8[_0x272510(0x295)]&&(_0x5387c8[_0x272510(0x1cb)](),_0x5387c8[_0x272510(0x1a6)](),_0x34501f[_0x272510(0x248)]());};},_0x4de1f7=Array[_0x4f9d66(0x183)](_0x2013c2)?_0x2013c2[_0x4f9d66(0x1e4)](_0x2ba00c):_0x2ba00c,_0x164753=_0x3df29d(_0x4de1f7);_0x4de1f7[_0x4f9d66(0x1e4)](_0x586af3,_0x2677c1)[_0x4f9d66(0x25f)](_0x1aea4c=>{const _0x113f3d=_0x4f9d66;_0x1aea4c[_0x113f3d(0x1bd)]('keydown',_0x164753),_0x1aea4c[_0x113f3d(0x1bd)]('keypress',_0x164753);}),_0x2870c9[_0x4f9d66(0x2cd)](_0x2677c1),_0x2870c9[_0x4f9d66(0x2cd)](_0x586af3);const _0x265876=window[_0x4f9d66(0x1c9)](_0x586af3),_0x193338=_0x110c11===window?{'width':window[_0x4f9d66(0x26e)],'height':window['innerHeight']}:_0x110c11['getBoundingClientRect']();return _0x586af3['style'][_0x4f9d66(0x1b2)]=(_0x193338[_0x4f9d66(0x292)]-parseInt(_0x265876[_0x4f9d66(0x292)],0xa))/0x2+'px',_0x586af3[_0x4f9d66(0x189)]['left']=(_0x193338[_0x4f9d66(0x287)]-parseInt(_0x265876[_0x4f9d66(0x287)],0xa))/0x2+'px',_0x274b6b||_0x4b7dbe?_0x3f140c[_0x4f9d66(0x2cf)]():_0x34501f[_0x4f9d66(0x2cf)](),new Promise((_0x425d0a,_0x1846b8)=>{const _0x302c9b=_0x4f9d66;_0x3f140c[_0x302c9b(0x1bd)](_0x302c9b(0x248),()=>{const _0xc46ca4=_0x302c9b;_0x2ba00c[_0xc46ca4(0x25f)](_0x34648c=>_0x34648c['setAttribute'](_0xc46ca4(0x1ae),_0xc46ca4(0x1ae))),_0x2870c9[_0xc46ca4(0x2bd)](_0x2677c1),_0x2870c9[_0xc46ca4(0x2bd)](_0x586af3),_0x425d0a(!![]);}),_0x34501f['addEventListener'](_0x302c9b(0x248),()=>{const _0x1d69d5=_0x302c9b;_0x2ba00c['forEach'](_0x372c96=>_0x372c96[_0x1d69d5(0x2bb)](_0x1d69d5(0x1ae),'disabled')),_0x2870c9[_0x1d69d5(0x2bd)](_0x2677c1),_0x2870c9[_0x1d69d5(0x2bd)](_0x586af3),_0x425d0a(![]);});});}function drawDonutsCircle(_0x4a1a51,_0x38fdcf,_0x123bc9,_0x329f6f,_0x3c77a3){_0x4a1a51['save'](),_0x4a1a51['beginPath'](),_0x4a1a51['arc'](_0x38fdcf,_0x123bc9,_0x329f6f-0x2*_0x3c77a3,0x0,0x2*Math['PI'],!![]),_0x4a1a51['arc'](_0x38fdcf,_0x123bc9,_0x329f6f,0x0,0x2*Math['PI'],![]),_0x4a1a51['fill'](),_0x4a1a51['restore']();}function drawRoundedXMark(_0x17244b,_0x1bc6bd,_0x2e1ea8,_0x4581a6,_0x8886be){const _0x129edd=a0_0x4563cc,_0x5ba178=_0x8886be,_0x1b6fce=_0x5ba178/Math['SQRT2'],_0x48c63a=_0x1b6fce*0x2,_0x4c85c5=_0x1bc6bd-_0x4581a6,_0x363fee=_0x1bc6bd,_0x19a64b=_0x1bc6bd+_0x4581a6,_0x2b007c=_0x2e1ea8-_0x4581a6,_0x2fcd5f=_0x2e1ea8,_0x5f21d0=_0x2e1ea8+_0x4581a6;_0x17244b[_0x129edd(0x213)](),_0x17244b[_0x129edd(0x1e6)](),_0x17244b[_0x129edd(0x1f9)](_0x4c85c5+_0x48c63a,_0x2b007c),_0x17244b[_0x129edd(0x276)](_0x363fee,_0x2fcd5f-_0x48c63a),_0x17244b['lineTo'](_0x19a64b-_0x48c63a,_0x2b007c),_0x17244b[_0x129edd(0x260)](_0x19a64b-_0x1b6fce,_0x2b007c+_0x1b6fce,_0x5ba178,Math['PI']*0x5/0x4,Math['PI']*0x9/0x4),_0x17244b[_0x129edd(0x276)](_0x19a64b,_0x2b007c+_0x48c63a),_0x17244b[_0x129edd(0x276)](_0x363fee+_0x48c63a,_0x2fcd5f),_0x17244b[_0x129edd(0x276)](_0x19a64b,_0x5f21d0-_0x48c63a),_0x17244b[_0x129edd(0x260)](_0x19a64b-_0x1b6fce,_0x5f21d0-_0x1b6fce,_0x5ba178,Math['PI']*0x7/0x4,Math['PI']*0xb/0x4),_0x17244b[_0x129edd(0x276)](_0x19a64b-_0x48c63a,_0x5f21d0),_0x17244b['lineTo'](_0x363fee,_0x2fcd5f+_0x48c63a),_0x17244b['lineTo'](_0x4c85c5+_0x48c63a,_0x5f21d0),_0x17244b['arc'](_0x4c85c5+_0x1b6fce,_0x5f21d0-_0x1b6fce,_0x5ba178,Math['PI']*0x1/0x4,Math['PI']*0x5/0x4),_0x17244b[_0x129edd(0x276)](_0x4c85c5,_0x5f21d0-_0x48c63a),_0x17244b[_0x129edd(0x276)](_0x363fee-_0x48c63a,_0x2fcd5f),_0x17244b[_0x129edd(0x276)](_0x4c85c5,_0x2b007c+_0x48c63a),_0x17244b[_0x129edd(0x260)](_0x4c85c5+_0x1b6fce,_0x2b007c+_0x1b6fce,_0x5ba178,Math['PI']*0x3/0x4,Math['PI']*0x7/0x4),_0x17244b[_0x129edd(0x191)](),_0x17244b['restore']();}function roundedRect(_0x5cd1eb,_0x2bd9c7,_0x40e860,_0x535f67,_0x1713f1,_0x4598d8,_0x5ca948=a0_0x4563cc(0x1a8)){const _0x1eff51=a0_0x4563cc;_0x5cd1eb[_0x1eff51(0x213)](),_0x5cd1eb[_0x1eff51(0x28b)]=_0x5ca948,_0x5cd1eb[_0x1eff51(0x20e)]=_0x5ca948,_0x5cd1eb['beginPath'](),_0x5cd1eb[_0x1eff51(0x1f9)](_0x2bd9c7,_0x40e860+_0x4598d8),_0x5cd1eb[_0x1eff51(0x276)](_0x2bd9c7,_0x40e860+_0x1713f1-_0x4598d8),_0x5cd1eb[_0x1eff51(0x28a)](_0x2bd9c7,_0x40e860+_0x1713f1,_0x2bd9c7+_0x4598d8,_0x40e860+_0x1713f1,_0x4598d8),_0x5cd1eb[_0x1eff51(0x276)](_0x2bd9c7+_0x535f67-_0x4598d8,_0x40e860+_0x1713f1),_0x5cd1eb[_0x1eff51(0x28a)](_0x2bd9c7+_0x535f67,_0x40e860+_0x1713f1,_0x2bd9c7+_0x535f67,_0x40e860+_0x1713f1-_0x4598d8,_0x4598d8),_0x5cd1eb['lineTo'](_0x2bd9c7+_0x535f67,_0x40e860+_0x4598d8),_0x5cd1eb[_0x1eff51(0x28a)](_0x2bd9c7+_0x535f67,_0x40e860,_0x2bd9c7+_0x535f67-_0x4598d8,_0x40e860,_0x4598d8),_0x5cd1eb[_0x1eff51(0x276)](_0x2bd9c7+_0x4598d8,_0x40e860),_0x5cd1eb['arcTo'](_0x2bd9c7,_0x40e860,_0x2bd9c7,_0x40e860+_0x4598d8,_0x4598d8),_0x5cd1eb[_0x1eff51(0x191)](),_0x5cd1eb[_0x1eff51(0x1d9)]();}function toRelativeName(_0x235c7b){const _0x175954=a0_0x4563cc;return/:\/\//['test'](_0x235c7b)?_0x235c7b:/^[.\/]/[_0x175954(0x215)](_0x235c7b)?_0x235c7b:'./'+_0x235c7b;}function getDir(_0x310fdf){const _0x15d7f6=a0_0x4563cc;return _0x310fdf[_0x15d7f6(0x202)](/[^/]+$/,'');}const treatObjectRec=(_0x311862,_0x523308)=>{const _0x39d3dc=a0_0x4563cc,_0x1df950=_0x137c19=>_0x137c19!==null&&typeof _0x137c19===_0x39d3dc(0x239)&&!Array['isArray'](_0x137c19);if(_0x1df950(_0x311862)){const _0x323630={'parent':_0x311862};return _0x523308[_0x39d3dc(0x187)]?.(_0x311862,_0x323630),Object[_0x39d3dc(0x1ea)](_0x311862)[_0x39d3dc(0x25f)](_0x391897=>{const _0x2c21f3=_0x39d3dc;_0x523308[_0x2c21f3(0x168)]?.(_0x311862[_0x391897],_0x391897,_0x323630);const _0x515d12=treatObjectRec(_0x311862[_0x391897],_0x523308);_0x523308['afterObjectItem']?.(_0x311862[_0x391897],_0x391897,_0x323630,_0x515d12);}),_0x523308[_0x39d3dc(0x22d)]?.(_0x311862,_0x323630)??_0x311862;}else{if(Array[_0x39d3dc(0x183)](_0x311862)){const _0x8cafb4={'parent':_0x311862};return _0x523308[_0x39d3dc(0x21f)]?.(_0x311862,_0x8cafb4),_0x311862[_0x39d3dc(0x25f)]((_0x3ebc14,_0x492758)=>{const _0x5e86f7=_0x39d3dc;_0x523308[_0x5e86f7(0x1ee)]?.(_0x3ebc14,_0x492758,_0x8cafb4);const _0x504b4f=treatObjectRec(_0x3ebc14,_0x523308);_0x523308[_0x5e86f7(0x29c)]?.(_0x3ebc14,_0x492758,_0x8cafb4,_0x504b4f);}),_0x523308[_0x39d3dc(0x28f)]?.(_0x311862,_0x8cafb4)??_0x311862;}else{if(typeof _0x311862==='function')return _0x523308[_0x39d3dc(0x1d8)]?.(_0x311862)??_0x311862;else{if(typeof _0x311862===_0x39d3dc(0x2b6))return(_0x523308[_0x39d3dc(0x19b)]??_0x523308[_0x39d3dc(0x24c)])?.(_0x311862)??_0x311862;else{if(typeof _0x311862===_0x39d3dc(0x27c))return(_0x523308[_0x39d3dc(0x282)]??_0x523308[_0x39d3dc(0x24c)])?.(_0x311862)??_0x311862;else{if(typeof _0x311862==='bigint')return(_0x523308[_0x39d3dc(0x1b9)]??_0x523308[_0x39d3dc(0x24c)])?.(_0x311862)??_0x311862;else{if(typeof _0x311862==='string')return(_0x523308[_0x39d3dc(0x2ab)]??_0x523308[_0x39d3dc(0x24c)])?.(_0x311862)??_0x311862;else{if(typeof _0x311862===_0x39d3dc(0x2b7))return(_0x523308[_0x39d3dc(0x234)]??_0x523308[_0x39d3dc(0x24c)])?.(_0x311862)??_0x311862;else{if(typeof _0x311862==='undefined'||_0x311862===null)return(_0x523308[_0x39d3dc(0x299)]??_0x523308[_0x39d3dc(0x24c)])?.(_0x311862)??_0x311862;}}}}}}}}},deepAssign=(_0x522d20,..._0x54f35b)=>{const _0x23c833=a0_0x4563cc,_0x36eedd=(_0x4df1db,_0x54cd2d)=>{let _0x753a77=_0x4df1db;return treatObjectRec(_0x54cd2d,{'beforeObject':(_0x12e83e,_0x3d612f)=>{const _0x4c71c9=a0_0x362d;_0x3d612f[_0x4c71c9(0x27f)]=_0x753a77??{};},'beforeObjectItem':(_0x56dd0f,_0x1a6155,_0x428e60,_0x2e0e82)=>{const _0x4dd2b9=a0_0x362d;_0x753a77=_0x428e60[_0x4dd2b9(0x27f)][_0x1a6155];},'afterObjectItem':(_0x2884ce,_0x322d8a,_0x23ac2f,_0x12c785)=>{const _0x33593e=a0_0x362d;_0x23ac2f[_0x33593e(0x27f)][_0x322d8a]=_0x12c785;},'afterObject':(_0x5c9155,_0x473c2c)=>{const _0x4550f2=a0_0x362d;return _0x473c2c[_0x4550f2(0x27f)];},'beforeArray':(_0x63a6f5,_0x43c667)=>{const _0x1cb2f4=a0_0x362d;_0x43c667[_0x1cb2f4(0x27f)]=[];},'beforeArrayItem':(_0x160cb3,_0x54c48d,_0x1e3849)=>{_0x753a77={};},'afterArrayItem':(_0x4a475a,_0x54ca23,_0x254b00,_0xc4f820)=>{const _0x128b69=a0_0x362d;_0x254b00[_0x128b69(0x27f)][_0x54ca23]=_0xc4f820;},'afterArray':(_0x594fe2,_0x98f649)=>{const _0x1db4c3=a0_0x362d;return _0x98f649[_0x1db4c3(0x27f)];}});},_0x5791e2=_0x5a8ed1=>_0x5a8ed1!==null&&typeof _0x5a8ed1===_0x23c833(0x239)&&!Array[_0x23c833(0x183)](_0x5a8ed1);return(_0x54f35b??[])[_0x23c833(0x2f2)]((_0x3b96f6,_0x9fddd7)=>{return _0x5791e2(_0x9fddd7)?_0x36eedd(_0x3b96f6,_0x9fddd7):_0x3b96f6;},_0x522d20);};(async _0x1edd2e=>{const _0x389b1e=a0_0x4563cc,_0x2f4938=(_0x1edd2e[_0x389b1e(0x201)]??_0x389b1e(0x1ba))+_0x389b1e(0x1f4);{const _0x92fb3d=new URL(window[_0x389b1e(0x2d9)])[_0x389b1e(0x198)];_0x92fb3d[_0x389b1e(0x28e)](_0x389b1e(0x23b))&&(_0x1edd2e['debug']=!![]);{const _0x102a2b=['paramScript','paramscript','ps'][_0x389b1e(0x2f4)](_0x4f1daf=>_0x92fb3d['get'](_0x4f1daf))[_0x389b1e(0x18a)](_0x37adc9=>_0x37adc9)||_0x1edd2e['paramScriptName'];if(_0x102a2b){const _0x4a5301=(await import(toRelativeName(_0x102a2b)))['default'],_0x3843b9=getDir(_0x102a2b);/\/$/[_0x389b1e(0x215)](_0x3843b9)&&treatObjectRec(_0x4a5301,{'afterObjectItem':(_0x26fba7,_0x5eddb4,_0x29641d)=>{const _0x2e59b2=_0x389b1e;typeof _0x26fba7===_0x2e59b2(0x2e3)&&/path$/i[_0x2e59b2(0x215)](_0x5eddb4)&&(_0x29641d['parent'][_0x5eddb4]=_0x3843b9+_0x26fba7);}}),_0x1edd2e=deepAssign({},_0x1edd2e,_0x4a5301);}}_0x1edd2e[_0x389b1e(0x23b)]&&console[_0x389b1e(0x21a)](_0x389b1e(0x1da),_0x1edd2e);}const _0xf9ed39={'isOwner':![],'mode':'loginArea','userName':null,'roomName':null},_0x45ca6e={'originalCards':_0x1edd2e[_0x389b1e(0x293)]},_0x12ede4={'loaded':![],'playOrNop':_0x1b0f68=>{const _0x437b98=_0x389b1e;_0x1b0f68&&(_0x1b0f68['currentTime']=0x0,_0x1b0f68[_0x437b98(0x1f3)]?.());},'playSound':_0x5607a6=>{const _0x2aef5c=_0x389b1e;_0x5607a6[_0x2aef5c(0x2e6)]=0x0,_0x5607a6[_0x2aef5c(0x1f3)]?.();}},_0x1dcaeb={};{_0x1edd2e[_0x389b1e(0x237)][_0x389b1e(0x2ba)]&&(document[_0x389b1e(0x2ba)]=_0x1edd2e[_0x389b1e(0x237)]['title'],(document['querySelector']('h1')??{})[_0x389b1e(0x1b7)]=_0x1edd2e[_0x389b1e(0x237)]['title']),_0x1edd2e['pageOptions'][_0x389b1e(0x24f)]&&document[_0x389b1e(0x219)]('footer')['insertAdjacentHTML']('afterbegin',_0x1edd2e[_0x389b1e(0x237)]['referenceHTML']);}{const _0x1e5ebc=window['localStorage']?JSON['parse'](window[_0x389b1e(0x1e3)][_0x389b1e(0x270)](_0x2f4938)):null,_0x5e0cf3=(_0x12b538,_0x1ca257)=>_0x1e5ebc?.[_0x12b538]??_0x1ca257,_0x582c85=document[_0x389b1e(0x219)](_0x389b1e(0x294)),_0x411f4a=document[_0x389b1e(0x219)](_0x389b1e(0x27a)),_0x4e9222=document['querySelector'](_0x389b1e(0x268)),_0x57ae5d=document['querySelector'](_0x389b1e(0x2e9)),_0x4c0572=document[_0x389b1e(0x219)]('#startPlayButtonArea');_0x1dcaeb[_0x389b1e(0x284)]=()=>{const _0x46d18b=_0x389b1e;_0xf9ed39['mode']='loginArea',_0x582c85[_0x46d18b(0x189)][_0x46d18b(0x2cb)]=_0x46d18b(0x172),_0x411f4a[_0x46d18b(0x189)][_0x46d18b(0x2cb)]=_0x46d18b(0x22a),_0x4e9222[_0x46d18b(0x189)][_0x46d18b(0x2cb)]=_0x46d18b(0x172),_0x57ae5d[_0x46d18b(0x189)][_0x46d18b(0x2cb)]='none',_0x40e3bb[_0x46d18b(0x2cf)]();},_0x1dcaeb[_0x389b1e(0x2eb)]=()=>{const _0x14304b=_0x389b1e;_0xf9ed39['mode']=_0x14304b(0x1f0),_0x582c85[_0x14304b(0x189)][_0x14304b(0x2cb)]=_0x14304b(0x172),_0x411f4a[_0x14304b(0x189)][_0x14304b(0x2cb)]='none',_0x4e9222['style'][_0x14304b(0x2cb)]=_0x14304b(0x22a),_0x57ae5d[_0x14304b(0x189)]['display']='none',_0x435d1a[_0x14304b(0x1b7)]='';},_0x1dcaeb['modeChangeToPlay']=()=>{const _0x21743b=_0x389b1e;_0xf9ed39['mode']='mainArea',_0x582c85[_0x21743b(0x189)][_0x21743b(0x2cb)]=_0x21743b(0x172),_0x411f4a[_0x21743b(0x189)]['display']='none',_0x4e9222[_0x21743b(0x189)]['display']='none',_0x57ae5d['style'][_0x21743b(0x2cb)]='block';};const _0x2896ac=document['querySelector'](_0x389b1e(0x192)),_0x23faf6=document[_0x389b1e(0x219)](_0x389b1e(0x29a)),_0x583a27=document[_0x389b1e(0x219)](_0x389b1e(0x1c5)),_0xe200d9=document[_0x389b1e(0x219)](_0x389b1e(0x1c7)),_0x5c7b22=document[_0x389b1e(0x219)](_0x389b1e(0x25d)),_0x5b5e66=document['querySelector'](_0x389b1e(0x211)),_0x40e3bb=document[_0x389b1e(0x219)](_0x389b1e(0x1bf)),_0x2352a2=document[_0x389b1e(0x219)](_0x389b1e(0x2b8)),_0x435d1a=document['querySelector'](_0x389b1e(0x265));_0x40e3bb['setAttribute']('placeholder',_0x389b1e(0x253)),_0x2352a2['setAttribute']('placeholder',_0x389b1e(0x253)),_0x40e3bb[_0x389b1e(0x1bd)](_0x389b1e(0x1aa),_0x299ec5=>{const _0x26404c=_0x389b1e;!_0x299ec5[_0x26404c(0x1dd)]&&_0x299ec5[_0x26404c(0x2e7)]==='Enter'&&_0x2352a2['focus']();}),_0x2352a2[_0x389b1e(0x1bd)](_0x389b1e(0x1aa),_0x37b1b4=>{const _0x376b82=_0x389b1e;!_0x37b1b4[_0x376b82(0x1dd)]&&_0x37b1b4[_0x376b82(0x1d1)]&&_0x37b1b4[_0x376b82(0x2e7)]==='Enter'&&_0x40e3bb['focus'](),!_0x37b1b4[_0x376b82(0x1dd)]&&!_0x37b1b4[_0x376b82(0x1d1)]&&_0x37b1b4['key']===_0x376b82(0x17f)&&_0x583a27['focus']();}),_0x40e3bb[_0x389b1e(0x245)]=_0x5e0cf3('userName',_0x1edd2e[_0x389b1e(0x236)]['userName']),_0x2352a2[_0x389b1e(0x245)]=_0x5e0cf3('roomName',_0x1edd2e[_0x389b1e(0x236)][_0x389b1e(0x21d)]);const _0x4b0c62=_0x5eb69d=>{const _0x40505d=_0x389b1e;_0xf9ed39[_0x40505d(0x21d)]=_0x2352a2['value'][_0x40505d(0x2d6)](),_0xf9ed39[_0x40505d(0x1d5)]=_0x40e3bb[_0x40505d(0x245)][_0x40505d(0x2d6)](),window['localStorage']&&window[_0x40505d(0x1e3)][_0x40505d(0x2da)](_0x2f4938,JSON[_0x40505d(0x255)]({'roomName':_0xf9ed39['roomName'],'userName':_0xf9ed39['userName']})),_0x5602c7[_0x40505d(0x2ac)](_0x40505d(0x2dd),{'appId':_0x1edd2e['appId'],'dataId':_0x1edd2e[_0x40505d(0x29f)],'roomName':_0xf9ed39['roomName'],'userName':_0xf9ed39[_0x40505d(0x1d5)]});};_0x583a27['addEventListener'](_0x389b1e(0x248),_0x4b0c62),_0xe200d9[_0x389b1e(0x1bd)]('click',_0x567e8b=>{const _0x4af48f=_0x389b1e;_0x5602c7[_0x4af48f(0x2ac)]('leave_room',{});});const _0x1bd038=0x2;_0x5c7b22['addEventListener']('blur',()=>{const _0xf09059=_0x389b1e,_0x8fbdae=_0x12ede4[_0xf09059(0x293)][_0xf09059(0x224)],_0x29f24a=parseInt(_0x5c7b22['value'],0x0),_0x12c378=!Number[_0xf09059(0x229)](_0x29f24a)?_0x8fbdae:_0x29f24a>_0x8fbdae?_0x8fbdae:_0x29f24a<_0x1bd038?_0x1bd038:_0x29f24a;_0x5c7b22[_0xf09059(0x245)]=_0x12c378,_0x1dcaeb[_0xf09059(0x176)]=_0x12c378;}),_0x5b5e66['addEventListener']('click',_0x431849=>{const _0x38705a=_0x389b1e;_0x5602c7[_0x38705a(0x2ac)](_0x38705a(0x2c5),{'cards':_0x45ca6e[_0x38705a(0x1d3)],'useCardCount':_0x1dcaeb[_0x38705a(0x176)]});}),_0x1dcaeb[_0x389b1e(0x2d2)]=_0x195407=>{const _0x45c989=_0x389b1e;_0x45ca6e[_0x45c989(0x231)]&&_0x45ca6e['currentCard']['sound']?.['pause']?.();_0xe200d9[_0x45c989(0x188)]['removeChild'](_0xe200d9);while(_0x23faf6[_0x45c989(0x2ae)]){_0x23faf6['removeChild'](_0x23faf6[_0x45c989(0x2ae)]);}const _0x4fb018=_0x195407[_0x45c989(0x210)]['map'](_0x186c21=>{const _0x335747=_0x45c989;return newElem('tr',[newElem('td',_0x186c21===_0x195407[_0x335747(0x263)]?['✔']:[]),newElem('td',[_0x186c21],_0x186c21===_0xf9ed39['userName']?['my-name']:[]),newElem('td',_0x186c21===_0xf9ed39['userName']?[_0xe200d9]:[])]);})[_0x45c989(0x2f2)]((_0x58dc18,_0x42e63c)=>{const _0x5ec031=_0x45c989;return _0x58dc18[_0x5ec031(0x2cd)](_0x42e63c),_0x58dc18;},document[_0x45c989(0x2aa)]());;_0x23faf6['appendChild'](_0x4fb018),_0xf9ed39[_0x45c989(0x2f5)]=_0x195407[_0x45c989(0x263)]===_0xf9ed39['userName'],_0x4c0572['style'][_0x45c989(0x2cb)]=_0xf9ed39[_0x45c989(0x2f5)]?_0x45c989(0x22a):'none',_0xf9ed39[_0x45c989(0x2f5)]&&(_0x5c7b22[_0x45c989(0x2e5)]=_0x1bd038,_0x5c7b22['max']=_0x12ede4[_0x45c989(0x293)]['size'],!_0x5c7b22[_0x45c989(0x245)]&&(_0x5c7b22['value']=_0x1dcaeb[_0x45c989(0x176)]??_0x12ede4[_0x45c989(0x293)][_0x45c989(0x224)])),_0x195407[_0x45c989(0x210)]['length']>=0x2?_0x5b5e66[_0x45c989(0x2a0)]('disabled'):_0x5b5e66['setAttribute'](_0x45c989(0x1ae),!![]),clearInterval(_0x45ca6e[_0x45c989(0x28c)]),_0x47f5dd[_0x45c989(0x17a)]('click',_0x45ca6e['cardClickedCallback']),_0x47f5dd['removeEventListener']('click',_0x45ca6e[_0x45c989(0x19d)]);},_0x1dcaeb['showLoginErrorMessage']=_0x4b3960=>{_0x435d1a['textContent']=_0x4b3960;},_0x1dcaeb[_0x389b1e(0x1fb)]=_0x3fb3c0=>{const _0x2e9b43=_0x389b1e;_0x40e3bb[_0x2e9b43(0x2bb)]('maxlength',_0x3fb3c0[_0x2e9b43(0x27e)]),_0x40e3bb[_0x2e9b43(0x2bb)](_0x2e9b43(0x16b),_0x3fb3c0['userNameMaxLength']+'文字以内の任意のテキスト'),_0x1edd2e[_0x2e9b43(0x23b)]&&(_0x40e3bb['value']=_0x3fb3c0[_0x2e9b43(0x1d5)]);};}const _0x47c1b2=async()=>{const _0x21623f=_0x389b1e;if(_0x12ede4[_0x21623f(0x291)])return;console[_0x21623f(0x21a)]('start\x20loadResources');const _0x41a218=await Promise[_0x21623f(0x27d)]([_0x1edd2e[_0x21623f(0x1f6)][_0x21623f(0x18b)],_0x1edd2e[_0x21623f(0x1f6)][_0x21623f(0x165)],_0x1edd2e[_0x21623f(0x1f6)][_0x21623f(0x1e9)],_0x1edd2e[_0x21623f(0x1f6)][_0x21623f(0x25c)],_0x1edd2e[_0x21623f(0x1f6)][_0x21623f(0x2ce)],_0x1edd2e[_0x21623f(0x1f6)][_0x21623f(0x241)],_0x1edd2e[_0x21623f(0x1f6)][_0x21623f(0x296)]][_0x21623f(0x2f4)](loadSyncAudio));_0x41a218['forEach'](_0x1fbe40=>{const _0x24c52f=_0x21623f;_0x1fbe40[_0x24c52f(0x16d)]=_0x1edd2e[_0x24c52f(0x1f6)]['effectVolume'];}),_0x12ede4[_0x21623f(0x2d1)]=_0x41a218[_0x21623f(0x1ca)](),_0x12ede4[_0x21623f(0x1c2)]=_0x41a218['shift'](),_0x12ede4['takenSound']=_0x41a218[_0x21623f(0x1ca)](),_0x12ede4[_0x21623f(0x162)]=_0x41a218[_0x21623f(0x1ca)](),_0x12ede4[_0x21623f(0x2af)]=_0x41a218[_0x21623f(0x1ca)](),_0x12ede4[_0x21623f(0x2c2)]=_0x41a218['shift'](),_0x12ede4[_0x21623f(0x2ad)]=_0x41a218[_0x21623f(0x1ca)](),_0x12ede4[_0x21623f(0x24e)]=_0x1edd2e['endCardSettings'][_0x21623f(0x2dc)]?await loadSyncAudio(_0x1edd2e[_0x21623f(0x2ec)][_0x21623f(0x2dc)]):null,_0x12ede4[_0x21623f(0x19a)]=_0x1edd2e[_0x21623f(0x2ec)][_0x21623f(0x200)]?await loadSyncImage(_0x1edd2e[_0x21623f(0x2ec)]['imgPath']):null;const _0x5462ff=_0x1edd2e['cards']['filter'](_0x2b6233=>_0x2b6233[_0x21623f(0x200)]&&_0x2b6233[_0x21623f(0x2dc)]),_0xd8244=await Promise[_0x21623f(0x27d)](_0x5462ff[_0x21623f(0x2f4)](_0xc50ca7=>_0xc50ca7[_0x21623f(0x200)])[_0x21623f(0x2f4)](loadSyncImage)),_0x443f3d=_0xd8244['map'](_0x2cec5e=>{const _0x48ba62=_0x21623f,_0x23d8a6=document[_0x48ba62(0x220)]('canvas');_0x23d8a6[_0x48ba62(0x287)]=_0x1edd2e[_0x48ba62(0x22b)][_0x48ba62(0x1c6)]+0x2*_0x1edd2e[_0x48ba62(0x22b)][_0x48ba62(0x1fa)],_0x23d8a6['height']=_0x1edd2e['cardSettings'][_0x48ba62(0x26b)]+0x2*_0x1edd2e[_0x48ba62(0x22b)][_0x48ba62(0x1fa)];const _0x243cf1=_0x23d8a6[_0x48ba62(0x206)]('2d');return _0x243cf1[_0x48ba62(0x20e)]=_0x1edd2e['cardSettings'][_0x48ba62(0x1ac)],_0x243cf1[_0x48ba62(0x256)](0x0,0x0,_0x23d8a6['width'],_0x23d8a6[_0x48ba62(0x292)]),_0x243cf1[_0x48ba62(0x2ea)](_0x2cec5e,_0x1edd2e[_0x48ba62(0x22b)][_0x48ba62(0x1fa)],_0x1edd2e[_0x48ba62(0x22b)]['borderSize'],_0x1edd2e[_0x48ba62(0x22b)][_0x48ba62(0x1c6)],_0x1edd2e[_0x48ba62(0x22b)][_0x48ba62(0x26b)]),_0x23d8a6;}),_0x416e67=await Promise['all'](_0x5462ff[_0x21623f(0x2f4)](_0x362cf9=>_0x362cf9['soundPath'])[_0x21623f(0x2f4)](loadSyncAudio));_0x416e67[_0x21623f(0x25f)](_0x50a67a=>{const _0x3ec62a=_0x21623f;_0x50a67a[_0x3ec62a(0x17b)]=!![],_0x50a67a[_0x3ec62a(0x16d)]=_0x1edd2e[_0x3ec62a(0x1f6)]['voiceVolume'];}),_0x12ede4[_0x21623f(0x293)]=new Map(),_0x5462ff[_0x21623f(0x25f)]((_0x51bf96,_0xea77c3)=>{const _0x3c6fcc=_0x21623f;_0x12ede4[_0x3c6fcc(0x293)]['set'](_0x51bf96['id'],{'img':_0x443f3d[_0xea77c3],'sound':_0x416e67[_0xea77c3]});}),_0x12ede4[_0x21623f(0x291)]=!![],_0x1edd2e[_0x21623f(0x23b)]?console[_0x21623f(0x21a)](_0x21623f(0x26f),_0x12ede4):console[_0x21623f(0x21a)](_0x21623f(0x26f));};await _0x47c1b2();const _0x5602c7=io[_0x389b1e(0x252)]();_0x5602c7['on'](_0x389b1e(0x288),_0x4bda81=>{_0x1dcaeb['onInitialize'](_0x4bda81),_0x1dcaeb['modeChangeToLogin']();}),_0x5602c7['on']('joinroom_playing_now',_0x3a5dc1=>{const _0x226eb3=_0x389b1e;_0x1dcaeb[_0x226eb3(0x1cf)]('プレイ中の部屋は入室できません...\x27'+_0x3a5dc1[_0x226eb3(0x21d)]+'\x27');}),_0x5602c7['on'](_0x389b1e(0x2a9),_0x32ffd6=>{const _0x117842=_0x389b1e;_0x1dcaeb[_0x117842(0x1cf)](_0x117842(0x1f7)+_0x32ffd6[_0x117842(0x1d5)]+_0x117842(0x1dc)+_0x32ffd6['roomName']+'\x27)');}),_0x5602c7['on'](_0x389b1e(0x1ec),_0x17715b=>{const _0x2783d5=_0x389b1e;_0x1dcaeb[_0x2783d5(0x1cf)](_0x2783d5(0x26c)+_0x17715b['reason']);}),_0x5602c7['on'](_0x389b1e(0x179),_0x2b59fd=>{const _0x4d1c15=_0x389b1e;if(_0xf9ed39[_0x4d1c15(0x2d7)]==='loginArea')_0x1dcaeb[_0x4d1c15(0x2eb)]();else{if(_0xf9ed39[_0x4d1c15(0x2d7)]===_0x4d1c15(0x1f0)){}}_0x1dcaeb[_0x4d1c15(0x2d2)](_0x2b59fd);}),_0x5602c7['on']('leave_room_ok',_0x5dab36=>{_0x1dcaeb['modeChangeToLogin']();}),_0x5602c7['on']('user_disconnect_in_game',async _0x4d3845=>{const _0x55b9ad=_0x389b1e;await showConfirmTextDialog(_0x4d3845[_0x55b9ad(0x286)]+_0x55b9ad(0x1b6),{'noLabel':''}),_0x1dcaeb[_0x55b9ad(0x2eb)](),_0x1dcaeb[_0x55b9ad(0x2d2)](_0x4d3845);}),_0x5602c7['on'](_0x389b1e(0x243),_0x1645b2=>{const _0x352e9a=_0x389b1e;if(_0xf9ed39[_0x352e9a(0x2d7)]===_0x352e9a(0x1f0))return;_0x1dcaeb[_0x352e9a(0x2eb)](),_0x1dcaeb[_0x352e9a(0x2d2)](_0x1645b2);});const _0x47f5dd=document[_0x389b1e(0x219)](_0x389b1e(0x254)),_0x253b88=_0x47f5dd[_0x389b1e(0x206)]('2d'),_0x570213=Object['assign']({},_0x1edd2e[_0x389b1e(0x1ce)]),_0x25485a=Object[_0x389b1e(0x222)]({},_0x1edd2e[_0x389b1e(0x2de)]),_0x5e7005=()=>{const _0x1572ce=_0x389b1e;_0x253b88[_0x1572ce(0x20e)]=_0x25485a[_0x1572ce(0x1af)],_0x253b88[_0x1572ce(0x256)](0x0,0x0,_0x47f5dd[_0x1572ce(0x287)],_0x47f5dd['height']);},_0x26bad3=()=>{const _0x3a6894=_0x389b1e;{const _0xfc28e0=Math[_0x3a6894(0x2e5)](Math[_0x3a6894(0x25b)](window[_0x3a6894(0x26e)]*_0x1edd2e['playmat'][_0x3a6894(0x1b5)]),_0x1edd2e['playmat'][_0x3a6894(0x19c)]),_0x59932c=Math[_0x3a6894(0x2e5)](Math['floor'](window[_0x3a6894(0x1c8)]*_0x1edd2e['playmat'][_0x3a6894(0x181)]),_0x1edd2e[_0x3a6894(0x1fc)][_0x3a6894(0x19c)]);_0x47f5dd['x']=0x0,_0x47f5dd['y']=0x0,_0x47f5dd[_0x3a6894(0x287)]=window[_0x3a6894(0x26e)]-0x2*_0xfc28e0,_0x47f5dd[_0x3a6894(0x292)]=window[_0x3a6894(0x1c8)]-0x2*_0x59932c,_0x47f5dd[_0x3a6894(0x189)][_0x3a6894(0x1d7)]=_0xfc28e0+'px',_0x47f5dd['style'][_0x3a6894(0x1c0)]=_0x59932c+'px',_0x47f5dd['addEventListener'](_0x3a6894(0x2ef),_0x429f8e=>{const _0x21b321=_0x3a6894;_0x429f8e[_0x21b321(0x1a6)]();});}{_0x25485a['x']=0x0,_0x25485a['y']=0x0,_0x25485a[_0x3a6894(0x287)]=_0x47f5dd[_0x3a6894(0x287)]-_0x570213[_0x3a6894(0x287)],_0x25485a[_0x3a6894(0x292)]=_0x47f5dd[_0x3a6894(0x292)],_0x25485a['maskOn']=![],_0x25485a[_0x3a6894(0x257)]=Math[_0x3a6894(0x2e5)](_0x25485a[_0x3a6894(0x287)],_0x25485a[_0x3a6894(0x292)]),_0x25485a['maskMargin']=_0x25485a['maskShortSize']*_0x25485a[_0x3a6894(0x164)][_0x3a6894(0x27b)],_0x25485a[_0x3a6894(0x1ad)]=_0x25485a[_0x3a6894(0x287)]-0x2*_0x25485a['maskMargin'],_0x25485a['maskHeight']=_0x25485a[_0x3a6894(0x292)]-0x2*_0x25485a[_0x3a6894(0x1eb)];}{_0x570213[_0x3a6894(0x292)]=_0x47f5dd[_0x3a6894(0x292)],_0x570213[_0x3a6894(0x16c)]=Math[_0x3a6894(0x298)](_0x570213[_0x3a6894(0x26a)]*_0x570213['lineHeightRate']),_0x570213[_0x3a6894(0x1cd)]=_0x25485a[_0x3a6894(0x287)],_0x570213[_0x3a6894(0x166)]=0x0,_0x570213[_0x3a6894(0x2a2)]=_0x570213[_0x3a6894(0x292)]-_0x570213[_0x3a6894(0x166)],_0x570213['fontText']=_0x570213['fontSize']+'px\x20\x27\x27',_0x570213[_0x3a6894(0x2a1)]=_0x570213[_0x3a6894(0x262)]+_0x3a6894(0x281),_0x570213[_0x3a6894(0x195)]=_0x570213[_0x3a6894(0x1cd)]+_0x570213[_0x3a6894(0x275)];const _0x861640=_0x570213[_0x3a6894(0x1cd)]+_0x570213['width'];let _0x50bf03=_0x861640;_0x570213[_0x3a6894(0x2c6)]=_0x50bf03-=_0x570213['margin'],_0x570213[_0x3a6894(0x273)]=_0x50bf03-=_0x570213[_0x3a6894(0x1b4)],_0x570213[_0x3a6894(0x226)]=_0x50bf03-=_0x570213[_0x3a6894(0x275)],_0x570213[_0x3a6894(0x1a9)]=_0x50bf03-=_0x570213['numberTextWidth'],_0x570213[_0x3a6894(0x2a8)]=_0x50bf03,_0x570213[_0x3a6894(0x29e)]=_0x50bf03-_0x570213[_0x3a6894(0x195)],_0x570213['actLogTextLx']=_0x570213['userNameRx']+_0x570213[_0x3a6894(0x1a4)],_0x570213['actLogTextWidth']=_0x861640-_0x570213[_0x3a6894(0x1a4)]-_0x570213['actLogTextLx'];}};{_0x570213[_0x389b1e(0x1c3)]=(_0x31abbc,_0x26a674=![])=>{const _0x399c99=_0x389b1e;_0x253b88[_0x399c99(0x213)](),_0x253b88[_0x399c99(0x20e)]=_0x570213[_0x399c99(0x1af)],_0x253b88[_0x399c99(0x256)](_0x570213[_0x399c99(0x1cd)],_0x570213[_0x399c99(0x166)],_0x570213[_0x399c99(0x287)],_0x570213[_0x399c99(0x292)]),_0x253b88[_0x399c99(0x28b)]=_0x570213[_0x399c99(0x250)],_0x253b88['textBaseline']='top',_0x253b88['font']=_0x570213[_0x399c99(0x177)],_0x253b88[_0x399c99(0x20e)]=_0x570213[_0x399c99(0x1f5)];let _0x21a6e9=_0x570213['offsetY']+_0x570213[_0x399c99(0x275)];_0x253b88[_0x399c99(0x2c7)]='left',_0x253b88[_0x399c99(0x1a1)](_0x399c99(0x1f2),_0x570213[_0x399c99(0x195)],_0x21a6e9),_0x21a6e9+=_0x570213['lineHeight'],_0x253b88[_0x399c99(0x1a1)](_0x399c99(0x19f)+_0x31abbc[_0x399c99(0x29b)][_0x399c99(0x2d3)]+'枚',_0x570213['textStartX'],_0x21a6e9),_0x21a6e9+=_0x570213[_0x399c99(0x16c)],_0x253b88[_0x399c99(0x1a1)](_0x399c99(0x173)+_0x31abbc[_0x399c99(0x29b)]['rest']+'枚',_0x570213[_0x399c99(0x195)],_0x21a6e9),_0x21a6e9+=_0x570213[_0x399c99(0x16c)],_0x253b88['strokeRect'](_0x570213['textStartX'],_0x21a6e9+_0x570213[_0x399c99(0x16c)]/0x2,_0x570213[_0x399c99(0x287)]-0x2*_0x570213[_0x399c99(0x275)],0x0),_0x21a6e9+=_0x570213[_0x399c99(0x16c)],_0x253b88[_0x399c99(0x2c7)]='left',_0x253b88[_0x399c99(0x1a1)]('取得',_0x570213[_0x399c99(0x1a9)],_0x21a6e9,_0x570213[_0x399c99(0x1b4)]),_0x253b88['fillText']('お手付き',_0x570213['wrongCountLx'],_0x21a6e9,_0x570213[_0x399c99(0x1b4)]),_0x21a6e9+=_0x570213[_0x399c99(0x16c)],_0x31abbc[_0x399c99(0x271)][_0x399c99(0x25f)](_0x24646a=>{const _0x5cd0c7=_0x399c99;_0x253b88['fillStyle']=_0x24646a[_0x5cd0c7(0x1d5)]===_0xf9ed39[_0x5cd0c7(0x1d5)]?_0x570213[_0x5cd0c7(0x2b0)]:_0x570213['otherUserFontColor'],_0x253b88[_0x5cd0c7(0x2c7)]=_0x5cd0c7(0x20d),_0x253b88[_0x5cd0c7(0x1a1)](_0x24646a['userName'],_0x570213[_0x5cd0c7(0x2a8)],_0x21a6e9,_0x570213[_0x5cd0c7(0x29e)]),_0x253b88['fillText'](_0x24646a[_0x5cd0c7(0x18c)]['toString'](),_0x570213[_0x5cd0c7(0x226)],_0x21a6e9,_0x570213[_0x5cd0c7(0x1b4)]),_0x253b88[_0x5cd0c7(0x1a1)](_0x24646a[_0x5cd0c7(0x1e8)][_0x5cd0c7(0x20c)](),_0x570213[_0x5cd0c7(0x2c6)],_0x21a6e9,_0x570213['numberTextWidth']),_0x21a6e9+=_0x570213[_0x5cd0c7(0x16c)];}),_0x253b88[_0x399c99(0x22c)](_0x570213[_0x399c99(0x195)],_0x21a6e9+_0x570213[_0x399c99(0x16c)]/0x2,_0x570213[_0x399c99(0x287)]-0x2*_0x570213[_0x399c99(0x275)],0x0),_0x21a6e9+=_0x570213[_0x399c99(0x16c)],_0x253b88[_0x399c99(0x20e)]=_0x570213[_0x399c99(0x1f5)],_0x253b88['textAlign']=_0x399c99(0x232),_0x253b88[_0x399c99(0x1a1)](_0x399c99(0x290),_0x570213['textStartX'],_0x21a6e9),_0x21a6e9+=_0x570213['lineHeight'],_0x570213[_0x399c99(0x180)]=_0x21a6e9,_0x26a674&&_0x570213[_0x399c99(0x18f)](_0x31abbc[_0x399c99(0x1c1)]),_0x253b88['restore']();},_0x570213[_0x389b1e(0x18f)]=_0x53332f=>{const _0x26eeb8=_0x389b1e;_0x253b88[_0x26eeb8(0x213)](),_0x253b88[_0x26eeb8(0x26d)]=_0x26eeb8(0x1b2),_0x253b88[_0x26eeb8(0x163)]=_0x570213[_0x26eeb8(0x2a1)],_0x253b88[_0x26eeb8(0x20e)]=_0x570213[_0x26eeb8(0x1af)],_0x253b88[_0x26eeb8(0x256)](_0x570213['offsetX'],_0x570213['currentY'],_0x570213[_0x26eeb8(0x287)],_0x570213[_0x26eeb8(0x2a2)]-_0x570213[_0x26eeb8(0x180)]);let _0x1b455a=_0x570213[_0x26eeb8(0x180)];_0x53332f[_0x26eeb8(0x25f)](_0x53c0d3=>{const _0x2be3ff=_0x26eeb8,_0x229668=_0x53c0d3['correct']?_0x53c0d3[_0x2be3ff(0x1df)]+'[sec]':_0x53c0d3['action']===_0x2be3ff(0x248)?'お手付き':_0x53c0d3[_0x2be3ff(0x1b1)]===_0x2be3ff(0x1be)?'':'';_0x229668&&(_0x253b88[_0x2be3ff(0x20e)]=_0x53c0d3[_0x2be3ff(0x1d5)]===_0xf9ed39['userName']?_0x570213['myUserFontColor']:_0x570213['otherUserFontColor'],_0x253b88[_0x2be3ff(0x2c7)]='right',_0x253b88[_0x2be3ff(0x1a1)](_0x53c0d3[_0x2be3ff(0x1d5)],_0x570213[_0x2be3ff(0x2a8)],_0x1b455a,_0x570213[_0x2be3ff(0x29e)]),_0x253b88['textAlign']='left',_0x253b88[_0x2be3ff(0x1a1)](_0x229668,_0x570213['actLogTextLx'],_0x1b455a,_0x570213['actLogTextWidth']),_0x1b455a+=_0x570213[_0x2be3ff(0x16c)]);}),_0x253b88[_0x26eeb8(0x1d9)]();};}const _0x3e9372={};{const _0x4c7093=_0x20c0fa=>{const _0x3a7645=_0x389b1e,_0x276159=_0x20c0fa[_0x3a7645(0x1b0)],_0x39ab2d=_0x1edd2e[_0x3a7645(0x22b)][_0x3a7645(0x1c6)],_0x330adc=_0x1edd2e['cardSettings']['origHeight'],[_0x37c9e6,_0x21e2c6,_0x4cd544,_0x31ad60]=((()=>{const _0xc859e=_0x3a7645,_0x40d2ec=_0x25485a[_0xc859e(0x287)]/_0x39ab2d/(_0x25485a[_0xc859e(0x292)]/_0x330adc);let _0x3312c7,_0x21faf7,_0x324199,_0x12b061;if(_0x40d2ec<0x1){const _0x30dcab=Math['sqrt'](_0x276159*_0x40d2ec);_0x324199=Math[_0xc859e(0x298)](_0x30dcab),_0x12b061=Math['floor'](_0x30dcab),_0x3312c7=Math[_0xc859e(0x298)](_0x276159/_0x324199),_0x21faf7=Math[_0xc859e(0x298)](_0x276159/_0x12b061);}else{const _0x1497f7=Math[_0xc859e(0x1ed)](_0x276159/_0x40d2ec);_0x3312c7=Math[_0xc859e(0x298)](_0x1497f7),_0x21faf7=Math[_0xc859e(0x25b)](_0x1497f7),_0x324199=Math[_0xc859e(0x298)](_0x276159/_0x3312c7),_0x12b061=Math[_0xc859e(0x298)](_0x276159/_0x21faf7);}const _0x4ea4c2=Math['min'](_0x25485a['width']/_0x324199/_0x39ab2d,_0x25485a[_0xc859e(0x292)]/_0x3312c7/_0x330adc)*_0x1edd2e[_0xc859e(0x22b)]['rateForContent'],_0x2c90b6=Math['min'](_0x25485a[_0xc859e(0x287)]/_0x12b061/_0x39ab2d,_0x25485a[_0xc859e(0x292)]/_0x21faf7/_0x330adc)*_0x1edd2e['cardSettings'][_0xc859e(0x2a4)];return _0x4ea4c2>_0x2c90b6?[_0x324199,_0x3312c7,Math[_0xc859e(0x25b)](_0x4ea4c2*_0x39ab2d),Math[_0xc859e(0x25b)](_0x4ea4c2*_0x330adc)]:[_0x12b061,_0x21faf7,Math['floor'](_0x2c90b6*_0x39ab2d),Math[_0xc859e(0x25b)](_0x2c90b6*_0x330adc)];})()),_0x266d6f=Math[_0x3a7645(0x25b)]((_0x25485a['width']-_0x4cd544*_0x37c9e6)/(_0x37c9e6+0x1)),_0x4242a7=Math[_0x3a7645(0x25b)]((_0x25485a[_0x3a7645(0x292)]-_0x31ad60*_0x21e2c6)/(_0x21e2c6+0x1));_0x3e9372[_0x3a7645(0x23d)]=_0x37c9e6,_0x3e9372['rowCount']=_0x21e2c6,_0x3e9372['cardWidth']=_0x4cd544,_0x3e9372[_0x3a7645(0x175)]=_0x31ad60,_0x3e9372[_0x3a7645(0x261)]=_0x266d6f,_0x3e9372[_0x3a7645(0x267)]=_0x4242a7;};_0x3e9372[_0x389b1e(0x174)]=_0x5441d3=>{_0x4c7093(_0x5441d3),_0x5441d3['forEach']((_0x45c6a9,_0x327c00)=>{const _0x1d8434=a0_0x362d,_0x37bdb5=_0x327c00%_0x3e9372[_0x1d8434(0x23d)],_0x540763=Math[_0x1d8434(0x25b)](_0x327c00/_0x3e9372[_0x1d8434(0x23d)]),_0x454692=_0x3e9372[_0x1d8434(0x261)]+_0x37bdb5*(_0x3e9372[_0x1d8434(0x218)]+_0x3e9372[_0x1d8434(0x261)]),_0x2ac2f5=_0x3e9372[_0x1d8434(0x267)]+_0x540763*(_0x3e9372[_0x1d8434(0x175)]+_0x3e9372[_0x1d8434(0x267)]);_0x45c6a9['x1']=_0x454692,_0x45c6a9['x2']=_0x454692+_0x3e9372[_0x1d8434(0x218)],_0x45c6a9['y1']=_0x2ac2f5,_0x45c6a9['y2']=_0x2ac2f5+_0x3e9372['cardHeight'];});},_0x25485a['show']=()=>{const _0x543f3e=_0x389b1e;_0x25485a[_0x543f3e(0x278)](),_0x45ca6e['displayCards'][_0x543f3e(0x25f)]((_0x3a6600,_0xa92241)=>{const _0x3d1943=_0x543f3e;_0x3a6600['put']&&_0x253b88[_0x3d1943(0x2ea)](_0x3a6600[_0x3d1943(0x1a7)],_0x3a6600['x1'],_0x3a6600['y1'],_0x3e9372[_0x3d1943(0x218)],_0x3e9372[_0x3d1943(0x175)]);});},_0x25485a['clear']=(_0x12541a=null)=>{const _0x22524f=_0x389b1e;_0x253b88[_0x22524f(0x20e)]=_0x12541a??_0x25485a['backgroundColor'],_0x253b88[_0x22524f(0x256)](0x0,0x0,_0x25485a[_0x22524f(0x287)],_0x25485a[_0x22524f(0x292)]),_0x25485a[_0x22524f(0x19e)]=![];},_0x25485a[_0x389b1e(0x2b9)]=()=>{const _0x9e1ad9=_0x389b1e;if(_0x25485a[_0x9e1ad9(0x19e)])return;_0x25485a['maskOn']=!![],_0x253b88[_0x9e1ad9(0x213)](),_0x253b88[_0x9e1ad9(0x1a0)]=_0x25485a['notation'][_0x9e1ad9(0x258)],_0x253b88[_0x9e1ad9(0x20e)]=_0x25485a['notation'][_0x9e1ad9(0x2d0)],_0x253b88['fillRect'](_0x25485a['maskMargin'],_0x25485a['maskMargin'],_0x25485a[_0x9e1ad9(0x1ad)],_0x25485a[_0x9e1ad9(0x18e)]),_0x253b88[_0x9e1ad9(0x1d9)]();},_0x25485a[_0x389b1e(0x280)]=_0x23925e=>{const _0x5c0551=_0x389b1e;_0x253b88[_0x5c0551(0x213)](),_0x253b88[_0x5c0551(0x2c7)]=_0x5c0551(0x2e1),_0x253b88[_0x5c0551(0x26d)]='middle';const _0x13c386={};{const _0x5a576e=0x30,_0x46484b=_0x5a576e*0x4,_0x212369=_0x25485a[_0x5c0551(0x1ad)]*0.67;_0x253b88['font']=_0x5a576e+_0x5c0551(0x16f);const _0xdb1b3b=Math[_0x5c0551(0x223)](_0x46484b,_0x253b88['measureText'](_0x23925e)[_0x5c0551(0x287)]);_0x13c386[_0x5c0551(0x26a)]=_0x5a576e*Math[_0x5c0551(0x2e5)](0x1,_0x212369/_0xdb1b3b),_0x13c386[_0x5c0551(0x16c)]=_0x13c386['fontSize']*1.8,_0x13c386['fukidashiTailSize']=_0x13c386[_0x5c0551(0x26a)];const _0x241691=_0x13c386[_0x5c0551(0x26a)];_0x13c386[_0x5c0551(0x287)]=Math[_0x5c0551(0x223)](Math[_0x5c0551(0x2e5)](_0x212369,_0xdb1b3b))+0x2*_0x241691,_0x13c386[_0x5c0551(0x292)]=_0x13c386[_0x5c0551(0x16c)]+0x2*_0x241691,_0x13c386[_0x5c0551(0x221)]=(_0x25485a[_0x5c0551(0x18e)]-_0x13c386[_0x5c0551(0x16c)])/0x2,_0x13c386['endX']=_0x25485a[_0x5c0551(0x287)]-_0x25485a[_0x5c0551(0x1eb)]-0x2,_0x13c386['x']=_0x13c386[_0x5c0551(0x21b)]-_0x13c386['width']-_0x13c386[_0x5c0551(0x264)],_0x13c386['y']=_0x13c386[_0x5c0551(0x221)]-_0x13c386[_0x5c0551(0x292)]/0x2,_0x13c386[_0x5c0551(0x195)]=_0x13c386['x']+_0x13c386[_0x5c0551(0x287)]/0x2,_0x13c386[_0x5c0551(0x22f)]=_0x13c386['centerY'];}_0x25485a[_0x5c0551(0x2b9)](),_0x253b88[_0x5c0551(0x1a0)]=0x1,roundedRect(_0x253b88,_0x13c386['x'],_0x13c386['y'],_0x13c386[_0x5c0551(0x287)],_0x13c386[_0x5c0551(0x292)],_0x25485a[_0x5c0551(0x1eb)],_0x25485a[_0x5c0551(0x164)]['messageBackgroundColor']),_0x253b88[_0x5c0551(0x20e)]=_0x25485a[_0x5c0551(0x164)]['messageBackgroundColor'],_0x253b88[_0x5c0551(0x1e6)](),_0x253b88[_0x5c0551(0x1f9)](_0x13c386['endX'],_0x13c386['centerY']),_0x253b88['lineTo'](_0x13c386[_0x5c0551(0x21b)]-_0x13c386['fukidashiTailSize'],_0x13c386['centerY']-_0x13c386[_0x5c0551(0x264)]/0x2),_0x253b88[_0x5c0551(0x276)](_0x13c386[_0x5c0551(0x21b)]-_0x13c386[_0x5c0551(0x264)],_0x13c386[_0x5c0551(0x221)]+_0x13c386[_0x5c0551(0x264)]/0x2),_0x253b88[_0x5c0551(0x191)](),_0x253b88['fillStyle']=_0x25485a[_0x5c0551(0x164)][_0x5c0551(0x2b2)],_0x253b88[_0x5c0551(0x163)]=_0x13c386[_0x5c0551(0x26a)]+_0x5c0551(0x16f),_0x253b88['fillText'](_0x23925e,_0x13c386[_0x5c0551(0x195)],_0x13c386[_0x5c0551(0x22f)]),_0x253b88[_0x5c0551(0x1d9)]();},_0x25485a['showOK']=()=>{const _0x490901=_0x389b1e,_0x31e931=_0x25485a[_0x490901(0x257)]*0.35;_0x253b88[_0x490901(0x213)](),_0x25485a[_0x490901(0x2b9)](),_0x253b88[_0x490901(0x1a0)]=_0x25485a[_0x490901(0x164)][_0x490901(0x209)],_0x253b88[_0x490901(0x20e)]=_0x25485a[_0x490901(0x164)]['effectOKColor'],drawDonutsCircle(_0x253b88,_0x25485a[_0x490901(0x287)]/0x2,_0x25485a['height']/0x2,_0x31e931,_0x25485a[_0x490901(0x1eb)]),_0x253b88['restore']();},_0x25485a[_0x389b1e(0x2e4)]=()=>{const _0x2fccc9=_0x389b1e,_0x50c7c8=_0x25485a[_0x2fccc9(0x257)]*0.35;_0x253b88[_0x2fccc9(0x213)](),_0x25485a[_0x2fccc9(0x2b9)](),_0x253b88[_0x2fccc9(0x1a0)]=_0x25485a[_0x2fccc9(0x164)][_0x2fccc9(0x209)],_0x253b88[_0x2fccc9(0x20e)]=_0x25485a[_0x2fccc9(0x164)][_0x2fccc9(0x185)],drawRoundedXMark(_0x253b88,_0x25485a[_0x2fccc9(0x287)]/0x2,_0x25485a['height']/0x2,_0x50c7c8,_0x25485a['maskMargin']),_0x253b88[_0x2fccc9(0x1d9)]();};}const _0x452487=(_0x357973,_0x38ed5e,_0x59a56c=0x10)=>{const _0x59f4e4=_0x389b1e,_0x2f79ea=_0x38ed5e['x']+_0x38ed5e[_0x59f4e4(0x287)]/0x2,_0x331147=_0x38ed5e['y']+_0x38ed5e[_0x59f4e4(0x292)]/0x2-_0x59a56c/0x2;_0x253b88[_0x59f4e4(0x213)](),_0x253b88[_0x59f4e4(0x163)]=_0x59a56c+_0x59f4e4(0x16f),_0x253b88[_0x59f4e4(0x2c7)]=_0x59f4e4(0x2e1),_0x253b88['textBaseline']=_0x59f4e4(0x1b2),_0x253b88[_0x59f4e4(0x20e)]='#000000',_0x253b88[_0x59f4e4(0x1a1)](_0x357973,_0x2f79ea,_0x331147,_0x38ed5e[_0x59f4e4(0x287)]),_0x253b88[_0x59f4e4(0x1d9)]();};_0x5602c7['on'](_0x389b1e(0x2e2),async _0x568e7e=>{const _0x19875f=_0x389b1e;_0x1dcaeb[_0x19875f(0x2f0)](),_0x5e7005(),_0x26bad3(),_0x45ca6e[_0x19875f(0x227)]=_0x568e7e[_0x19875f(0x285)][_0x19875f(0x2f4)](_0x2a543d=>{const _0x102c64=_0x19875f,_0x9f1ba2=_0x568e7e['tagSeq']['indexOf'](_0x2a543d);_0x9f1ba2===-0x1&&console['error'](_0x102c64(0x1e7),_0x2a543d,_0x568e7e);const _0x2bbfb0=_0x45ca6e[_0x102c64(0x1d3)][_0x9f1ba2];return Object[_0x102c64(0x222)]({'put':!![],'tag':_0x2a543d},_0x12ede4[_0x102c64(0x293)][_0x102c64(0x1cc)](_0x2bbfb0['id']),_0x2bbfb0);}),_0x3e9372[_0x19875f(0x174)](_0x45ca6e['displayCards']),_0x45ca6e[_0x19875f(0x1fd)]=null,_0x45ca6e[_0x19875f(0x266)]=_0x568e7e[_0x19875f(0x2ca)],_0x5602c7['emit'](_0x19875f(0x203));}),_0x5602c7['on'](_0x389b1e(0x205),async()=>{const _0x3d4360=_0x389b1e,_0x22cf70=_0x25485a,_0x5754c9=0xf0;let _0x41be99=_0x25485a[_0x3d4360(0x1bb)];const _0x5ccb48=generateBlinkingText(_0x253b88,{'x':0x0,'y':0x0,'width':_0x47f5dd[_0x3d4360(0x287)],'height':_0x47f5dd[_0x3d4360(0x292)],'fontSize':0x40,'backgroundColor':_0x25485a[_0x3d4360(0x1af)],'fontColor':_0x3d4360(0x2ee),'halfPeriodMS':0x3e8});while(_0x41be99>0x0){_0x25485a[_0x3d4360(0x278)](),_0x25485a[_0x3d4360(0x167)]?(_0x12ede4[_0x3d4360(0x17d)](_0x12ede4[_0x3d4360(0x2c2)]),_0x5ccb48['start'](_0x41be99[_0x3d4360(0x20c)](),_0x5754c9),await sleep(0x3b6),_0x5ccb48[_0x3d4360(0x240)](),await sleep(0x32)):(_0x12ede4[_0x3d4360(0x17d)](_0x12ede4[_0x3d4360(0x2c2)]),_0x452487(_0x41be99[_0x3d4360(0x20c)](),_0x22cf70,_0x5754c9),await sleep(0x3e8)),_0x41be99--;}_0x12ede4['playSound'](_0x12ede4[_0x3d4360(0x2ad)]),_0x570213[_0x3d4360(0x1c3)](_0x45ca6e[_0x3d4360(0x266)]),_0x5602c7[_0x3d4360(0x2ac)](_0x3d4360(0x217));}),_0x5602c7['on'](_0x389b1e(0x1d4),()=>{});const _0x54f9ab='none',_0x41dee1=_0x389b1e(0x2c9),_0x41d2c5='permitted';_0x45ca6e[_0x389b1e(0x242)]=(_0x5b3228,_0x542261)=>{const _0xbbe42e=_0x389b1e;return _0x45ca6e['displayCards'][_0xbbe42e(0x18a)](_0x3db86a=>{return _0x3db86a['x1']<=_0x5b3228&&_0x5b3228<=_0x3db86a['x2']&&_0x3db86a['y1']<=_0x542261&&_0x542261<=_0x3db86a['y2'];});},_0x45ca6e[_0x389b1e(0x184)]=_0x54eb8b=>{const _0x11cd81=_0x389b1e;if(_0x45ca6e[_0x11cd81(0x1fd)]===_0x41d2c5){const _0x1ffefd=_0x45ca6e[_0x11cd81(0x242)](_0x54eb8b[_0x11cd81(0x1cd)],_0x54eb8b[_0x11cd81(0x166)]);if(_0x1ffefd){const _0x16cdc4=Date[_0x11cd81(0x216)]()-_0x45ca6e[_0x11cd81(0x2db)];_0x45ca6e[_0x11cd81(0x1fd)]=_0x41dee1,_0x47f5dd['removeEventListener'](_0x11cd81(0x248),_0x45ca6e[_0x11cd81(0x184)]);const _0x5dab4b=_0x1ffefd['id'],_0x1eef80=_0x1ffefd==_0x45ca6e[_0x11cd81(0x231)];_0x1eef80?_0x25485a[_0x11cd81(0x2b9)]():_0x25485a[_0x11cd81(0x2e4)](),_0x5602c7[_0x11cd81(0x2ac)](_0x11cd81(0x21c),{'currentTag':_0x45ca6e['currentCard']?.[_0x11cd81(0x233)],'userName':_0xf9ed39['userName'],'action':_0x11cd81(0x248),'correct':_0x1eef80,'cardId':_0x5dab4b,'takenTimeMS':_0x16cdc4}),!_0x1eef80&&_0x12ede4['playSound'](_0x12ede4[_0x11cd81(0x1c2)]);}}else{}},_0x5602c7['on'](_0x389b1e(0x182),_0x184b2=>{const _0x29d5a7=_0x389b1e,_0x112cf2=_0x45ca6e['displayCards'][_0x29d5a7(0x18a)](_0x3fc6f7=>_0x3fc6f7[_0x29d5a7(0x233)]===_0x184b2[_0x29d5a7(0x23f)]);_0x45ca6e[_0x29d5a7(0x231)]=_0x112cf2,_0x45ca6e['startTimestamp']=Date['now'](),_0x45ca6e[_0x29d5a7(0x1fd)]=_0x41d2c5,_0x570213[_0x29d5a7(0x1c3)](_0x45ca6e[_0x29d5a7(0x266)]),_0x25485a[_0x29d5a7(0x1c3)](),_0x12ede4[_0x29d5a7(0x17d)](_0x45ca6e[_0x29d5a7(0x231)][_0x29d5a7(0x2f1)]),_0x1edd2e['debug']&&console['log']('次',_0x45ca6e[_0x29d5a7(0x231)]['id'],_0x45ca6e[_0x29d5a7(0x231)]['label'],_0x45ca6e[_0x29d5a7(0x231)]),clearInterval(_0x45ca6e[_0x29d5a7(0x28c)]),_0x47f5dd[_0x29d5a7(0x17a)](_0x29d5a7(0x248),_0x45ca6e[_0x29d5a7(0x184)]),_0x47f5dd[_0x29d5a7(0x1bd)](_0x29d5a7(0x248),_0x45ca6e[_0x29d5a7(0x184)]);}),_0x5602c7['on'](_0x389b1e(0x274),_0x35059b=>{const _0xc6c0=_0x389b1e,_0x2350bd=_0x35059b['currentTag'];if(_0x2350bd!==_0x45ca6e[_0xc6c0(0x231)]?.[_0xc6c0(0x233)])return;if(_0x45ca6e[_0xc6c0(0x1fd)]===_0x41d2c5&&_0x35059b[_0xc6c0(0x1db)]){const _0x389d63=Date[_0xc6c0(0x216)]()-_0x45ca6e['startTimestamp'];_0x389d63>_0x35059b['minTakenTimeMS']?(_0x47f5dd[_0xc6c0(0x17a)]('click',_0x45ca6e['cardClickedCallback']),_0x5602c7['emit'](_0xc6c0(0x21c),{'currentTag':_0x45ca6e[_0xc6c0(0x231)]?.[_0xc6c0(0x233)],'userName':_0xf9ed39[_0xc6c0(0x1d5)],'action':_0xc6c0(0x1be)})):_0x45ca6e[_0xc6c0(0x28c)]=setInterval(()=>{const _0x178291=_0xc6c0;_0x2350bd===_0x45ca6e[_0x178291(0x231)]?.[_0x178291(0x233)]&&_0x45ca6e[_0x178291(0x1fd)]===_0x41d2c5&&_0x35059b[_0x178291(0x1db)]&&(_0x47f5dd[_0x178291(0x17a)](_0x178291(0x248),_0x45ca6e[_0x178291(0x184)]),_0x5602c7[_0x178291(0x2ac)](_0x178291(0x21c),{'currentTag':_0x45ca6e['currentCard']?.[_0x178291(0x233)],'userName':_0xf9ed39[_0x178291(0x1d5)],'action':_0x178291(0x1be)}));},_0x25485a[_0xc6c0(0x283)]);}_0x570213[_0xc6c0(0x18f)](_0x35059b[_0xc6c0(0x1c1)]);}),_0x5602c7['on'](_0x389b1e(0x1b3),async _0x1bd08b=>{const _0x2c5b08=_0x389b1e;if(_0x1bd08b[_0x2c5b08(0x1e0)][_0x2c5b08(0x23f)]!==_0x45ca6e[_0x2c5b08(0x231)]?.[_0x2c5b08(0x233)])return;_0x45ca6e[_0x2c5b08(0x231)][_0x2c5b08(0x2f1)]['pause']();if(_0xf9ed39[_0x2c5b08(0x1d5)]===_0x1bd08b[_0x2c5b08(0x1e0)]['winnerUserName'])_0x12ede4[_0x2c5b08(0x17d)](_0x12ede4[_0x2c5b08(0x2d1)]),_0x25485a[_0x2c5b08(0x20b)]();else{if(_0x1bd08b['card'][_0x2c5b08(0x17c)])_0x12ede4[_0x2c5b08(0x17d)](_0x12ede4[_0x2c5b08(0x2bf)]),_0x25485a[_0x2c5b08(0x280)](_0x1bd08b[_0x2c5b08(0x1e0)][_0x2c5b08(0x17c)]+_0x2c5b08(0x20f));else _0x1bd08b['actionResults'][_0x2c5b08(0x1e1)](_0x25b6d5=>_0x25b6d5[_0x2c5b08(0x18c)]===![])?(_0x12ede4['playSound'](_0x12ede4[_0x2c5b08(0x162)]),_0x25485a['showMessage'](_0x2c5b08(0x186))):(_0x12ede4['playSound'](_0x12ede4[_0x2c5b08(0x2af)]),_0x25485a[_0x2c5b08(0x280)]('次'));}_0x45ca6e[_0x2c5b08(0x266)]=_0x1bd08b,_0x570213[_0x2c5b08(0x1c3)](_0x1bd08b,!![]);if(_0x1bd08b[_0x2c5b08(0x1e0)]['winnerUserName']){const _0x38be12=_0x45ca6e['displayCards'][_0x2c5b08(0x22e)](_0x9c49b9=>_0x9c49b9['id']===_0x1bd08b[_0x2c5b08(0x1e0)][_0x2c5b08(0x2c3)]);_0x45ca6e[_0x2c5b08(0x227)]['splice'](_0x38be12,0x1);}await sleep(_0x25485a[_0x2c5b08(0x2cc)]),_0x5602c7[_0x2c5b08(0x2ac)](_0x2c5b08(0x217));}),_0x5602c7['on'](_0x389b1e(0x2b1),_0x50575e=>{const _0x4210c7=_0x389b1e;{_0x45ca6e[_0x4210c7(0x1fd)]=_0x54f9ab,_0x45ca6e[_0x4210c7(0x231)]={};}{_0x12ede4[_0x4210c7(0x277)](_0x12ede4[_0x4210c7(0x24e)]);}{_0x1edd2e[_0x4210c7(0x2ec)][_0x4210c7(0x1af)]&&_0x25485a['clear'](_0x1edd2e[_0x4210c7(0x2ec)][_0x4210c7(0x1af)]);const _0x33f6fc=_0x12ede4[_0x4210c7(0x19a)];if(_0x33f6fc){const _0xac6ede=Math[_0x4210c7(0x2e5)](_0x25485a['width']/_0x33f6fc[_0x4210c7(0x287)],_0x25485a['height']/_0x33f6fc[_0x4210c7(0x292)]),_0x3734f4=_0x33f6fc['width']*_0xac6ede,_0x30805c=_0x33f6fc[_0x4210c7(0x292)]*_0xac6ede;_0x253b88['save'](),_0x253b88['globalAlpha']=_0x1edd2e[_0x4210c7(0x2ec)]['imgAlpha'],_0x253b88[_0x4210c7(0x2ea)](_0x33f6fc,(_0x25485a[_0x4210c7(0x287)]-_0x3734f4)/0x2,(_0x25485a[_0x4210c7(0x292)]-_0x30805c)/0x2,_0x3734f4,_0x30805c),_0x253b88[_0x4210c7(0x1d9)]();}}{const _0x148b4b=_0x50575e[_0x4210c7(0x207)],_0x5a42f8=_0x1edd2e[_0x4210c7(0x2c8)],_0x3acd63={};{const _0x4fe113=0x3,_0xb142ce=_0x5a42f8[_0x4210c7(0x275)],_0x371599=_0x5a42f8['letterCount'][_0x4210c7(0x27c)],_0x309185=_0x5a42f8[_0x4210c7(0x2c1)][_0x4210c7(0x2be)],_0x313428=_0x5a42f8['letterCount']['correctUnit'],_0x45948e=_0x5a42f8[_0x4210c7(0x2c1)][_0x4210c7(0x196)],_0x1a29f6=_0x25485a[_0x4210c7(0x287)]*_0x5a42f8[_0x4210c7(0x2e0)],[_0x3eafec,_0x3da803,_0x3c652e,_0x281cee]=((()=>{const _0x5b70f4=_0x4210c7,_0x19b00d=_0x4b885d=>{const _0x5425b9=a0_0x362d;_0x253b88[_0x5425b9(0x213)](),_0x253b88['font']=_0x4b885d+_0x5425b9(0x16f);const _0x52b6b7=_0x148b4b[_0x5425b9(0x2f4)](_0x1cd353=>_0x253b88[_0x5425b9(0x23e)](_0x1cd353[_0x5425b9(0x1d5)])[_0x5425b9(0x287)])['reduce']((_0x2bdff1,_0x4b96fa)=>Math[_0x5425b9(0x223)](_0x2bdff1,_0x4b96fa));_0x253b88['restore']();const _0x9d92dc=(_0x371599+0x1+0x1+_0x371599+0x1+_0x371599)*_0x4b885d+(_0x309185+_0x313428+_0x45948e)*_0x4b885d*_0x5a42f8[_0x5425b9(0x1d6)]+_0x52b6b7+(0x1+_0x4fe113)*_0xb142ce,_0x28058c=_0x4b885d*_0x5a42f8['lineHeightRate']*_0x148b4b[_0x5425b9(0x1b0)]+(0x1+_0x4fe113)*_0xb142ce;return{'width':_0x9d92dc,'height':_0x28058c,'userNameWidth':_0x52b6b7};},_0x694ae7=_0x5a42f8[_0x5b70f4(0x25e)],_0xc1ec52=_0x19b00d(_0x694ae7),_0x153337=Math[_0x5b70f4(0x2e5)](_0x1a29f6/_0xc1ec52[_0x5b70f4(0x287)],_0x25485a[_0x5b70f4(0x292)]/_0xc1ec52[_0x5b70f4(0x292)]);if(_0x153337>=0x1)return[_0x694ae7,_0xc1ec52['width'],_0xc1ec52['height'],_0xc1ec52[_0x5b70f4(0x29e)]];const _0x3ff189=_0x694ae7*_0x153337,_0x223259=_0x19b00d(_0x3ff189);return[_0x3ff189,_0x223259[_0x5b70f4(0x287)],_0x223259['height'],_0x223259[_0x5b70f4(0x29e)]];})());_0x3acd63[_0x4210c7(0x26a)]=_0x3eafec,_0x3acd63[_0x4210c7(0x269)]=_0x3eafec*_0x5a42f8['unitFontSizeRate'],_0x3acd63[_0x4210c7(0x287)]=_0x3da803,_0x3acd63['height']=_0x3c652e,_0x3acd63[_0x4210c7(0x29e)]=_0x281cee,_0x3acd63['offsetX']=_0x25485a['x']+(_0x25485a[_0x4210c7(0x287)]-_0x3da803)/0x2,_0x3acd63[_0x4210c7(0x166)]=_0x25485a['y']+(_0x25485a[_0x4210c7(0x292)]-_0x3c652e)/0x2;const _0xe7a972=_0x3acd63[_0x4210c7(0x1cd)]+_0xb142ce;_0x3acd63[_0x4210c7(0x22f)]=_0x3acd63['offsetY']+_0xb142ce*_0x4fe113,_0x3acd63[_0x4210c7(0x16c)]=_0x3eafec*_0x5a42f8[_0x4210c7(0x2b4)],_0x3acd63[_0x4210c7(0x1b4)]=_0x371599*_0x3eafec,_0x3acd63[_0x4210c7(0x17e)]=_0x309185*_0x3acd63[_0x4210c7(0x269)],_0x3acd63[_0x4210c7(0x244)]=_0x313428*_0x3acd63[_0x4210c7(0x269)],_0x3acd63[_0x4210c7(0x171)]=_0x45948e*_0x3acd63[_0x4210c7(0x269)];const _0x2dd754=_0x3eafec,_0x57b2e9=_0x3eafec*_0x5a42f8[_0x4210c7(0x2a3)];let _0x41b825=0x0;_0x3acd63[_0x4210c7(0x24d)]=_0x41b825+=_0xe7a972+_0x3acd63[_0x4210c7(0x1b4)],_0x3acd63[_0x4210c7(0x1d0)]=_0x41b825+=_0x57b2e9,_0x3acd63[_0x4210c7(0x20a)]=_0x41b825+=_0x3acd63[_0x4210c7(0x17e)]+_0x2dd754,_0x3acd63[_0x4210c7(0x208)]=_0x41b825+=_0x3acd63[_0x4210c7(0x29e)]+_0x2dd754+_0x3acd63['numberTextWidth'],_0x3acd63['correctUnitTextLeftX']=_0x41b825+=_0x57b2e9,_0x3acd63[_0x4210c7(0x2b5)]=_0x41b825+=_0x3acd63['correctUnitTextWidth']+_0x2dd754+_0x3acd63['numberTextWidth'],_0x3acd63[_0x4210c7(0x1a2)]=_0x41b825+=_0x57b2e9;const _0x10a317=0x2*_0xb142ce;_0x3acd63[_0x4210c7(0x247)]=_0x3acd63[_0x4210c7(0x1cd)]+_0x10a317,_0x3acd63[_0x4210c7(0x1a3)]=_0x3da803-0x2*_0x10a317,_0x3acd63[_0x4210c7(0x199)]=_0x3eafec*(0x1+_0x5a42f8[_0x4210c7(0x238)]);}_0x253b88['save'](),_0x253b88[_0x4210c7(0x1a0)]=_0x5a42f8[_0x4210c7(0x1d2)],roundedRect(_0x253b88,_0x3acd63[_0x4210c7(0x1cd)],_0x3acd63['offsetY'],_0x3acd63[_0x4210c7(0x287)],_0x3acd63[_0x4210c7(0x292)],_0x3acd63[_0x4210c7(0x26a)]*_0x5a42f8[_0x4210c7(0x29d)],_0x5a42f8[_0x4210c7(0x1af)]),_0x253b88[_0x4210c7(0x1a0)]=0x1,_0x253b88[_0x4210c7(0x28b)]=_0x5a42f8[_0x4210c7(0x250)],_0x253b88['textBaseline']=_0x4210c7(0x1b2);let _0x49dc6e=_0x3acd63['textStartY'];_0x148b4b[_0x4210c7(0x25f)](_0x361af0=>{const _0x43eac4=_0x4210c7;_0x253b88[_0x43eac4(0x20e)]=_0x361af0['userName']===_0xf9ed39[_0x43eac4(0x1d5)]?_0x5a42f8[_0x43eac4(0x2b0)]:_0x5a42f8['fontColor'],_0x253b88[_0x43eac4(0x2c7)]=_0x43eac4(0x232),_0x253b88[_0x43eac4(0x163)]=_0x3acd63['unitFontSize']+_0x43eac4(0x16f),_0x253b88['fillText']('位',_0x3acd63['rankUnitTextLeftX'],_0x49dc6e,_0x3acd63[_0x43eac4(0x17e)]),_0x253b88[_0x43eac4(0x1a1)](_0x43eac4(0x2bc),_0x3acd63[_0x43eac4(0x16e)],_0x49dc6e,_0x3acd63['correctUnitTextWidth']),_0x253b88[_0x43eac4(0x1a1)](_0x43eac4(0x170),_0x3acd63[_0x43eac4(0x1a2)],_0x49dc6e,_0x3acd63['wrongUnitTextWidth']),_0x253b88[_0x43eac4(0x163)]=_0x3acd63['fontSize']+_0x43eac4(0x16f),_0x253b88['fillText'](_0x361af0[_0x43eac4(0x1d5)],_0x3acd63['userNameTextLeftX'],_0x49dc6e,_0x3acd63[_0x43eac4(0x29e)]),_0x253b88[_0x43eac4(0x163)]=_0x3acd63[_0x43eac4(0x26a)]+_0x43eac4(0x16f),_0x253b88['textAlign']=_0x43eac4(0x20d),_0x253b88[_0x43eac4(0x1a1)](''+_0x361af0[_0x43eac4(0x1a5)],_0x3acd63[_0x43eac4(0x24d)],_0x49dc6e,_0x3acd63['numberTextWidth']),_0x253b88[_0x43eac4(0x1a1)](''+_0x361af0['correct'],_0x3acd63['correctTextRightX'],_0x49dc6e,_0x3acd63[_0x43eac4(0x1b4)]),_0x253b88[_0x43eac4(0x1a1)](''+_0x361af0[_0x43eac4(0x1e8)],_0x3acd63[_0x43eac4(0x2b5)],_0x49dc6e,_0x3acd63[_0x43eac4(0x1b4)]),_0x253b88['strokeRect'](_0x3acd63['splitLineStartX'],_0x49dc6e+_0x3acd63['splitLineOffsetY'],_0x3acd63[_0x43eac4(0x1a3)],0x0),_0x49dc6e+=_0x3acd63[_0x43eac4(0x16c)];}),_0x253b88[_0x4210c7(0x1d9)]();}{_0x45ca6e[_0x4210c7(0x19d)]=async _0x4af6f3=>{const _0x2ffac0=_0x4210c7,_0x3517b7=await showConfirmTextDialog(_0x2ffac0(0x178));_0x3517b7&&(clearInterval(_0x45ca6e[_0x2ffac0(0x28c)]),_0x47f5dd[_0x2ffac0(0x17a)](_0x2ffac0(0x248),_0x45ca6e['returnConfirmCallback']),_0x5602c7[_0x2ffac0(0x2ac)]('finish_play'));},_0x47f5dd[_0x4210c7(0x1bd)](_0x4210c7(0x248),_0x45ca6e['returnConfirmCallback']);}});})(getInitValues());
    
    
    function getInitValues() {
      return {
        defaultValues: {
          userName: '',
          roomName: 'room1',
        },
        
        playmat: {
          marginMax: 40,
          marginTopRate : 0.03,
          marginLeftRate: 0.03,
        },
        rankingArea: {
          maxWidthRate: 0.8,
          margin: 10,
          radiusFontSizeRate: 0.8,
          defaultFontSize: 24,
          unitFontSizeRate: 1, // 値を変えると textBaseline の調整が必要となる
          unitMarginRate: 0.2,
          lineHeightRate: 1.8,
          letterCount: {
            number     : 2,
            rankUnit   : 1,
            correctUnit: 2.5,
            wrongUnit  : 2.5,
          },
          fontColor: '#111111',
          myUserFontColor: '#2222FF',
          backgroundAlpha: 0.925,
          backgroundColor: '#EEEEEE',
          splitLineColor: '#FFFFFF',
          splitLinePaddingRate: 0.3,
        },
        progressArea: {
          // カード枚数が3桁行かないことを前提にしている
          width: 250,
          margin: 8,
          fontSize: 24,
          lineHeightRate: 1.6,
          numberTextWidth: 50,
          actLogFontSize: 21,
          actLogMargin: 16,
          fontColor: '#000000',
          myUserFontColor: '#2222FF',
          otherUserFontColor: '#000000',
          backgroundColor: '#cccccc',
          splitLineColor: '#efefef',
        },
        playArea: {
          playCountdownLength: 3,
          playCountdownBlinking: true,
          backgroundColor: '#efefef',
          checkTimeupIntervalMS: 250,
          waitCardResultEffectMS: 1200,
          notation: {
            maskAreaMarginRate: 0.05, // 情報表示のための黒塗りマスクを出す際のマージン。概ね 1 - rate * 2 がマスクの画面に占める割合
            maskAreaAlpha: 0.50,
            maskAreaColor: '#000000',
            messageBackgroundColor: '#FFFFFF',
            messageFontColor: '#000000',
            effectOKColor: '#FF2222',
            effectNGColor: '#CCCC00',
            effectAlpha: 0.80,
          },
        },
        soundSettings: {
          voiceVolume: 1.00,
          effectVolume: 0.50,
          okSoundPath: 'res/ok.mp3',
          ngSoundPath: 'res/ng.mp3',
          allngSoundPath: 'res/allng.mp3',
          takenSoundPath: 'res/taken.mp3',
          nextSoundPath: 'res/next.mp3',
          countdown1SoundPath: 'res/countdown1.mp3',
          countdown2SoundPath: 'res/countdown2.mp3',
        },
        endCardSettings: {
          backgroundColor: '#000000',
        },
        
        cardSettings: {
          rateForContent: 0.9,
          origWidth :  900, // カルタ画像は全てこの origWidth,origHeight の比率と同じものとする
          origHeight: 1200,
          borderSize: 15,
          borderColor: '#660066',
        },
        ///debug: true,
      };
    }
  </script>
</body>
</html>
