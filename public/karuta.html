<!DOCTYPE html>
<html lang='ja'>
<head>
  <meta charset="utf-8">
  <title>かるた</title>
  <style>
    body {
      font-size: 1rem;
      margin: 0;
      padding: 0;
    }
    
    h1 {
      font-size: 2.5rem;
    }
    
    #loadingMessage {
      margin: 8px;
    }
    #loginArea {
      margin: 8px;
      display: none;
    }
    #roomArea {
      margin: 8px;
      display: none;
    }
    #mainArea {
      display: none;
    }
    
    
    #loginInputs, #roomInputs {
      margin-left: 2rem;
      margin-bottom: 5rem;
    }
    
    #loginInputs div {
      display: flex;
      padding: 0.5rem;
    }
    #loginInputs label {
      width: 6rem;
      padding-right: 0.5rem;
    }
    #loginInputs button {
      width: 4rem;
    }
    #loginInputs input {
      width: 21rem;
    }
    #loginInputs * {
      font-size: 1.4rem;
      vertical-align: middle;
    }
    
    #roomInputs * {
      font-size: 1.4rem;
    }
    #memberList th {
      min-width: 6rem;
    }
    #memberList th,
    #memberList td {
      height: 2.8rem;
    }
    #memberList td.my-name {
      color: #0000FF;
    }
    #memberList td:nth-child(2) {
      min-width: 21rem;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    #memberList td:nth-child(1),#memberList td:nth-child(3) {
      text-align: center;
    }
    
    #startPlayButtonArea {
      margin-top: 1.4rem;
    }
    
    
    .help-list {
      font-size: 1rem;
    }
    
    #loginButtonMessage {
      color: #FF0000;
      margin-left: 1rem;
    }
    
    input[type='number'] {
      text-align: right;
      width: 3em;
    }
    
    footer {
      margin-top: 3rem;
      margin-left: 8px;
      padding-top: 0.5rem;
      border-top: solid 2px #cccccc;
    }
  </style>
</head>

<body>
  <div id='loadingMessage'>
    <p>ファイル読み込み中...</p>
    <p>どれだけ待っても読み込みが終了しない場合は、エラーや通信失敗が発生している可能性があります。<br />画面をリロードしたり、時間を置いてやり直すなど試してください</p>
  </div>
  <div id='loginArea'>
    <h1>かるた</h1>
    
    <div id='loginInputs'>
      <div>
        <label for='userName'>ユーザ名</label>
        <input id='userName' type='text' placeholder='' />
      </div>
      <div>
        <label for='roomName'>部屋名</label>
        <input id='roomName' type='text' placeholder='' />
      </div>
      <div>
        <button id='loginButton'>入室</button>
        <span id='loginButtonMessage'></span>
      </div>
    </div>
    
    <ul class='help-list'>
      <li><div>ver: <span id="version"></span></div></li>
      <li>このかるたは対戦ゲーム専用です</li>
      <li>完全に同一の部屋名を指定して入室した、他のユーザと対戦できます</li>
      <li>同じ部屋に同じ名前のユーザは複数入室できません</li>
      <li>ゲームプレイ中の部屋には入室できません</li>
    </ul>
    
    <footer></footer>
  </div>
  <div id='roomArea'>
    <h2>待機部屋</h2>
    
    <div id='roomInputs'>
      <table id='memberList' border='1' cellpadding='4 cellspacing='0'>
        <caption>参加者</caption>
        <thead> <tr> <th>ホスト</th> <th>ユーザ名</th> <th>操作</th> </tr> </thead>
        <tbody></tbody>
      </table>
      <button id='logoutButton'>退室</button>
      <div id='startPlayButtonArea'>
        <label> 使用するカード枚数：<input type='number' id='useCardCount' step='1' /></label>
        <br />
        <button id='startPlayButton'>開始</button>
      </div>
    </div>
    
    <ul class='help-list'>
      <li>この画面のヘルプ<ul>
        <li>ホストユーザのみが開始できます</li>
        <li>ホストユーザは同室ユーザ内で一番早くログインしているユーザに自動で切り替わります</li>
        <li>ユーザが２人以上入室していないと開始できません</li>
        <li>ホストユーザのみがゲームで使用するカード枚数を選択できます（2 ～ 存在するカード枚数まで）</li>
      </ul></li>
      <li>ゲーム画面のヘルプ<ul>
        <li>ゲーム開始後は、画面サイズ変更により配置・札の表示サイズの調整などはできません</li>
        <li>ブラウザの表示サイズや参加ユーザ数によっては、表示の乱れやはみ出しが起こる場合があります</li>
        <li>ゲームのプレイにはブラウザからの音声出力が必須です</li>
        <li>ゲーム終了後に画面をクリックで待機部屋に戻れます（ホストユーザの操作では、全ユーザが強制的に戻ります）</li>
        <li>ゲーム中にネットワーク切断などでユーザが退出した場合、強制的にゲーム全体が終了となります</li>
      </ul></li>
      <li>ゲームのルール<ul>
        <li>ネットワーク遅延を考慮し、『各環境で読み上げ開始から最も早く正答したユーザ』が札を取れるものとします</li>
        <li>お手付きした札はそのまま場に置かれたままとなります（お手付きの回数のみ、最終順位に影響します）</li>
        <li>お手付きした際は、次の札に進むまで操作できません</li>
        <li>全員がお手付きした際は、次の札に進みゲームを続けます。誰かが札を取るまで何度も同じ札が読み上げられる場合があります</li>
        <li>最後の 1 枚は連打勝負になってしまうため、残り 1 枚になった時点で終了とします</li>
        <li>最終順位は『手札が多かった順 → 同数ならばお手付きが少なかった順』で決定します</li>
      </ul></li>
      <li>ゲーム観戦機能はサポートしていません。<br />普通に観戦してクリック操作しない、とういやり方で観戦はできますが、自分以外全員お手付きの場合には、操作しないとゲームが進まなくなります。<br />（2 人以上が観戦しているとややこしいことになります）</li>
    </ul>
  </div>
  <div id='mainArea'>
    <canvas id='mainCanvas'></canvas>
  </div>
  <textarea style='display:none;' id='messageLog' cols='80' rows='12'></textarea>
  
  <script type='text/javascript' src='js/socket.io.min.js'></script>
  <script type='text/javascript'>
    const AppVersion = "0.3.0";
    
    // ここから
const _0x399c64=_0x18ca;(function(_0x23850f,_0x104b3d){const _0xc55f2=_0x18ca,_0x699cca=_0x23850f();while(!![]){try{const _0x3f5d19=-parseInt(_0xc55f2(0x20e))/0x1*(parseInt(_0xc55f2(0x93))/0x2)+-parseInt(_0xc55f2(0x116))/0x3+-parseInt(_0xc55f2(0x126))/0x4+-parseInt(_0xc55f2(0x145))/0x5+-parseInt(_0xc55f2(0x1c5))/0x6+-parseInt(_0xc55f2(0x1c1))/0x7*(parseInt(_0xc55f2(0xf2))/0x8)+parseInt(_0xc55f2(0x88))/0x9;if(_0x3f5d19===_0x104b3d)break;else _0x699cca['push'](_0x699cca['shift']());}catch(_0x5f1db7){_0x699cca['push'](_0x699cca['shift']());}}}(_0x41a9,0x4bc99),(document[_0x399c64(0x9b)](_0x399c64(0x154))??{})[_0x399c64(0x1f2)]=AppVersion);function loadSyncImage(_0x5148a3){return new Promise((_0x253502,_0x3f0932)=>{const _0x432df9=_0x18ca;let _0x2240f6=new Image();_0x2240f6[_0x432df9(0x1f0)]=()=>_0x253502(_0x2240f6),_0x2240f6[_0x432df9(0x112)]=_0x48bc1a=>_0x3f0932(_0x48bc1a),_0x2240f6[_0x432df9(0x1a8)]=_0x5148a3;});}function loadSyncAudio(_0x5453bd){return new Promise((_0x40b2e7,_0x13f32f)=>{const _0x4ec88c=_0x18ca,_0xdcb2f3=new Audio();_0xdcb2f3[_0x4ec88c(0x163)]=()=>_0x40b2e7(_0xdcb2f3),_0xdcb2f3[_0x4ec88c(0x1b3)]=_0x493703=>_0x13f32f(_0x493703),_0xdcb2f3[_0x4ec88c(0x1a8)]=_0x5453bd;});}function newElem(_0x1a0dc0,_0x247e6c=[],_0x1e1037=[],_0x5b5c43={}){const _0x2a2b4d=_0x399c64,_0x420a21=document[_0x2a2b4d(0xe1)](_0x1a0dc0);return _0x1e1037['length']>0x0&&_0x420a21[_0x2a2b4d(0x22c)][_0x2a2b4d(0x134)](..._0x1e1037),Object[_0x2a2b4d(0x1c7)](_0x5b5c43)[_0x2a2b4d(0x12f)](_0x4b5fa8=>{const _0x3a900d=_0x2a2b4d;_0x420a21[_0x3a900d(0xac)](_0x4b5fa8,_0x5b5c43[_0x4b5fa8]);}),_0x247e6c[_0x2a2b4d(0x12f)](_0x1ec291=>{const _0x14600e=_0x2a2b4d;typeof _0x1ec291===_0x14600e(0x92)?_0x420a21['appendChild'](document[_0x14600e(0x101)](_0x1ec291)):_0x420a21[_0x14600e(0xbd)](_0x1ec291);}),_0x420a21;}function _0x18ca(_0x1449fa,_0x2aea9d){const _0x41a96d=_0x41a9();return _0x18ca=function(_0x18ca19,_0x3d992e){_0x18ca19=_0x18ca19-0x81;let _0x1f6dfd=_0x41a96d[_0x18ca19];return _0x1f6dfd;},_0x18ca(_0x1449fa,_0x2aea9d);}const newRandomArray=_0x2c7d07=>{const _0x407275=_0x399c64,_0x5a9478=Array[_0x407275(0x1e8)](_0x2c7d07);for(let _0x1c289c=_0x5a9478['length']-0x1;_0x1c289c>=0x0;_0x1c289c--){const _0x5632f7=Math[_0x407275(0x1ab)](Math['random']()*(_0x1c289c+0x1));[_0x5a9478[_0x1c289c],_0x5a9478[_0x5632f7]]=[_0x5a9478[_0x5632f7],_0x5a9478[_0x1c289c]];}return _0x5a9478;},parseFloatOr=(_0xff1610,_0xd981d7)=>{const _0x1bfb38=_0x399c64,_0x36ab12=parseFloat(_0xff1610);return Number[_0x1bfb38(0x19f)](_0x36ab12)?_0xd981d7:_0x36ab12;},sleep=_0x47c5e5=>{return new Promise(_0xe4e19f=>setTimeout(_0xe4e19f,_0x47c5e5));},generateBlinkingText=(_0x3e0802,_0x122d9e)=>{let _0x88c5e5=![];const _0x29684e=(_0x5a3d9e,_0x239739,_0x21862d)=>{const _0x28d5cd=_0x18ca,_0x31131a=Number['isFinite'](_0x21862d)&&_0x21862d>0x0?_0x21862d:_0x122d9e[_0x28d5cd(0xef)];let _0x34f800=_0x31131a+_0x28d5cd(0x148);const _0x5940c4=Math[_0x28d5cd(0x1ab)](_0x122d9e['x']+_0x122d9e[_0x28d5cd(0x1ca)]/0x2),_0x42dece=Math[_0x28d5cd(0x1ab)](_0x122d9e['y']+_0x122d9e[_0x28d5cd(0xa5)]/0x2),_0x43f57e=_0x11c7e6=>{const _0x40d59a=_0x28d5cd,_0x2ca5e4=Math['floor'](_0x11c7e6/_0x122d9e['halfPeriodMS']),_0x4e2871=(_0x11c7e6-_0x2ca5e4*_0x122d9e[_0x40d59a(0x84)])/_0x122d9e[_0x40d59a(0x84)],_0x2d8d0b=_0x2ca5e4%0x2===0x0;_0x5a3d9e[_0x40d59a(0x1e1)](),_0x5a3d9e[_0x40d59a(0x15c)]=0x1,_0x5a3d9e[_0x40d59a(0x1dc)]=_0x122d9e[_0x40d59a(0x219)],_0x5a3d9e[_0x40d59a(0x20c)](_0x122d9e['x'],_0x122d9e['y'],_0x122d9e[_0x40d59a(0x1ca)],_0x122d9e[_0x40d59a(0xa5)]),_0x5a3d9e['font']=_0x34f800,_0x5a3d9e[_0x40d59a(0x199)]=_0x40d59a(0x20d),_0x5a3d9e[_0x40d59a(0x175)]='middle',_0x5a3d9e['fillStyle']=_0x122d9e[_0x40d59a(0x12c)],_0x5a3d9e[_0x40d59a(0x15c)]=_0x2d8d0b?_0x4e2871:0x1-_0x4e2871,_0x5a3d9e[_0x40d59a(0x21f)](_0x239739,_0x5940c4,_0x42dece),_0x5a3d9e['restore'](),_0x88c5e5&&requestAnimationFrame(_0x43f57e);};return _0x43f57e;};return{'start':(_0x162711,_0x52f2cd)=>{_0x88c5e5=!![],requestAnimationFrame(_0x29684e(_0x3e0802,_0x162711,_0x52f2cd));},'stop':()=>{_0x88c5e5=![];}};};function showConfirmTextDialog(_0x3223d1,_0x262fb3){const _0xc9a164=_0x399c64,_0x24eb87=newElem('p',[_0x3223d1]);return _0x24eb87['style'][_0xc9a164(0x224)]=_0xc9a164(0x1fa),showConfirmDialog(_0x24eb87,_0x262fb3);}function showConfirmDialog(_0xfc6b84,_0x177172){const _0x46595c=_0x399c64;_0x177172=Object[_0x46595c(0x141)]({'baseElement':document['body'],'focusable':![],'yesLabel':'OK','noLabel':'Cancel','defaultIsYes':!![],'positionElement':window},_0x177172);const _0x26e84a=_0x177172['baseElement'],_0x4e0d2a=_0x177172[_0x46595c(0x1eb)],_0x45d1bb=_0x177172[_0x46595c(0x1ef)],_0x571f3b=_0x177172['noLabel'],_0x312ecd=_0x177172[_0x46595c(0x115)],_0x1f13f3=_0x177172[_0x46595c(0x17b)],_0x40e805=_0x571f3b==='',_0x5b1c1e=newElem('button',[_0x45d1bb]),_0x482dcb=newElem('button',[_0x571f3b]);_0x40e805&&(_0x482dcb[_0x46595c(0xa6)][_0x46595c(0x1f1)]=_0x46595c(0x1ff));const _0x20c3e9=_0x40e805?[_0x5b1c1e]:[_0x5b1c1e,_0x482dcb],_0x595cf1=newElem('div',_0x20c3e9),_0x4d52f2=newElem('div',[_0xfc6b84,newElem('hr'),_0x595cf1],['confirmDialog']),_0x351686=newElem(_0x46595c(0x1b8)),_0x21b081=0xf423f;_0x4d52f2['style'][_0x46595c(0xd9)]=_0x46595c(0x1ac),_0x4d52f2[_0x46595c(0xa6)][_0x46595c(0x1f9)]=_0x21b081,_0x4d52f2[_0x46595c(0xa6)]['minWidth']=_0x46595c(0x222),_0x4d52f2[_0x46595c(0xa6)][_0x46595c(0xd5)]=_0x46595c(0x214),_0x4d52f2['style']['border']='solid\x20#DDDDDD\x203px',_0x4d52f2[_0x46595c(0xa6)]['borderRadius']=_0x46595c(0x1bb),_0x4d52f2[_0x46595c(0xa6)][_0x46595c(0x123)]=0x0,_0x4d52f2['style'][_0x46595c(0xbb)]=_0x46595c(0x81),_0x4d52f2['style'][_0x46595c(0x219)]=_0x46595c(0x14f),_0x595cf1['style']['display']='flex',_0x595cf1[_0x46595c(0xa6)][_0x46595c(0xfd)]=_0x46595c(0xcd),_0x351686['style'][_0x46595c(0xd9)]=_0x46595c(0x1ac),_0x351686[_0x46595c(0xa6)][_0x46595c(0x1f9)]=_0x21b081-0x1,_0x351686[_0x46595c(0xa6)]['top']=0x0,_0x351686[_0x46595c(0xa6)][_0x46595c(0x19a)]=0x0,_0x351686[_0x46595c(0xa6)][_0x46595c(0x1ca)]=_0x46595c(0x136),_0x351686[_0x46595c(0xa6)][_0x46595c(0xa5)]=_0x46595c(0x136),_0x351686[_0x46595c(0xa6)][_0x46595c(0x1d5)]=_0x46595c(0x119),_0x351686['style'][_0x46595c(0xbb)]=_0x46595c(0x119),_0x351686[_0x46595c(0xa6)]['margin']=_0x46595c(0x119),_0x351686[_0x46595c(0xa6)][_0x46595c(0x219)]=_0x46595c(0x139),_0x351686['style']['opacity']=0.3;!_0xfc6b84['style'][_0x46595c(0x123)]&&!_0xfc6b84['style']['marginTop']&&!_0xfc6b84[_0x46595c(0xa6)]['marginBottom']&&(_0xfc6b84['style']['margin']=_0x46595c(0x1bd));const _0x302b4b=function(_0xc7c082){const _0x136ddc=_0x46595c,_0x4d7037=_0xc7c082[0x0],_0x21f778=_0xc7c082[_0xc7c082[_0x136ddc(0xc4)]-0x1],_0x33ad60=[_0x21f778,_0xc7c082,_0x4d7037][_0x136ddc(0x11b)]();return _0x160944=>{const _0x2bfa69=_0x136ddc;if(_0x160944['key']===_0x2bfa69(0x227)&&!_0x160944[_0x2bfa69(0x167)]&&!_0x160944[_0x2bfa69(0x208)]&&!_0x160944[_0x2bfa69(0x1a0)]){_0x160944[_0x2bfa69(0x135)](),_0x160944[_0x2bfa69(0xfb)]();const _0x2dae0b=_0x33ad60['indexOf'](_0x160944[_0x2bfa69(0x11d)],0x1);_0x2dae0b===-0x1?(_0x160944[_0x2bfa69(0x168)]?_0x21f778:_0x4d7037)[_0x2bfa69(0x220)]():_0x33ad60[_0x2dae0b+(_0x160944[_0x2bfa69(0x168)]?-0x1:0x1)][_0x2bfa69(0x220)]();}else _0x160944['key']===_0x2bfa69(0x1ad)&&!_0x160944['altKey']&&!_0x160944[_0x2bfa69(0x208)]&&!_0x160944[_0x2bfa69(0x168)]&&!_0x160944['metaKey']&&(_0x160944[_0x2bfa69(0x135)](),_0x160944[_0x2bfa69(0xfb)](),_0x482dcb['click']());};},_0x4115f0=Array[_0x46595c(0x9e)](_0x4e0d2a)?_0x4e0d2a[_0x46595c(0x197)](_0x20c3e9):_0x20c3e9,_0x24e0e7=_0x302b4b(_0x4115f0);_0x4115f0[_0x46595c(0x197)](_0x4d52f2,_0x351686)[_0x46595c(0x12f)](_0x4da549=>{const _0x13eaa6=_0x46595c;_0x4da549['addEventListener'](_0x13eaa6(0x149),_0x24e0e7),_0x4da549['addEventListener'](_0x13eaa6(0xc7),_0x24e0e7);}),_0x26e84a[_0x46595c(0xbd)](_0x351686),_0x26e84a[_0x46595c(0xbd)](_0x4d52f2);const _0x11b006=window[_0x46595c(0x1ba)](_0x4d52f2),_0x2f770e=_0x1f13f3===window?{'width':window[_0x46595c(0x20a)],'height':window[_0x46595c(0x22a)]}:_0x1f13f3['getBoundingClientRect']();return _0x4d52f2[_0x46595c(0xa6)]['top']=(_0x2f770e['height']-parseInt(_0x11b006['height'],0xa))/0x2+'px',_0x4d52f2[_0x46595c(0xa6)][_0x46595c(0x19a)]=(_0x2f770e[_0x46595c(0x1ca)]-parseInt(_0x11b006[_0x46595c(0x1ca)],0xa))/0x2+'px',_0x40e805||_0x312ecd?_0x5b1c1e['focus']():_0x482dcb['focus'](),new Promise((_0x26a843,_0x3ccfd5)=>{_0x5b1c1e['addEventListener']('click',()=>{const _0x54ff4f=_0x18ca;_0x20c3e9[_0x54ff4f(0x12f)](_0x56e5e7=>_0x56e5e7['setAttribute'](_0x54ff4f(0x193),_0x54ff4f(0x193))),_0x26e84a['removeChild'](_0x351686),_0x26e84a[_0x54ff4f(0x114)](_0x4d52f2),_0x26a843(!![]);}),_0x482dcb['addEventListener']('click',()=>{const _0x2a6d18=_0x18ca;_0x20c3e9[_0x2a6d18(0x12f)](_0x3e7440=>_0x3e7440[_0x2a6d18(0xac)]('disabled','disabled')),_0x26e84a[_0x2a6d18(0x114)](_0x351686),_0x26e84a[_0x2a6d18(0x114)](_0x4d52f2),_0x26a843(![]);});});}function drawDonutsCircle(_0x58c624,_0x1b3052,_0x4a815d,_0x2bb0d2,_0x7f5c80){const _0x490cc6=_0x399c64;_0x58c624[_0x490cc6(0x1e1)](),_0x58c624[_0x490cc6(0x9f)](),_0x58c624[_0x490cc6(0x12b)](_0x1b3052,_0x4a815d,_0x2bb0d2-0x2*_0x7f5c80,0x0,0x2*Math['PI'],!![]),_0x58c624[_0x490cc6(0x12b)](_0x1b3052,_0x4a815d,_0x2bb0d2,0x0,0x2*Math['PI'],![]),_0x58c624[_0x490cc6(0x174)](),_0x58c624[_0x490cc6(0xca)]();}function drawRoundedXMark(_0x57af46,_0x3fbd94,_0x2ce85b,_0x1acc09,_0x32281f){const _0x17bbeb=_0x399c64,_0x1f438d=_0x32281f,_0xaafdb4=_0x1f438d/Math[_0x17bbeb(0x129)],_0xab461b=_0xaafdb4*0x2,_0x5ede09=_0x3fbd94-_0x1acc09,_0x467a55=_0x3fbd94,_0x159967=_0x3fbd94+_0x1acc09,_0x5522d2=_0x2ce85b-_0x1acc09,_0x2bc98f=_0x2ce85b,_0x30e5a1=_0x2ce85b+_0x1acc09;_0x57af46['save'](),_0x57af46['beginPath'](),_0x57af46[_0x17bbeb(0x10d)](_0x5ede09+_0xab461b,_0x5522d2),_0x57af46[_0x17bbeb(0x16f)](_0x467a55,_0x2bc98f-_0xab461b),_0x57af46['lineTo'](_0x159967-_0xab461b,_0x5522d2),_0x57af46[_0x17bbeb(0x12b)](_0x159967-_0xaafdb4,_0x5522d2+_0xaafdb4,_0x1f438d,Math['PI']*0x5/0x4,Math['PI']*0x9/0x4),_0x57af46[_0x17bbeb(0x16f)](_0x159967,_0x5522d2+_0xab461b),_0x57af46[_0x17bbeb(0x16f)](_0x467a55+_0xab461b,_0x2bc98f),_0x57af46['lineTo'](_0x159967,_0x30e5a1-_0xab461b),_0x57af46['arc'](_0x159967-_0xaafdb4,_0x30e5a1-_0xaafdb4,_0x1f438d,Math['PI']*0x7/0x4,Math['PI']*0xb/0x4),_0x57af46['lineTo'](_0x159967-_0xab461b,_0x30e5a1),_0x57af46[_0x17bbeb(0x16f)](_0x467a55,_0x2bc98f+_0xab461b),_0x57af46[_0x17bbeb(0x16f)](_0x5ede09+_0xab461b,_0x30e5a1),_0x57af46[_0x17bbeb(0x12b)](_0x5ede09+_0xaafdb4,_0x30e5a1-_0xaafdb4,_0x1f438d,Math['PI']*0x1/0x4,Math['PI']*0x5/0x4),_0x57af46['lineTo'](_0x5ede09,_0x30e5a1-_0xab461b),_0x57af46[_0x17bbeb(0x16f)](_0x467a55-_0xab461b,_0x2bc98f),_0x57af46[_0x17bbeb(0x16f)](_0x5ede09,_0x5522d2+_0xab461b),_0x57af46[_0x17bbeb(0x12b)](_0x5ede09+_0xaafdb4,_0x5522d2+_0xaafdb4,_0x1f438d,Math['PI']*0x3/0x4,Math['PI']*0x7/0x4),_0x57af46[_0x17bbeb(0x174)](),_0x57af46[_0x17bbeb(0xca)]();}function roundedRect(_0x3955dc,_0x3ddbfc,_0x8411c4,_0x56ccc0,_0xa0b125,_0x6ca861,_0x325b8e=_0x399c64(0x14f)){const _0x1f7277=_0x399c64;_0x3955dc[_0x1f7277(0x1e1)](),_0x3955dc[_0x1f7277(0x21a)]=_0x325b8e,_0x3955dc[_0x1f7277(0x1dc)]=_0x325b8e,_0x3955dc[_0x1f7277(0x9f)](),_0x3955dc[_0x1f7277(0x10d)](_0x3ddbfc,_0x8411c4+_0x6ca861),_0x3955dc[_0x1f7277(0x16f)](_0x3ddbfc,_0x8411c4+_0xa0b125-_0x6ca861),_0x3955dc[_0x1f7277(0x1d3)](_0x3ddbfc,_0x8411c4+_0xa0b125,_0x3ddbfc+_0x6ca861,_0x8411c4+_0xa0b125,_0x6ca861),_0x3955dc['lineTo'](_0x3ddbfc+_0x56ccc0-_0x6ca861,_0x8411c4+_0xa0b125),_0x3955dc[_0x1f7277(0x1d3)](_0x3ddbfc+_0x56ccc0,_0x8411c4+_0xa0b125,_0x3ddbfc+_0x56ccc0,_0x8411c4+_0xa0b125-_0x6ca861,_0x6ca861),_0x3955dc[_0x1f7277(0x16f)](_0x3ddbfc+_0x56ccc0,_0x8411c4+_0x6ca861),_0x3955dc[_0x1f7277(0x1d3)](_0x3ddbfc+_0x56ccc0,_0x8411c4,_0x3ddbfc+_0x56ccc0-_0x6ca861,_0x8411c4,_0x6ca861),_0x3955dc['lineTo'](_0x3ddbfc+_0x6ca861,_0x8411c4),_0x3955dc[_0x1f7277(0x1d3)](_0x3ddbfc,_0x8411c4,_0x3ddbfc,_0x8411c4+_0x6ca861,_0x6ca861),_0x3955dc[_0x1f7277(0x174)](),_0x3955dc[_0x1f7277(0xca)]();}function _0x41a9(){const _0x62f92b=['onSymbolValue','none','userNameTextLeftX','rankUnitTextWidth','initializeWaitingRoom','createDocumentFragment','showData','now','letterCount','right','ctrlKey','playCountdownLength','innerWidth','#loginButtonMessage','fillRect','center','36Dtdwqd','maskOn','put','nextSoundPath','afterObjectItem','actLogMargin','border-box','room_member_list','userNameRx','roomName','emit','backgroundColor','strokeStyle','userNameMaxLength','cardSettings','effectNGColor','correctUnitTextLeftX','fillText','focus','#loginArea','240px','getContext','whiteSpace','leave_room_ok','loop','Tab','\x20が部屋を抜けました。ゲームを終了します','cardColMargin','innerHeight','finish\x20loadResources','classList','5px\x2030px\x2010px','getClickedCard','不正な入力値...','halfPeriodMS','parentElement','marginMax','初期パラメータ','18753957HrPTBL','takenSoundPath','px\x20\x27\x27','Enter','rank','actLogFontText','isInteger','insertAdjacentHTML','play','all_ready_play','string','22852ehyfGD','reduce','defaultValues','modeChangeToLogin','borderSize','messageBackgroundColor','correctUnit','枚取得','querySelector','wrongUnitTextWidth','countdown1Sound','isArray','beginPath','placeholder','addEventListener','blur','nextSound','wrongUnitTextLeftX','height','style','textStartY','wrong','strokeRect','isOwner','parse','setAttribute','location','#userName','bigint','marginTop','test','connect','all_ready_next_card','roomArea','mode','currentCard','総数：','volume','rankedUserResults','initialized','padding','cardRowMargin','appendChild','origFontSize','toString','size','部屋が満員です...\x27','afterArrayItem','playSound','length','maxWidthRate','log','keypress','#loginButton','correct','restore','start_play','symbol','space-around','has','tagSeq','actLogTextWidth','total','onInitialize','onNumberValue','showMessage','boxSizing','userName','winnerUserName','ready_next_card','position','join_room','fukidashiTailSize','start','correctTextRightX','#roomArea','afterbegin','every','createElement','offsetY','wrongCountRx','takenSound','footer','textStartX','title','drawImage','returnConfirmCallback','prepare_play','【枚数】','memberList','function','action','fontSize','wrongCountLx','error','45912NPXGJG','待機部屋へ戻りますか？','object','unitFontSize','maskAreaMarginRate','playOrNop','mainArea','find','img','preventDefault','game_end','justifyContent','afterObject','#memberList','同室内でのユーザ名重複...(ユーザ：\x27','createTextNode','soundSettings','centerY','cardWidth','otherUserFontColor','maskWidth','ownerUserName','onFunction','splitLinePaddingRate','currentTime','afterArray','card_phase_acted','moveTo','startTimestamp','set','#mainCanvas','splitLineStartX','eonerror','effectAlpha','removeChild','defaultIsYes','902919XSSpAI','takenTimeSec','#loadingMessage','0px','fontText','flat','cards','target','-lastInputValues','タグ不整合...tag:','endCardSound','user_disconnect_in_game','modeChangeToRoom','margin','onValue','checkTimeupIntervalMS','2065784SWiRgN','lineHeightRate','showNG','SQRT2','click','arc','fontColor','replace','messageFontColor','forEach','okSoundPath','numberTextWidth','actionResults','modeChangeToPlay','add','stopPropagation','100%','playCountdownBlinking','undefined','#000000','initSize','maxlength','shift','actLogFontSizeRate','findIndex','user','ngSoundPath','assign','#useCardCount','isComposing','marginLeftRate','1186135OphYnv','effectVolume','[sec]','px\x20\x22\x22','keydown','onBigIntValue','endX','splitLineWidth','card_phase_update_actinfo','correctUnitTextWidth','#FFFFFF','endY','clear','permitted','pageOptions','#version','cardClickedCallback','rankTextRightX','contextmenu','#mainArea','result','maskAreaColor','soundPath','globalAlpha','lineHeight','paramScriptName','block','ngSound','map','done','onloadeddata','checkTimeupIntervalID','maskShortSize','stop','altKey','shiftKey','userResults','my-name','countdown2Sound','debug','onStringValue','maskMargin','lineTo','loginArea','value','imgPath','userNameWidth','fill','textBaseline','playArea','top','splice','useCardCount','rateForContent','positionElement','min','endCardImg','number','localStorage','decideCardsSize','imgAlpha','showMask','start\x20loadResources','currentY','card_phase_card_result','お手付き','onNullOrUndefined','unitMarginRate','defaultFontSize','all','indexOf','voiceVolume','joinroom_playing_now','reason','wrongTextRightX','showLoginErrorMessage','プレイ中の部屋は入室できません...\x27','max','disabled','wrongUnit','cardPhaseAct','lastShowData','concat','exitUserName','textAlign','left','key','parent','#memberList\x20>\x20tbody','任意のテキスト','isNaN','metaKey','maskHeight','radiusFontSizeRate','ceil','offsetX','correctCountLx','#startPlayButtonArea','setItem','src','firstChild','loaded','floor','fixed','Escape','stringify','actLineHeight','notation','myUserFontColor','sqrt','onerror','trim','appId','removeAttribute','paramScript','div','get','getComputedStyle','20px','origWidth','12px\x200','next_card','splitLineOffsetY','displayCards','252KVIGcQ','allngSound','beforeObjectItem','joinroom_room_is_full','604572QwGAFM','playmat','getOwnPropertyNames','karuta','showActLog','width','displaySeq','minTakenTimeMS','sound','card','残り：','countdown1SoundPath','removeEventListener','currentTag','arcTo','maskAreaAlpha','border','#startPlayButton','origHeight','文字以内の任意のテキスト','middle','colCount','referenceHTML','fillStyle','\x27,\x20部屋名：\x27','cardHeight','rankingArea','joinroom_invaid_parameter','save','showOK','effectOKColor','to_waiting_room','measureText','endCardSettings','font','from','filter','default','focusable','rankUnit','pause','actLogTextLx','yesLabel','onload','display','textContent','show','correctCountRx','tag','countdown2SoundPath','originalCards','boolean','zIndex','pre-line','【最新の操作結果】','timeup','rowCount'];_0x41a9=function(){return _0x62f92b;};return _0x41a9();}function toRelativeName(_0x32bffd){const _0x509b25=_0x399c64;return/:\/\//[_0x509b25(0xb1)](_0x32bffd)?_0x32bffd:/^[.\/]/[_0x509b25(0xb1)](_0x32bffd)?_0x32bffd:'./'+_0x32bffd;}function getDir(_0x19a30c){const _0x29ad9a=_0x399c64;return _0x19a30c[_0x29ad9a(0x12d)](/[^/]+$/,'');}const treatObjectRec=(_0x40d331,_0x2b8d0a)=>{const _0x5a8f39=_0x399c64,_0x366215=_0x51c111=>_0x51c111!==null&&typeof _0x51c111===_0x5a8f39(0xf4)&&!Array['isArray'](_0x51c111);if(_0x366215(_0x40d331)){const _0x260e55={'parent':_0x40d331};return _0x2b8d0a['beforeObject']?.(_0x40d331,_0x260e55),Object[_0x5a8f39(0x1c7)](_0x40d331)['forEach'](_0xfaced8=>{const _0xc1658d=_0x5a8f39;_0x2b8d0a[_0xc1658d(0x1c3)]?.(_0x40d331[_0xfaced8],_0xfaced8,_0x260e55);const _0x59ee57=treatObjectRec(_0x40d331[_0xfaced8],_0x2b8d0a);_0x2b8d0a[_0xc1658d(0x212)]?.(_0x40d331[_0xfaced8],_0xfaced8,_0x260e55,_0x59ee57);}),_0x2b8d0a[_0x5a8f39(0xfe)]?.(_0x40d331,_0x260e55)??_0x40d331;}else{if(Array[_0x5a8f39(0x9e)](_0x40d331)){const _0x1c2f1b={'parent':_0x40d331};return _0x2b8d0a['beforeArray']?.(_0x40d331,_0x1c2f1b),_0x40d331[_0x5a8f39(0x12f)]((_0xddc272,_0xaa1521)=>{const _0x2e75e1=_0x5a8f39;_0x2b8d0a['beforeArrayItem']?.(_0xddc272,_0xaa1521,_0x1c2f1b);const _0x27485f=treatObjectRec(_0xddc272,_0x2b8d0a);_0x2b8d0a[_0x2e75e1(0xc2)]?.(_0xddc272,_0xaa1521,_0x1c2f1b,_0x27485f);}),_0x2b8d0a[_0x5a8f39(0x10b)]?.(_0x40d331,_0x1c2f1b)??_0x40d331;}else{if(typeof _0x40d331===_0x5a8f39(0xed))return _0x2b8d0a[_0x5a8f39(0x108)]?.(_0x40d331)??_0x40d331;else{if(typeof _0x40d331===_0x5a8f39(0x1f8))return(_0x2b8d0a['onBooleanValue']??_0x2b8d0a[_0x5a8f39(0x124)])?.(_0x40d331)??_0x40d331;else{if(typeof _0x40d331===_0x5a8f39(0x17e))return(_0x2b8d0a[_0x5a8f39(0xd3)]??_0x2b8d0a[_0x5a8f39(0x124)])?.(_0x40d331)??_0x40d331;else{if(typeof _0x40d331===_0x5a8f39(0xaf))return(_0x2b8d0a[_0x5a8f39(0x14a)]??_0x2b8d0a['onValue'])?.(_0x40d331)??_0x40d331;else{if(typeof _0x40d331===_0x5a8f39(0x92))return(_0x2b8d0a[_0x5a8f39(0x16d)]??_0x2b8d0a[_0x5a8f39(0x124)])?.(_0x40d331)??_0x40d331;else{if(typeof _0x40d331===_0x5a8f39(0xcc))return(_0x2b8d0a[_0x5a8f39(0x1fe)]??_0x2b8d0a[_0x5a8f39(0x124)])?.(_0x40d331)??_0x40d331;else{if(typeof _0x40d331===_0x5a8f39(0x138)||_0x40d331===null)return(_0x2b8d0a[_0x5a8f39(0x187)]??_0x2b8d0a[_0x5a8f39(0x124)])?.(_0x40d331)??_0x40d331;}}}}}}}}},deepAssign=(_0x307918,..._0x14f037)=>{const _0x4b094a=_0x399c64,_0x206f8c=(_0x134fb5,_0x169f59)=>{let _0x4fe7e6=_0x134fb5;return treatObjectRec(_0x169f59,{'beforeObject':(_0x3b09d5,_0x240d55)=>{_0x240d55['result']=_0x4fe7e6??{};},'beforeObjectItem':(_0x308cf6,_0x40744d,_0x2cfc95,_0x4239cf)=>{const _0x879373=_0x18ca;_0x4fe7e6=_0x2cfc95[_0x879373(0x159)][_0x40744d];},'afterObjectItem':(_0x1956e1,_0x150a51,_0x37a0dd,_0x1a507b)=>{_0x37a0dd['result'][_0x150a51]=_0x1a507b;},'afterObject':(_0x3b0878,_0x2195d4)=>{return _0x2195d4['result'];},'beforeArray':(_0x464849,_0x26826f)=>{const _0x19ca49=_0x18ca;_0x26826f[_0x19ca49(0x159)]=[];},'beforeArrayItem':(_0x998eb5,_0x32eedc,_0xa8bd68)=>{_0x4fe7e6={};},'afterArrayItem':(_0x271db0,_0x3dea4d,_0x2e11d5,_0x379dd7)=>{const _0x57e0de=_0x18ca;_0x2e11d5[_0x57e0de(0x159)][_0x3dea4d]=_0x379dd7;},'afterArray':(_0x4d8860,_0x45e8a6)=>{return _0x45e8a6['result'];}});},_0x36a443=_0xca4090=>_0xca4090!==null&&typeof _0xca4090==='object'&&!Array[_0x4b094a(0x9e)](_0xca4090);return(_0x14f037??[])[_0x4b094a(0x94)]((_0x1b56aa,_0x1a91ae)=>{return _0x36a443(_0x1a91ae)?_0x206f8c(_0x1b56aa,_0x1a91ae):_0x1b56aa;},_0x307918);};(async _0x2d8a26=>{const _0x120232=_0x399c64,_0xa4e009=(_0x2d8a26[_0x120232(0x1b5)]??_0x120232(0x1c8))+_0x120232(0x11e);{const _0x2cc50d=new URL(window[_0x120232(0xad)])['searchParams'];_0x2cc50d[_0x120232(0xce)](_0x120232(0x16c))&&(_0x2d8a26[_0x120232(0x16c)]=!![]);{const _0x287272=[_0x120232(0x1b7),'paramscript','ps'][_0x120232(0x161)](_0x30d04e=>_0x2cc50d['get'](_0x30d04e))[_0x120232(0xf9)](_0x4cad0d=>_0x4cad0d)||_0x2d8a26[_0x120232(0x15e)];if(_0x287272){const _0xaca839=(await import(toRelativeName(_0x287272)))[_0x120232(0x1ea)],_0x572e98=getDir(_0x287272);/\/$/[_0x120232(0xb1)](_0x572e98)&&treatObjectRec(_0xaca839,{'afterObjectItem':(_0x2d4788,_0xe6eeec,_0x483b3b)=>{const _0x42f81e=_0x120232;typeof _0x2d4788==='string'&&/path$/i[_0x42f81e(0xb1)](_0xe6eeec)&&(_0x483b3b[_0x42f81e(0x19c)][_0xe6eeec]=_0x572e98+_0x2d4788);}}),_0x2d8a26=deepAssign({},_0x2d8a26,_0xaca839);}}_0x2d8a26[_0x120232(0x16c)]&&console['log'](_0x120232(0x87),_0x2d8a26);}const _0x14b44c={'isOwner':![],'mode':_0x120232(0x170),'userName':null,'roomName':null},_0x265fde={'originalCards':_0x2d8a26[_0x120232(0x11c)]},_0x1b654a={'loaded':![],'playOrNop':_0x13e458=>{const _0x58fff6=_0x120232;_0x13e458&&(_0x13e458['currentTime']=0x0,_0x13e458[_0x58fff6(0x90)]?.());},'playSound':_0x147c33=>{const _0xdaaaeb=_0x120232;_0x147c33[_0xdaaaeb(0x10a)]=0x0,_0x147c33['play']?.();}},_0x50aab2={};{_0x2d8a26['pageOptions'][_0x120232(0xe7)]&&(document['title']=_0x2d8a26[_0x120232(0x153)]['title'],(document[_0x120232(0x9b)]('h1')??{})[_0x120232(0x1f2)]=_0x2d8a26[_0x120232(0x153)][_0x120232(0xe7)]),_0x2d8a26[_0x120232(0x153)]['referenceHTML']&&document[_0x120232(0x9b)](_0x120232(0xe5))[_0x120232(0x8f)](_0x120232(0xdf),_0x2d8a26[_0x120232(0x153)][_0x120232(0x1db)]);}{const _0x4ccd71=window['localStorage']?JSON[_0x120232(0xab)](window[_0x120232(0x17f)]['getItem'](_0xa4e009)):null,_0x489a55=(_0x497483,_0x1f7195)=>_0x4ccd71?.[_0x497483]??_0x1f7195,_0x5d0587=document[_0x120232(0x9b)](_0x120232(0x118)),_0x310cb9=document[_0x120232(0x9b)](_0x120232(0x221)),_0x540635=document[_0x120232(0x9b)](_0x120232(0xde)),_0x3bfdde=document['querySelector'](_0x120232(0x158)),_0x24add5=document[_0x120232(0x9b)](_0x120232(0x1a6));_0x50aab2[_0x120232(0x96)]=()=>{const _0x43402c=_0x120232;_0x14b44c[_0x43402c(0xb5)]=_0x43402c(0x170),_0x5d0587[_0x43402c(0xa6)]['display']='none',_0x310cb9[_0x43402c(0xa6)][_0x43402c(0x1f1)]=_0x43402c(0x15f),_0x540635[_0x43402c(0xa6)]['display']='none',_0x3bfdde['style'][_0x43402c(0x1f1)]=_0x43402c(0x1ff),_0x3df403[_0x43402c(0x220)]();},_0x50aab2[_0x120232(0x122)]=()=>{const _0x3605f8=_0x120232;_0x14b44c[_0x3605f8(0xb5)]=_0x3605f8(0xb4),_0x5d0587[_0x3605f8(0xa6)]['display']=_0x3605f8(0x1ff),_0x310cb9[_0x3605f8(0xa6)][_0x3605f8(0x1f1)]='none',_0x540635['style'][_0x3605f8(0x1f1)]='block',_0x3bfdde[_0x3605f8(0xa6)][_0x3605f8(0x1f1)]=_0x3605f8(0x1ff),_0x59d618[_0x3605f8(0x1f2)]='';},_0x50aab2[_0x120232(0x133)]=()=>{const _0xd02593=_0x120232;_0x14b44c[_0xd02593(0xb5)]=_0xd02593(0xf8),_0x5d0587[_0xd02593(0xa6)][_0xd02593(0x1f1)]=_0xd02593(0x1ff),_0x310cb9[_0xd02593(0xa6)][_0xd02593(0x1f1)]=_0xd02593(0x1ff),_0x540635['style'][_0xd02593(0x1f1)]=_0xd02593(0x1ff),_0x3bfdde[_0xd02593(0xa6)][_0xd02593(0x1f1)]=_0xd02593(0x15f);};const _0x3d0407=document[_0x120232(0x9b)](_0x120232(0xff)),_0x1578bd=document[_0x120232(0x9b)](_0x120232(0x19d)),_0x435435=document['querySelector'](_0x120232(0xc8)),_0x25cc85=document['querySelector']('#logoutButton'),_0xe1b2d2=document[_0x120232(0x9b)](_0x120232(0x142)),_0x4c993d=document[_0x120232(0x9b)](_0x120232(0x1d6)),_0x3df403=document[_0x120232(0x9b)](_0x120232(0xae)),_0x35f7da=document[_0x120232(0x9b)]('#roomName'),_0x59d618=document['querySelector'](_0x120232(0x20b));_0x3df403[_0x120232(0xac)](_0x120232(0xa0),'任意のテキスト'),_0x35f7da['setAttribute'](_0x120232(0xa0),_0x120232(0x19e)),_0x3df403[_0x120232(0xa1)](_0x120232(0x149),_0x552ac8=>{const _0x35b925=_0x120232;!_0x552ac8[_0x35b925(0x143)]&&_0x552ac8[_0x35b925(0x19b)]===_0x35b925(0x8b)&&_0x35f7da[_0x35b925(0x220)]();}),_0x35f7da[_0x120232(0xa1)](_0x120232(0x149),_0x32131b=>{const _0x398841=_0x120232;!_0x32131b[_0x398841(0x143)]&&_0x32131b['shiftKey']&&_0x32131b['key']===_0x398841(0x8b)&&_0x3df403['focus'](),!_0x32131b[_0x398841(0x143)]&&!_0x32131b[_0x398841(0x168)]&&_0x32131b[_0x398841(0x19b)]===_0x398841(0x8b)&&_0x435435[_0x398841(0x220)]();}),_0x3df403[_0x120232(0x171)]=_0x489a55('userName',_0x2d8a26[_0x120232(0x95)][_0x120232(0xd6)]),_0x35f7da[_0x120232(0x171)]=_0x489a55(_0x120232(0x217),_0x2d8a26[_0x120232(0x95)][_0x120232(0x217)]);const _0x2847e=_0x4c9182=>{const _0x15b541=_0x120232;_0x14b44c[_0x15b541(0x217)]=_0x35f7da['value']['trim'](),_0x14b44c[_0x15b541(0xd6)]=_0x3df403[_0x15b541(0x171)][_0x15b541(0x1b4)](),window[_0x15b541(0x17f)]&&window[_0x15b541(0x17f)][_0x15b541(0x1a7)](_0xa4e009,JSON[_0x15b541(0x1ae)]({'roomName':_0x14b44c[_0x15b541(0x217)],'userName':_0x14b44c[_0x15b541(0xd6)]})),_0x3fd8f4[_0x15b541(0x218)](_0x15b541(0xda),{'appId':_0x2d8a26[_0x15b541(0x1b5)],'dataId':_0x2d8a26['dataId'],'roomName':_0x14b44c['roomName'],'userName':_0x14b44c[_0x15b541(0xd6)]});};_0x435435[_0x120232(0xa1)]('click',_0x2847e),_0x25cc85[_0x120232(0xa1)](_0x120232(0x12a),_0x56d36c=>{const _0x18eae4=_0x120232;_0x3fd8f4[_0x18eae4(0x218)]('leave_room',{});});const _0xb3c033=0x2;_0xe1b2d2[_0x120232(0xa1)](_0x120232(0xa2),()=>{const _0x2e26bd=_0x120232,_0x15b591=_0x1b654a['cards'][_0x2e26bd(0xc0)],_0x56cecc=parseInt(_0xe1b2d2[_0x2e26bd(0x171)],0x0),_0x1317ce=!Number[_0x2e26bd(0x8e)](_0x56cecc)?_0x15b591:_0x56cecc>_0x15b591?_0x15b591:_0x56cecc<_0xb3c033?_0xb3c033:_0x56cecc;_0xe1b2d2[_0x2e26bd(0x171)]=_0x1317ce,_0x50aab2[_0x2e26bd(0x179)]=_0x1317ce;}),_0x4c993d[_0x120232(0xa1)](_0x120232(0x12a),_0x25b4e9=>{const _0x147f67=_0x120232;_0x3fd8f4['emit'](_0x147f67(0xcb),{'cards':_0x265fde['originalCards'],'useCardCount':_0x50aab2[_0x147f67(0x179)]});}),_0x50aab2['initializeWaitingRoom']=_0x4ee1f0=>{const _0x193d05=_0x120232;_0x265fde['currentCard']&&_0x265fde[_0x193d05(0xb6)][_0x193d05(0x1cd)]?.['pause']?.();_0x25cc85[_0x193d05(0x85)][_0x193d05(0x114)](_0x25cc85);while(_0x1578bd[_0x193d05(0x1a9)]){_0x1578bd['removeChild'](_0x1578bd['firstChild']);}const _0x4d5f83=_0x4ee1f0[_0x193d05(0xec)]['map'](_0x582d9d=>{const _0x4b7685=_0x193d05;return newElem('tr',[newElem('td',_0x582d9d===_0x4ee1f0[_0x4b7685(0x107)]?['✔']:[]),newElem('td',[_0x582d9d],_0x582d9d===_0x14b44c[_0x4b7685(0xd6)]?[_0x4b7685(0x16a)]:[]),newElem('td',_0x582d9d===_0x14b44c['userName']?[_0x25cc85]:[])]);})[_0x193d05(0x94)]((_0x46973c,_0x4deabc)=>{const _0x375e96=_0x193d05;return _0x46973c[_0x375e96(0xbd)](_0x4deabc),_0x46973c;},document[_0x193d05(0x203)]());;_0x1578bd[_0x193d05(0xbd)](_0x4d5f83),_0x14b44c[_0x193d05(0xaa)]=_0x4ee1f0[_0x193d05(0x107)]===_0x14b44c['userName'],_0x24add5['style'][_0x193d05(0x1f1)]=_0x14b44c[_0x193d05(0xaa)]?'block':_0x193d05(0x1ff),_0x14b44c[_0x193d05(0xaa)]&&(_0xe1b2d2[_0x193d05(0x17c)]=_0xb3c033,_0xe1b2d2[_0x193d05(0x192)]=_0x1b654a[_0x193d05(0x11c)]['size'],!_0xe1b2d2['value']&&(_0xe1b2d2['value']=_0x50aab2['useCardCount']??_0x1b654a[_0x193d05(0x11c)][_0x193d05(0xc0)])),_0x4ee1f0['memberList'][_0x193d05(0xc4)]>=0x2?_0x4c993d[_0x193d05(0x1b6)]('disabled'):_0x4c993d[_0x193d05(0xac)](_0x193d05(0x193),!![]),clearInterval(_0x265fde[_0x193d05(0x164)]),_0x179148[_0x193d05(0x1d1)](_0x193d05(0x12a),_0x265fde[_0x193d05(0x155)]),_0x179148[_0x193d05(0x1d1)](_0x193d05(0x12a),_0x265fde[_0x193d05(0xe9)]);},_0x50aab2[_0x120232(0x190)]=_0x3e9336=>{_0x59d618['textContent']=_0x3e9336;},_0x50aab2[_0x120232(0xd2)]=_0x38c131=>{const _0x1a4b39=_0x120232;_0x3df403['setAttribute'](_0x1a4b39(0x13b),_0x38c131[_0x1a4b39(0x21b)]),_0x3df403[_0x1a4b39(0xac)]('placeholder',_0x38c131['userNameMaxLength']+_0x1a4b39(0x1d8)),_0x2d8a26['debug']&&(_0x3df403['value']=_0x1a4b39(0x13f)+_0x38c131['userNumber']);};}const _0x5d8b41=async()=>{const _0xd5769a=_0x120232;if(_0x1b654a[_0xd5769a(0x1aa)])return;console[_0xd5769a(0xc6)](_0xd5769a(0x183));const _0x5c65ff=await Promise['all']([_0x2d8a26[_0xd5769a(0x102)][_0xd5769a(0x130)],_0x2d8a26[_0xd5769a(0x102)][_0xd5769a(0x140)],_0x2d8a26[_0xd5769a(0x102)][_0xd5769a(0x89)],_0x2d8a26[_0xd5769a(0x102)]['allngSoundPath'],_0x2d8a26['soundSettings'][_0xd5769a(0x211)],_0x2d8a26['soundSettings'][_0xd5769a(0x1d0)],_0x2d8a26[_0xd5769a(0x102)][_0xd5769a(0x1f6)]][_0xd5769a(0x161)](loadSyncAudio));_0x5c65ff['forEach'](_0x5b09b5=>{const _0x2f377d=_0xd5769a;_0x5b09b5[_0x2f377d(0xb8)]=_0x2d8a26[_0x2f377d(0x102)][_0x2f377d(0x146)];}),_0x1b654a['okSound']=_0x5c65ff[_0xd5769a(0x13c)](),_0x1b654a[_0xd5769a(0x160)]=_0x5c65ff[_0xd5769a(0x13c)](),_0x1b654a['takenSound']=_0x5c65ff[_0xd5769a(0x13c)](),_0x1b654a[_0xd5769a(0x1c2)]=_0x5c65ff[_0xd5769a(0x13c)](),_0x1b654a[_0xd5769a(0xa3)]=_0x5c65ff[_0xd5769a(0x13c)](),_0x1b654a[_0xd5769a(0x9d)]=_0x5c65ff[_0xd5769a(0x13c)](),_0x1b654a[_0xd5769a(0x16b)]=_0x5c65ff['shift'](),_0x1b654a[_0xd5769a(0x120)]=_0x2d8a26['endCardSettings'][_0xd5769a(0x15b)]?await loadSyncAudio(_0x2d8a26[_0xd5769a(0x1e6)][_0xd5769a(0x15b)]):null,_0x1b654a[_0xd5769a(0x17d)]=_0x2d8a26[_0xd5769a(0x1e6)]['imgPath']?await loadSyncImage(_0x2d8a26['endCardSettings'][_0xd5769a(0x172)]):null;const _0x2841c4=_0x2d8a26['cards'][_0xd5769a(0x1e9)](_0x4efaff=>_0x4efaff['imgPath']&&_0x4efaff[_0xd5769a(0x15b)]),_0xa50fa9=await Promise[_0xd5769a(0x18a)](_0x2841c4['map'](_0xea1cba=>_0xea1cba[_0xd5769a(0x172)])[_0xd5769a(0x161)](loadSyncImage)),_0x1f7c39=_0xa50fa9[_0xd5769a(0x161)](_0x4f751c=>{const _0x4b5bdc=_0xd5769a,_0x23ca1f=document[_0x4b5bdc(0xe1)]('canvas');_0x23ca1f[_0x4b5bdc(0x1ca)]=_0x2d8a26[_0x4b5bdc(0x21c)][_0x4b5bdc(0x1bc)]+0x2*_0x2d8a26[_0x4b5bdc(0x21c)][_0x4b5bdc(0x97)],_0x23ca1f['height']=_0x2d8a26[_0x4b5bdc(0x21c)][_0x4b5bdc(0x1d7)]+0x2*_0x2d8a26['cardSettings'][_0x4b5bdc(0x97)];const _0x403925=_0x23ca1f[_0x4b5bdc(0x223)]('2d');return _0x403925[_0x4b5bdc(0x1dc)]=_0x2d8a26[_0x4b5bdc(0x21c)]['borderColor'],_0x403925[_0x4b5bdc(0x20c)](0x0,0x0,_0x23ca1f['width'],_0x23ca1f['height']),_0x403925[_0x4b5bdc(0xe8)](_0x4f751c,_0x2d8a26[_0x4b5bdc(0x21c)][_0x4b5bdc(0x97)],_0x2d8a26[_0x4b5bdc(0x21c)]['borderSize'],_0x2d8a26[_0x4b5bdc(0x21c)][_0x4b5bdc(0x1bc)],_0x2d8a26[_0x4b5bdc(0x21c)]['origHeight']),_0x23ca1f;}),_0x4d816e=await Promise[_0xd5769a(0x18a)](_0x2841c4[_0xd5769a(0x161)](_0x3d484d=>_0x3d484d[_0xd5769a(0x15b)])[_0xd5769a(0x161)](loadSyncAudio));_0x4d816e[_0xd5769a(0x12f)](_0xced8ad=>{const _0x2f8d0a=_0xd5769a;_0xced8ad[_0x2f8d0a(0x226)]=!![],_0xced8ad[_0x2f8d0a(0xb8)]=_0x2d8a26['soundSettings'][_0x2f8d0a(0x18c)];}),_0x1b654a[_0xd5769a(0x11c)]=new Map(),_0x2841c4[_0xd5769a(0x12f)]((_0x362447,_0x590b8a)=>{const _0xdb9773=_0xd5769a;_0x1b654a['cards'][_0xdb9773(0x10f)](_0x362447['id'],{'img':_0x1f7c39[_0x590b8a],'sound':_0x4d816e[_0x590b8a]});}),_0x1b654a['loaded']=!![],_0x2d8a26[_0xd5769a(0x16c)]?console['log'](_0xd5769a(0x22b),_0x1b654a):console[_0xd5769a(0xc6)](_0xd5769a(0x22b));};await _0x5d8b41();const _0x3fd8f4=io[_0x120232(0xb2)]();_0x3fd8f4['on']('initialize',_0x12a29f=>{const _0xe85e3c=_0x120232;_0x50aab2[_0xe85e3c(0xd2)](_0x12a29f),_0x50aab2[_0xe85e3c(0x96)]();}),_0x3fd8f4['on'](_0x120232(0x18d),_0x250ced=>{const _0x1ed26b=_0x120232;_0x50aab2[_0x1ed26b(0x190)](_0x1ed26b(0x191)+_0x250ced[_0x1ed26b(0x217)]+'\x27');}),_0x3fd8f4['on']('joinroom_duplicated_usename',_0x3d7801=>{const _0x49adbd=_0x120232;_0x50aab2['showLoginErrorMessage'](_0x49adbd(0x100)+_0x3d7801[_0x49adbd(0xd6)]+_0x49adbd(0x1dd)+_0x3d7801[_0x49adbd(0x217)]+'\x27)');}),_0x3fd8f4['on'](_0x120232(0x1c4),_0x168f6f=>{const _0x3c527b=_0x120232;_0x50aab2[_0x3c527b(0x190)](_0x3c527b(0xc1)+_0x168f6f[_0x3c527b(0x217)]+'\x27');}),_0x3fd8f4['on'](_0x120232(0x1e0),_0x116982=>{const _0x56385e=_0x120232;_0x50aab2[_0x56385e(0x190)](_0x56385e(0x83)+_0x116982[_0x56385e(0x18e)]);}),_0x3fd8f4['on'](_0x120232(0x215),_0x139928=>{const _0x13bb4c=_0x120232;if(_0x14b44c[_0x13bb4c(0xb5)]===_0x13bb4c(0x170))_0x50aab2[_0x13bb4c(0x122)]();else{if(_0x14b44c['mode']===_0x13bb4c(0xb4)){}}_0x50aab2['initializeWaitingRoom'](_0x139928);}),_0x3fd8f4['on'](_0x120232(0x225),_0x8245e3=>{const _0x430e39=_0x120232;_0x50aab2[_0x430e39(0x96)]();}),_0x3fd8f4['on'](_0x120232(0x121),async _0x4b3f65=>{const _0xf6708d=_0x120232;await showConfirmTextDialog(_0x4b3f65[_0xf6708d(0x198)]+_0xf6708d(0x228),{'noLabel':''}),_0x50aab2[_0xf6708d(0x122)](),_0x50aab2[_0xf6708d(0x202)](_0x4b3f65);}),_0x3fd8f4['on'](_0x120232(0x1e4),_0x37db9b=>{const _0x5172f1=_0x120232;if(_0x14b44c[_0x5172f1(0xb5)]===_0x5172f1(0xb4))return;_0x50aab2['modeChangeToRoom'](),_0x50aab2['initializeWaitingRoom'](_0x37db9b);});const _0x179148=document[_0x120232(0x9b)](_0x120232(0x110)),_0x3a01e6=_0x179148['getContext']('2d'),_0x20a5de=Object[_0x120232(0x141)]({},_0x2d8a26['progressArea']),_0x5a093b=Object[_0x120232(0x141)]({},_0x2d8a26[_0x120232(0x176)]),_0x21fe4d=()=>{const _0xe4ac7a=_0x120232;_0x3a01e6[_0xe4ac7a(0x1dc)]=_0x5a093b[_0xe4ac7a(0x219)],_0x3a01e6['fillRect'](0x0,0x0,_0x179148['width'],_0x179148[_0xe4ac7a(0xa5)]);},_0x23f8c5=()=>{const _0x5408a9=_0x120232;{const _0x71d1b6=Math[_0x5408a9(0x17c)](Math[_0x5408a9(0x1ab)](window['innerWidth']*_0x2d8a26['playmat'][_0x5408a9(0x144)]),_0x2d8a26['playmat'][_0x5408a9(0x86)]),_0x3be4c=Math[_0x5408a9(0x17c)](Math[_0x5408a9(0x1ab)](window['innerHeight']*_0x2d8a26[_0x5408a9(0x1c6)]['marginTopRate']),_0x2d8a26['playmat'][_0x5408a9(0x86)]);_0x179148['x']=0x0,_0x179148['y']=0x0,_0x179148[_0x5408a9(0x1ca)]=window[_0x5408a9(0x20a)]-0x2*_0x71d1b6,_0x179148[_0x5408a9(0xa5)]=window[_0x5408a9(0x22a)]-0x2*_0x3be4c,_0x179148[_0x5408a9(0xa6)]['marginLeft']=_0x71d1b6+'px',_0x179148[_0x5408a9(0xa6)][_0x5408a9(0xb0)]=_0x3be4c+'px',_0x179148[_0x5408a9(0xa1)](_0x5408a9(0x157),_0xd6b90c=>{const _0x5deeab=_0x5408a9;_0xd6b90c[_0x5deeab(0xfb)]();});}{_0x5a093b['x']=0x0,_0x5a093b['y']=0x0,_0x5a093b['width']=_0x179148[_0x5408a9(0x1ca)]-_0x20a5de[_0x5408a9(0x1ca)],_0x5a093b[_0x5408a9(0xa5)]=_0x179148[_0x5408a9(0xa5)],_0x5a093b[_0x5408a9(0x20f)]=![],_0x5a093b[_0x5408a9(0x165)]=Math[_0x5408a9(0x17c)](_0x5a093b[_0x5408a9(0x1ca)],_0x5a093b[_0x5408a9(0xa5)]),_0x5a093b[_0x5408a9(0x16e)]=_0x5a093b[_0x5408a9(0x165)]*_0x5a093b['notation'][_0x5408a9(0xf6)],_0x5a093b[_0x5408a9(0x106)]=_0x5a093b[_0x5408a9(0x1ca)]-0x2*_0x5a093b[_0x5408a9(0x16e)],_0x5a093b[_0x5408a9(0x1a1)]=_0x5a093b['height']-0x2*_0x5a093b[_0x5408a9(0x16e)];}{_0x20a5de[_0x5408a9(0xa5)]=_0x179148[_0x5408a9(0xa5)],_0x20a5de[_0x5408a9(0x1a4)]=_0x5a093b['width'],_0x20a5de[_0x5408a9(0xe2)]=0x0,_0x20a5de['endY']=_0x20a5de[_0x5408a9(0xa5)]-_0x20a5de[_0x5408a9(0xe2)],_0x20a5de[_0x5408a9(0xe6)]=_0x20a5de[_0x5408a9(0x1a4)]+_0x20a5de[_0x5408a9(0x123)];const _0x281e9f=_0x20a5de[_0x5408a9(0x1a4)]+_0x20a5de[_0x5408a9(0x1ca)];let _0x54d5f9=_0x281e9f;_0x20a5de[_0x5408a9(0xe3)]=_0x54d5f9-=_0x20a5de[_0x5408a9(0x123)],_0x20a5de[_0x5408a9(0xf0)]=_0x54d5f9-=_0x20a5de['numberTextWidth'],_0x20a5de[_0x5408a9(0x1f4)]=_0x54d5f9-=_0x20a5de[_0x5408a9(0x123)],_0x20a5de[_0x5408a9(0x1a5)]=_0x54d5f9-=_0x20a5de[_0x5408a9(0x131)],_0x20a5de[_0x5408a9(0x216)]=_0x54d5f9,_0x20a5de[_0x5408a9(0x173)]=_0x54d5f9-_0x20a5de[_0x5408a9(0xe6)],_0x20a5de[_0x5408a9(0x1ee)]=_0x20a5de[_0x5408a9(0x216)]+_0x20a5de[_0x5408a9(0x213)],_0x20a5de[_0x5408a9(0xd0)]=_0x281e9f-_0x20a5de[_0x5408a9(0x213)]-_0x20a5de['actLogTextLx'],_0x20a5de['initialized']=![],_0x20a5de[_0x5408a9(0xbe)]=_0x20a5de[_0x5408a9(0xef)];}};{_0x20a5de[_0x120232(0x13a)]=_0x1352c2=>{const _0x570ead=_0x120232;if(_0x20a5de[_0x570ead(0xba)])return;_0x20a5de[_0x570ead(0xba)]=!![];const _0x588878=0x7+(0x1+_0x20a5de[_0x570ead(0x13d)])*_0x1352c2[_0x570ead(0x169)]['length'];_0x20a5de[_0x570ead(0xef)]=Math[_0x570ead(0x17c)]((_0x20a5de[_0x570ead(0xa5)]-0x2*_0x20a5de['margin'])/_0x588878/_0x20a5de[_0x570ead(0x127)],_0x20a5de[_0x570ead(0xbe)]);const _0x4087ee=_0x20a5de[_0x570ead(0xef)]*_0x20a5de[_0x570ead(0x13d)];_0x20a5de['fontText']=_0x20a5de[_0x570ead(0xef)]+_0x570ead(0x8a),_0x20a5de['actLogFontText']=_0x4087ee+'px\x20\x27\x27',_0x20a5de['lineHeight']=Math[_0x570ead(0x1a3)](_0x20a5de[_0x570ead(0xef)]*_0x20a5de[_0x570ead(0x127)]),_0x20a5de[_0x570ead(0x1af)]=Math[_0x570ead(0x1a3)](_0x4087ee*_0x20a5de[_0x570ead(0x127)]);},_0x20a5de[_0x120232(0x1f3)]=(_0x4b0282,_0x40d4a0=![])=>{const _0x5c894b=_0x120232;_0x20a5de[_0x5c894b(0x13a)](_0x4b0282),_0x3a01e6['save'](),_0x3a01e6[_0x5c894b(0x1dc)]=_0x20a5de['backgroundColor'],_0x3a01e6[_0x5c894b(0x20c)](_0x20a5de['offsetX'],_0x20a5de[_0x5c894b(0xe2)],_0x20a5de[_0x5c894b(0x1ca)],_0x20a5de[_0x5c894b(0xa5)]),_0x3a01e6[_0x5c894b(0x21a)]=_0x20a5de['splitLineColor'],_0x3a01e6[_0x5c894b(0x175)]=_0x5c894b(0x177),_0x3a01e6[_0x5c894b(0x1e7)]=_0x20a5de[_0x5c894b(0x11a)],_0x3a01e6[_0x5c894b(0x1dc)]=_0x20a5de['fontColor'];let _0x50d967=_0x20a5de[_0x5c894b(0xe2)]+_0x20a5de['margin'];_0x3a01e6[_0x5c894b(0x199)]=_0x5c894b(0x19a),_0x3a01e6[_0x5c894b(0x21f)](_0x5c894b(0xeb),_0x20a5de[_0x5c894b(0xe6)],_0x50d967),_0x50d967+=_0x20a5de['lineHeight'],_0x3a01e6['fillText'](_0x5c894b(0xb7)+_0x4b0282['count'][_0x5c894b(0xd1)]+'枚',_0x20a5de['textStartX'],_0x50d967),_0x50d967+=_0x20a5de[_0x5c894b(0x15d)],_0x3a01e6['fillText'](_0x5c894b(0x1cf)+_0x4b0282['count']['rest']+'枚',_0x20a5de[_0x5c894b(0xe6)],_0x50d967),_0x50d967+=_0x20a5de[_0x5c894b(0x15d)],_0x3a01e6['strokeRect'](_0x20a5de[_0x5c894b(0xe6)],_0x50d967+_0x20a5de[_0x5c894b(0x15d)]/0x2,_0x20a5de['width']-0x2*_0x20a5de[_0x5c894b(0x123)],0x0),_0x50d967+=_0x20a5de[_0x5c894b(0x15d)],_0x3a01e6[_0x5c894b(0x199)]=_0x5c894b(0x19a),_0x3a01e6['fillText']('取得',_0x20a5de[_0x5c894b(0x1a5)],_0x50d967,_0x20a5de[_0x5c894b(0x131)]),_0x3a01e6[_0x5c894b(0x21f)](_0x5c894b(0x186),_0x20a5de[_0x5c894b(0xf0)],_0x50d967,_0x20a5de[_0x5c894b(0x131)]),_0x50d967+=_0x20a5de[_0x5c894b(0x15d)],_0x4b0282[_0x5c894b(0x169)][_0x5c894b(0x12f)](_0x1f6f00=>{const _0x3fc8e0=_0x5c894b;_0x3a01e6[_0x3fc8e0(0x1dc)]=_0x1f6f00[_0x3fc8e0(0xd6)]===_0x14b44c[_0x3fc8e0(0xd6)]?_0x20a5de[_0x3fc8e0(0x1b1)]:_0x20a5de[_0x3fc8e0(0x105)],_0x3a01e6[_0x3fc8e0(0x199)]=_0x3fc8e0(0x207),_0x3a01e6[_0x3fc8e0(0x21f)](_0x1f6f00[_0x3fc8e0(0xd6)],_0x20a5de['userNameRx'],_0x50d967,_0x20a5de['userNameWidth']),_0x3a01e6[_0x3fc8e0(0x21f)](_0x1f6f00[_0x3fc8e0(0xc9)][_0x3fc8e0(0xbf)](),_0x20a5de['correctCountRx'],_0x50d967,_0x20a5de[_0x3fc8e0(0x131)]),_0x3a01e6[_0x3fc8e0(0x21f)](_0x1f6f00[_0x3fc8e0(0xa8)][_0x3fc8e0(0xbf)](),_0x20a5de[_0x3fc8e0(0xe3)],_0x50d967,_0x20a5de[_0x3fc8e0(0x131)]),_0x50d967+=_0x20a5de[_0x3fc8e0(0x15d)];}),_0x3a01e6[_0x5c894b(0xa9)](_0x20a5de[_0x5c894b(0xe6)],_0x50d967+_0x20a5de['lineHeight']/0x2,_0x20a5de[_0x5c894b(0x1ca)]-0x2*_0x20a5de[_0x5c894b(0x123)],0x0),_0x50d967+=_0x20a5de[_0x5c894b(0x15d)],_0x3a01e6['fillStyle']=_0x20a5de[_0x5c894b(0x12c)],_0x3a01e6[_0x5c894b(0x199)]=_0x5c894b(0x19a),_0x3a01e6['fillText'](_0x5c894b(0x1fb),_0x20a5de[_0x5c894b(0xe6)],_0x50d967),_0x50d967+=_0x20a5de[_0x5c894b(0x15d)],_0x20a5de[_0x5c894b(0x184)]=_0x50d967,_0x40d4a0&&_0x20a5de['showActLog'](_0x4b0282[_0x5c894b(0x132)]),_0x3a01e6[_0x5c894b(0xca)]();},_0x20a5de[_0x120232(0x1c9)]=_0x9b41cc=>{const _0x269fda=_0x120232;_0x3a01e6[_0x269fda(0x1e1)](),_0x3a01e6['textBaseline']='top',_0x3a01e6[_0x269fda(0x1e7)]=_0x20a5de[_0x269fda(0x8d)],_0x3a01e6['fillStyle']=_0x20a5de[_0x269fda(0x219)],_0x3a01e6[_0x269fda(0x20c)](_0x20a5de['offsetX'],_0x20a5de[_0x269fda(0x184)],_0x20a5de[_0x269fda(0x1ca)],_0x20a5de[_0x269fda(0x150)]-_0x20a5de[_0x269fda(0x184)]);let _0x3bf42b=_0x20a5de[_0x269fda(0x184)];_0x9b41cc[_0x269fda(0x12f)](_0x2b6321=>{const _0x11d8ed=_0x269fda,_0x3ec696=_0x2b6321['correct']?_0x2b6321[_0x11d8ed(0x117)]+_0x11d8ed(0x147):_0x2b6321['action']===_0x11d8ed(0x12a)?_0x11d8ed(0x186):_0x2b6321[_0x11d8ed(0xee)]===_0x11d8ed(0x1fc)?'':'';_0x3ec696&&(_0x3a01e6[_0x11d8ed(0x1dc)]=_0x2b6321['userName']===_0x14b44c[_0x11d8ed(0xd6)]?_0x20a5de[_0x11d8ed(0x1b1)]:_0x20a5de[_0x11d8ed(0x105)],_0x3a01e6[_0x11d8ed(0x199)]=_0x11d8ed(0x207),_0x3a01e6['fillText'](_0x2b6321['userName'],_0x20a5de[_0x11d8ed(0x216)],_0x3bf42b,_0x20a5de[_0x11d8ed(0x173)]),_0x3a01e6[_0x11d8ed(0x199)]=_0x11d8ed(0x19a),_0x3a01e6[_0x11d8ed(0x21f)](_0x3ec696,_0x20a5de[_0x11d8ed(0x1ee)],_0x3bf42b,_0x20a5de[_0x11d8ed(0xd0)]),_0x3bf42b+=_0x20a5de[_0x11d8ed(0x1af)]);}),_0x3a01e6[_0x269fda(0xca)]();};}const _0x51e46d={};{const _0x3efa37=_0x507c57=>{const _0x5b7eac=_0x120232,_0x27fa0a=_0x507c57[_0x5b7eac(0xc4)],_0x4c16f9=_0x2d8a26[_0x5b7eac(0x21c)][_0x5b7eac(0x1bc)],_0x24bd65=_0x2d8a26['cardSettings'][_0x5b7eac(0x1d7)],[_0x5bd1d0,_0x5a2cd2,_0x4fdadf,_0x591abb]=((()=>{const _0x58d4d5=_0x5b7eac,_0x572ef4=_0x5a093b[_0x58d4d5(0x1ca)]/_0x4c16f9/(_0x5a093b[_0x58d4d5(0xa5)]/_0x24bd65);let _0x207398,_0x24731a,_0x59e9f0,_0x3a05e6;if(_0x572ef4<0x1){const _0x5695e3=Math['sqrt'](_0x27fa0a*_0x572ef4);_0x59e9f0=Math[_0x58d4d5(0x1a3)](_0x5695e3),_0x3a05e6=Math[_0x58d4d5(0x1ab)](_0x5695e3),_0x207398=Math[_0x58d4d5(0x1a3)](_0x27fa0a/_0x59e9f0),_0x24731a=Math['ceil'](_0x27fa0a/_0x3a05e6);}else{const _0xb2ff91=Math[_0x58d4d5(0x1b2)](_0x27fa0a/_0x572ef4);_0x207398=Math[_0x58d4d5(0x1a3)](_0xb2ff91),_0x24731a=Math[_0x58d4d5(0x1ab)](_0xb2ff91),_0x59e9f0=Math['ceil'](_0x27fa0a/_0x207398),_0x3a05e6=Math[_0x58d4d5(0x1a3)](_0x27fa0a/_0x24731a);}const _0x4871a0=Math[_0x58d4d5(0x17c)](_0x5a093b[_0x58d4d5(0x1ca)]/_0x59e9f0/_0x4c16f9,_0x5a093b[_0x58d4d5(0xa5)]/_0x207398/_0x24bd65)*_0x2d8a26[_0x58d4d5(0x21c)][_0x58d4d5(0x17a)],_0x27591a=Math[_0x58d4d5(0x17c)](_0x5a093b[_0x58d4d5(0x1ca)]/_0x3a05e6/_0x4c16f9,_0x5a093b[_0x58d4d5(0xa5)]/_0x24731a/_0x24bd65)*_0x2d8a26[_0x58d4d5(0x21c)][_0x58d4d5(0x17a)];return _0x4871a0>_0x27591a?[_0x59e9f0,_0x207398,Math[_0x58d4d5(0x1ab)](_0x4871a0*_0x4c16f9),Math[_0x58d4d5(0x1ab)](_0x4871a0*_0x24bd65)]:[_0x3a05e6,_0x24731a,Math['floor'](_0x27591a*_0x4c16f9),Math[_0x58d4d5(0x1ab)](_0x27591a*_0x24bd65)];})()),_0x2a3c78=Math['floor']((_0x5a093b[_0x5b7eac(0x1ca)]-_0x4fdadf*_0x5bd1d0)/(_0x5bd1d0+0x1)),_0x796233=Math[_0x5b7eac(0x1ab)]((_0x5a093b[_0x5b7eac(0xa5)]-_0x591abb*_0x5a2cd2)/(_0x5a2cd2+0x1));_0x51e46d[_0x5b7eac(0x1da)]=_0x5bd1d0,_0x51e46d[_0x5b7eac(0x1fd)]=_0x5a2cd2,_0x51e46d[_0x5b7eac(0x104)]=_0x4fdadf,_0x51e46d['cardHeight']=_0x591abb,_0x51e46d[_0x5b7eac(0x229)]=_0x2a3c78,_0x51e46d[_0x5b7eac(0xbc)]=_0x796233;};_0x51e46d[_0x120232(0x180)]=_0x5750df=>{const _0x5a0f49=_0x120232;_0x3efa37(_0x5750df),_0x5750df[_0x5a0f49(0x12f)]((_0x119c6f,_0x570b5e)=>{const _0x567c5f=_0x5a0f49,_0x1fd4dc=_0x570b5e%_0x51e46d[_0x567c5f(0x1da)],_0x3c47b3=Math[_0x567c5f(0x1ab)](_0x570b5e/_0x51e46d[_0x567c5f(0x1da)]),_0x389a68=_0x51e46d['cardColMargin']+_0x1fd4dc*(_0x51e46d[_0x567c5f(0x104)]+_0x51e46d[_0x567c5f(0x229)]),_0x40e1bc=_0x51e46d[_0x567c5f(0xbc)]+_0x3c47b3*(_0x51e46d[_0x567c5f(0x1de)]+_0x51e46d[_0x567c5f(0xbc)]);_0x119c6f['x1']=_0x389a68,_0x119c6f['x2']=_0x389a68+_0x51e46d['cardWidth'],_0x119c6f['y1']=_0x40e1bc,_0x119c6f['y2']=_0x40e1bc+_0x51e46d[_0x567c5f(0x1de)];});},_0x5a093b['show']=()=>{const _0x1f9305=_0x120232;_0x5a093b[_0x1f9305(0x151)](),_0x265fde[_0x1f9305(0x1c0)]['forEach']((_0x24b28e,_0x35cb17)=>{const _0x54a1f3=_0x1f9305;_0x24b28e[_0x54a1f3(0x210)]&&_0x3a01e6[_0x54a1f3(0xe8)](_0x24b28e[_0x54a1f3(0xfa)],_0x24b28e['x1'],_0x24b28e['y1'],_0x51e46d['cardWidth'],_0x51e46d[_0x54a1f3(0x1de)]);});},_0x5a093b[_0x120232(0x151)]=(_0x481f9b=null)=>{const _0x467068=_0x120232;_0x3a01e6[_0x467068(0x1dc)]=_0x481f9b??_0x5a093b[_0x467068(0x219)],_0x3a01e6[_0x467068(0x20c)](0x0,0x0,_0x5a093b[_0x467068(0x1ca)],_0x5a093b['height']),_0x5a093b[_0x467068(0x20f)]=![];},_0x5a093b['showMask']=()=>{const _0x282a40=_0x120232;if(_0x5a093b[_0x282a40(0x20f)])return;_0x5a093b[_0x282a40(0x20f)]=!![],_0x3a01e6[_0x282a40(0x1e1)](),_0x3a01e6[_0x282a40(0x15c)]=_0x5a093b['notation'][_0x282a40(0x1d4)],_0x3a01e6[_0x282a40(0x1dc)]=_0x5a093b[_0x282a40(0x1b0)][_0x282a40(0x15a)],_0x3a01e6[_0x282a40(0x20c)](_0x5a093b[_0x282a40(0x16e)],_0x5a093b[_0x282a40(0x16e)],_0x5a093b[_0x282a40(0x106)],_0x5a093b[_0x282a40(0x1a1)]),_0x3a01e6[_0x282a40(0xca)]();},_0x5a093b['showMessage']=_0xcec296=>{const _0x17576a=_0x120232;_0x3a01e6[_0x17576a(0x1e1)](),_0x3a01e6[_0x17576a(0x199)]='center',_0x3a01e6['textBaseline']=_0x17576a(0x1d9);const _0x414743={};{const _0x3721da=0x30,_0x3aa7bc=_0x3721da*0x4,_0x459b23=_0x5a093b[_0x17576a(0x106)]*0.67;_0x3a01e6[_0x17576a(0x1e7)]=_0x3721da+_0x17576a(0x148);const _0x440a19=Math[_0x17576a(0x192)](_0x3aa7bc,_0x3a01e6[_0x17576a(0x1e5)](_0xcec296)[_0x17576a(0x1ca)]);_0x414743[_0x17576a(0xef)]=_0x3721da*Math['min'](0x1,_0x459b23/_0x440a19),_0x414743[_0x17576a(0x15d)]=_0x414743[_0x17576a(0xef)]*1.8,_0x414743['fukidashiTailSize']=_0x414743[_0x17576a(0xef)];const _0x4dfbf0=_0x414743[_0x17576a(0xef)];_0x414743['width']=Math[_0x17576a(0x192)](Math[_0x17576a(0x17c)](_0x459b23,_0x440a19))+0x2*_0x4dfbf0,_0x414743[_0x17576a(0xa5)]=_0x414743[_0x17576a(0x15d)]+0x2*_0x4dfbf0,_0x414743[_0x17576a(0x103)]=(_0x5a093b['maskHeight']-_0x414743['lineHeight'])/0x2,_0x414743[_0x17576a(0x14b)]=_0x5a093b[_0x17576a(0x1ca)]-_0x5a093b[_0x17576a(0x16e)]-0x2,_0x414743['x']=_0x414743[_0x17576a(0x14b)]-_0x414743[_0x17576a(0x1ca)]-_0x414743[_0x17576a(0xdb)],_0x414743['y']=_0x414743[_0x17576a(0x103)]-_0x414743['height']/0x2,_0x414743['textStartX']=_0x414743['x']+_0x414743['width']/0x2,_0x414743[_0x17576a(0xa7)]=_0x414743[_0x17576a(0x103)];}_0x5a093b['showMask'](),_0x3a01e6['globalAlpha']=0x1,roundedRect(_0x3a01e6,_0x414743['x'],_0x414743['y'],_0x414743['width'],_0x414743['height'],_0x5a093b[_0x17576a(0x16e)],_0x5a093b[_0x17576a(0x1b0)][_0x17576a(0x98)]),_0x3a01e6['fillStyle']=_0x5a093b[_0x17576a(0x1b0)][_0x17576a(0x98)],_0x3a01e6['beginPath'](),_0x3a01e6[_0x17576a(0x10d)](_0x414743[_0x17576a(0x14b)],_0x414743[_0x17576a(0x103)]),_0x3a01e6['lineTo'](_0x414743['endX']-_0x414743[_0x17576a(0xdb)],_0x414743['centerY']-_0x414743[_0x17576a(0xdb)]/0x2),_0x3a01e6[_0x17576a(0x16f)](_0x414743['endX']-_0x414743[_0x17576a(0xdb)],_0x414743[_0x17576a(0x103)]+_0x414743[_0x17576a(0xdb)]/0x2),_0x3a01e6[_0x17576a(0x174)](),_0x3a01e6[_0x17576a(0x1dc)]=_0x5a093b[_0x17576a(0x1b0)][_0x17576a(0x12e)],_0x3a01e6['font']=_0x414743[_0x17576a(0xef)]+_0x17576a(0x148),_0x3a01e6[_0x17576a(0x21f)](_0xcec296,_0x414743[_0x17576a(0xe6)],_0x414743[_0x17576a(0xa7)]),_0x3a01e6['restore']();},_0x5a093b[_0x120232(0x1e2)]=()=>{const _0x2dbd64=_0x120232,_0x34b77f=_0x5a093b[_0x2dbd64(0x165)]*0.35;_0x3a01e6[_0x2dbd64(0x1e1)](),_0x5a093b['showMask'](),_0x3a01e6[_0x2dbd64(0x15c)]=_0x5a093b[_0x2dbd64(0x1b0)][_0x2dbd64(0x113)],_0x3a01e6[_0x2dbd64(0x1dc)]=_0x5a093b['notation'][_0x2dbd64(0x1e3)],drawDonutsCircle(_0x3a01e6,_0x5a093b[_0x2dbd64(0x1ca)]/0x2,_0x5a093b[_0x2dbd64(0xa5)]/0x2,_0x34b77f,_0x5a093b[_0x2dbd64(0x16e)]),_0x3a01e6[_0x2dbd64(0xca)]();},_0x5a093b['showNG']=()=>{const _0x2557f1=_0x120232,_0x556ad=_0x5a093b[_0x2557f1(0x165)]*0.35;_0x3a01e6[_0x2557f1(0x1e1)](),_0x5a093b[_0x2557f1(0x182)](),_0x3a01e6[_0x2557f1(0x15c)]=_0x5a093b[_0x2557f1(0x1b0)][_0x2557f1(0x113)],_0x3a01e6[_0x2557f1(0x1dc)]=_0x5a093b[_0x2557f1(0x1b0)][_0x2557f1(0x21d)],drawRoundedXMark(_0x3a01e6,_0x5a093b['width']/0x2,_0x5a093b[_0x2557f1(0xa5)]/0x2,_0x556ad,_0x5a093b['maskMargin']),_0x3a01e6['restore']();};}const _0x41a3ba=(_0x30cd9e,_0x492d23,_0x2a1091=0x10)=>{const _0x4f0daa=_0x120232,_0x303a4a=_0x492d23['x']+_0x492d23[_0x4f0daa(0x1ca)]/0x2,_0x4eed54=_0x492d23['y']+_0x492d23[_0x4f0daa(0xa5)]/0x2-_0x2a1091/0x2;_0x3a01e6[_0x4f0daa(0x1e1)](),_0x3a01e6[_0x4f0daa(0x1e7)]=_0x2a1091+'px\x20\x22\x22',_0x3a01e6[_0x4f0daa(0x199)]=_0x4f0daa(0x20d),_0x3a01e6[_0x4f0daa(0x175)]=_0x4f0daa(0x177),_0x3a01e6[_0x4f0daa(0x1dc)]=_0x4f0daa(0x139),_0x3a01e6[_0x4f0daa(0x21f)](_0x30cd9e,_0x303a4a,_0x4eed54,_0x492d23[_0x4f0daa(0x1ca)]),_0x3a01e6[_0x4f0daa(0xca)]();};_0x3fd8f4['on'](_0x120232(0xea),async _0x145d2a=>{const _0xa3fa92=_0x120232;_0x50aab2['modeChangeToPlay'](),_0x21fe4d(),_0x23f8c5(),_0x265fde[_0xa3fa92(0x1c0)]=_0x145d2a[_0xa3fa92(0x1cb)]['map'](_0x4a0c9a=>{const _0x222804=_0xa3fa92,_0x4af0f3=_0x145d2a[_0x222804(0xcf)][_0x222804(0x18b)](_0x4a0c9a);_0x4af0f3===-0x1&&console[_0x222804(0xf1)](_0x222804(0x11f),_0x4a0c9a,_0x145d2a);const _0x21e065=_0x265fde[_0x222804(0x1f7)][_0x4af0f3];return Object['assign']({'put':!![],'tag':_0x4a0c9a},_0x1b654a[_0x222804(0x11c)][_0x222804(0x1b9)](_0x21e065['id']),_0x21e065);}),_0x51e46d[_0xa3fa92(0x180)](_0x265fde[_0xa3fa92(0x1c0)]),_0x265fde[_0xa3fa92(0x195)]=null,_0x265fde[_0xa3fa92(0x196)]=_0x145d2a[_0xa3fa92(0x204)],_0x3fd8f4['emit']('ready_play');}),_0x3fd8f4['on'](_0x120232(0x91),async()=>{const _0x445b9b=_0x120232,_0x538ae0=_0x5a093b,_0x43ee75=0xf0;let _0x58d14d=_0x5a093b[_0x445b9b(0x209)];const _0x22c9f8=generateBlinkingText(_0x3a01e6,{'x':0x0,'y':0x0,'width':_0x179148['width'],'height':_0x179148['height'],'fontSize':0x40,'backgroundColor':_0x5a093b[_0x445b9b(0x219)],'fontColor':_0x445b9b(0x139),'halfPeriodMS':0x3e8});while(_0x58d14d>0x0){_0x5a093b[_0x445b9b(0x151)](),_0x5a093b[_0x445b9b(0x137)]?(_0x1b654a[_0x445b9b(0xc3)](_0x1b654a[_0x445b9b(0x9d)]),_0x22c9f8[_0x445b9b(0xdc)](_0x58d14d[_0x445b9b(0xbf)](),_0x43ee75),await sleep(0x3b6),_0x22c9f8[_0x445b9b(0x166)](),await sleep(0x32)):(_0x1b654a[_0x445b9b(0xc3)](_0x1b654a[_0x445b9b(0x9d)]),_0x41a3ba(_0x58d14d['toString'](),_0x538ae0,_0x43ee75),await sleep(0x3e8)),_0x58d14d--;}_0x1b654a[_0x445b9b(0xc3)](_0x1b654a[_0x445b9b(0x16b)]),_0x20a5de[_0x445b9b(0x1f3)](_0x265fde[_0x445b9b(0x196)]),_0x3fd8f4[_0x445b9b(0x218)](_0x445b9b(0xd8));}),_0x3fd8f4['on'](_0x120232(0xb3),()=>{});const _0xb559b=_0x120232(0x1ff),_0x2eeeca=_0x120232(0x162),_0x3c0a22=_0x120232(0x152);_0x265fde[_0x120232(0x82)]=(_0x4c3ad8,_0x4d0162)=>{const _0x22988c=_0x120232;return _0x265fde[_0x22988c(0x1c0)]['find'](_0x7a027=>{return _0x7a027['x1']<=_0x4c3ad8&&_0x4c3ad8<=_0x7a027['x2']&&_0x7a027['y1']<=_0x4d0162&&_0x4d0162<=_0x7a027['y2'];});},_0x265fde['cardClickedCallback']=_0x240c35=>{const _0x528573=_0x120232;if(_0x265fde[_0x528573(0x195)]===_0x3c0a22){const _0x254d1c=_0x265fde[_0x528573(0x82)](_0x240c35['offsetX'],_0x240c35['offsetY']);if(_0x254d1c){const _0x43eaf4=Date[_0x528573(0x205)]()-_0x265fde['startTimestamp'];_0x265fde[_0x528573(0x195)]=_0x2eeeca,_0x179148['removeEventListener'](_0x528573(0x12a),_0x265fde['cardClickedCallback']);const _0x1cba74=_0x254d1c['id'],_0x2ed973=_0x254d1c==_0x265fde[_0x528573(0xb6)];_0x2ed973?_0x5a093b[_0x528573(0x182)]():_0x5a093b[_0x528573(0x128)](),_0x3fd8f4[_0x528573(0x218)](_0x528573(0x10c),{'currentTag':_0x265fde[_0x528573(0xb6)]?.[_0x528573(0x1f5)],'userName':_0x14b44c['userName'],'action':'click','correct':_0x2ed973,'cardId':_0x1cba74,'takenTimeMS':_0x43eaf4}),!_0x2ed973&&_0x1b654a[_0x528573(0xc3)](_0x1b654a[_0x528573(0x160)]);}}else{}},_0x3fd8f4['on'](_0x120232(0x1be),_0x58cad4=>{const _0x11dfab=_0x120232,_0x36a8fb=_0x265fde[_0x11dfab(0x1c0)][_0x11dfab(0xf9)](_0x127c9f=>_0x127c9f[_0x11dfab(0x1f5)]===_0x58cad4[_0x11dfab(0x1d2)]);_0x265fde[_0x11dfab(0xb6)]=_0x36a8fb,_0x265fde[_0x11dfab(0x10e)]=Date[_0x11dfab(0x205)](),_0x265fde[_0x11dfab(0x195)]=_0x3c0a22,_0x20a5de[_0x11dfab(0x1f3)](_0x265fde[_0x11dfab(0x196)]),_0x5a093b[_0x11dfab(0x1f3)](),_0x1b654a[_0x11dfab(0xc3)](_0x265fde[_0x11dfab(0xb6)][_0x11dfab(0x1cd)]),_0x2d8a26[_0x11dfab(0x16c)]&&console[_0x11dfab(0xc6)]('次',_0x265fde[_0x11dfab(0xb6)]['id'],_0x265fde[_0x11dfab(0xb6)]['label'],_0x265fde[_0x11dfab(0xb6)]),clearInterval(_0x265fde[_0x11dfab(0x164)]),_0x179148[_0x11dfab(0x1d1)](_0x11dfab(0x12a),_0x265fde[_0x11dfab(0x155)]),_0x179148['addEventListener'](_0x11dfab(0x12a),_0x265fde[_0x11dfab(0x155)]);}),_0x3fd8f4['on'](_0x120232(0x14d),_0x4abf1d=>{const _0x29d147=_0x120232,_0x402c6e=_0x4abf1d[_0x29d147(0x1d2)];if(_0x402c6e!==_0x265fde[_0x29d147(0xb6)]?.[_0x29d147(0x1f5)])return;if(_0x265fde[_0x29d147(0x195)]===_0x3c0a22&&_0x4abf1d[_0x29d147(0x1cc)]){const _0x48d470=Date[_0x29d147(0x205)]()-_0x265fde[_0x29d147(0x10e)];_0x48d470>_0x4abf1d['minTakenTimeMS']?(_0x179148[_0x29d147(0x1d1)](_0x29d147(0x12a),_0x265fde[_0x29d147(0x155)]),_0x3fd8f4[_0x29d147(0x218)](_0x29d147(0x10c),{'currentTag':_0x265fde['currentCard']?.[_0x29d147(0x1f5)],'userName':_0x14b44c['userName'],'action':_0x29d147(0x1fc)})):_0x265fde[_0x29d147(0x164)]=setInterval(()=>{const _0x4c356b=_0x29d147;_0x402c6e===_0x265fde[_0x4c356b(0xb6)]?.[_0x4c356b(0x1f5)]&&_0x265fde[_0x4c356b(0x195)]===_0x3c0a22&&_0x4abf1d[_0x4c356b(0x1cc)]&&(_0x179148[_0x4c356b(0x1d1)](_0x4c356b(0x12a),_0x265fde['cardClickedCallback']),_0x3fd8f4[_0x4c356b(0x218)](_0x4c356b(0x10c),{'currentTag':_0x265fde[_0x4c356b(0xb6)]?.['tag'],'userName':_0x14b44c['userName'],'action':'timeup'}));},_0x5a093b[_0x29d147(0x125)]);}_0x20a5de['showActLog'](_0x4abf1d[_0x29d147(0x132)]);}),_0x3fd8f4['on'](_0x120232(0x185),async _0x40d6de=>{const _0x5b051b=_0x120232;if(_0x40d6de[_0x5b051b(0x1ce)][_0x5b051b(0x1d2)]!==_0x265fde[_0x5b051b(0xb6)]?.[_0x5b051b(0x1f5)])return;_0x265fde[_0x5b051b(0xb6)][_0x5b051b(0x1cd)][_0x5b051b(0x1ed)]();if(_0x14b44c['userName']===_0x40d6de[_0x5b051b(0x1ce)][_0x5b051b(0xd7)])_0x1b654a['playSound'](_0x1b654a['okSound']),_0x5a093b[_0x5b051b(0x1e2)]();else{if(_0x40d6de[_0x5b051b(0x1ce)]['winnerUserName'])_0x1b654a[_0x5b051b(0xc3)](_0x1b654a[_0x5b051b(0xe4)]),_0x5a093b[_0x5b051b(0xd4)](_0x40d6de['card'][_0x5b051b(0xd7)]+'\x20が札を取得');else _0x40d6de[_0x5b051b(0x132)][_0x5b051b(0xe0)](_0x2d2acb=>_0x2d2acb[_0x5b051b(0xc9)]===![])?(_0x1b654a[_0x5b051b(0xc3)](_0x1b654a[_0x5b051b(0x1c2)]),_0x5a093b[_0x5b051b(0xd4)]('全員お手付き')):(_0x1b654a[_0x5b051b(0xc3)](_0x1b654a['nextSound']),_0x5a093b[_0x5b051b(0xd4)]('次'));}_0x265fde[_0x5b051b(0x196)]=_0x40d6de,_0x20a5de[_0x5b051b(0x1f3)](_0x40d6de,!![]);if(_0x40d6de[_0x5b051b(0x1ce)][_0x5b051b(0xd7)]){const _0x137306=_0x265fde['displayCards'][_0x5b051b(0x13e)](_0xe49c03=>_0xe49c03['id']===_0x40d6de['card']['cardId']);_0x265fde['displayCards'][_0x5b051b(0x178)](_0x137306,0x1);}await sleep(_0x5a093b['waitCardResultEffectMS']),_0x3fd8f4['emit'](_0x5b051b(0xd8));}),_0x3fd8f4['on'](_0x120232(0xfc),_0x393142=>{const _0x3bde76=_0x120232;{_0x265fde['cardPhaseAct']=_0xb559b,_0x265fde[_0x3bde76(0xb6)]={};}{_0x1b654a[_0x3bde76(0xf7)](_0x1b654a[_0x3bde76(0x120)]);}{_0x2d8a26[_0x3bde76(0x1e6)][_0x3bde76(0x219)]&&_0x5a093b[_0x3bde76(0x151)](_0x2d8a26[_0x3bde76(0x1e6)][_0x3bde76(0x219)]);const _0xf44deb=_0x1b654a[_0x3bde76(0x17d)];if(_0xf44deb){const _0x518a96=Math[_0x3bde76(0x17c)](_0x5a093b[_0x3bde76(0x1ca)]/_0xf44deb[_0x3bde76(0x1ca)],_0x5a093b[_0x3bde76(0xa5)]/_0xf44deb['height']),_0x413551=_0xf44deb[_0x3bde76(0x1ca)]*_0x518a96,_0x35aa10=_0xf44deb[_0x3bde76(0xa5)]*_0x518a96;_0x3a01e6[_0x3bde76(0x1e1)](),_0x3a01e6['globalAlpha']=_0x2d8a26[_0x3bde76(0x1e6)][_0x3bde76(0x181)],_0x3a01e6[_0x3bde76(0xe8)](_0xf44deb,(_0x5a093b[_0x3bde76(0x1ca)]-_0x413551)/0x2,(_0x5a093b['height']-_0x35aa10)/0x2,_0x413551,_0x35aa10),_0x3a01e6[_0x3bde76(0xca)]();}}{const _0x17d7ff=_0x393142[_0x3bde76(0xb9)],_0x22b193=_0x2d8a26[_0x3bde76(0x1df)],_0x2368a3={};{const _0x3a634a=0x3,_0x192e87=_0x22b193[_0x3bde76(0x123)],_0x5c7867=_0x22b193[_0x3bde76(0x206)][_0x3bde76(0x17e)],_0x257ef8=_0x22b193[_0x3bde76(0x206)][_0x3bde76(0x1ec)],_0x325211=_0x22b193['letterCount'][_0x3bde76(0x99)],_0x565638=_0x22b193[_0x3bde76(0x206)][_0x3bde76(0x194)],_0x4fb672=_0x5a093b['width']*_0x22b193[_0x3bde76(0xc5)],[_0x32b664,_0x3368eb,_0x5c1c83,_0x13f791]=((()=>{const _0x3fa257=_0x3bde76,_0x371e8c=_0x50ef0f=>{const _0x482251=_0x18ca;_0x3a01e6[_0x482251(0x1e1)](),_0x3a01e6[_0x482251(0x1e7)]=_0x50ef0f+_0x482251(0x148);const _0x2c026b=_0x17d7ff[_0x482251(0x161)](_0x50ed74=>_0x3a01e6['measureText'](_0x50ed74[_0x482251(0xd6)])[_0x482251(0x1ca)])[_0x482251(0x94)]((_0x462e15,_0x20bc20)=>Math['max'](_0x462e15,_0x20bc20));_0x3a01e6['restore']();const _0x401686=(_0x5c7867+0x1+0x1+_0x5c7867+0x1+_0x5c7867)*_0x50ef0f+(_0x257ef8+_0x325211+_0x565638)*_0x50ef0f*_0x22b193['unitFontSizeRate']+_0x2c026b+(0x1+_0x3a634a)*_0x192e87,_0x3aaa50=_0x50ef0f*_0x22b193[_0x482251(0x127)]*_0x17d7ff['length']+(0x1+_0x3a634a)*_0x192e87;return{'width':_0x401686,'height':_0x3aaa50,'userNameWidth':_0x2c026b};},_0x2493c5=_0x22b193[_0x3fa257(0x189)],_0x5cf49f=_0x371e8c(_0x2493c5),_0xdf71b=Math['min'](_0x4fb672/_0x5cf49f['width'],_0x5a093b[_0x3fa257(0xa5)]/_0x5cf49f[_0x3fa257(0xa5)]);if(_0xdf71b>=0x1)return[_0x2493c5,_0x5cf49f[_0x3fa257(0x1ca)],_0x5cf49f[_0x3fa257(0xa5)],_0x5cf49f[_0x3fa257(0x173)]];const _0x285fb1=_0x2493c5*_0xdf71b,_0x93336c=_0x371e8c(_0x285fb1);return[_0x285fb1,_0x93336c[_0x3fa257(0x1ca)],_0x93336c[_0x3fa257(0xa5)],_0x93336c[_0x3fa257(0x173)]];})());_0x2368a3['fontSize']=_0x32b664,_0x2368a3[_0x3bde76(0xf5)]=_0x32b664*_0x22b193['unitFontSizeRate'],_0x2368a3[_0x3bde76(0x1ca)]=_0x3368eb,_0x2368a3[_0x3bde76(0xa5)]=_0x5c1c83,_0x2368a3[_0x3bde76(0x173)]=_0x13f791,_0x2368a3[_0x3bde76(0x1a4)]=_0x5a093b['x']+(_0x5a093b[_0x3bde76(0x1ca)]-_0x3368eb)/0x2,_0x2368a3[_0x3bde76(0xe2)]=_0x5a093b['y']+(_0x5a093b[_0x3bde76(0xa5)]-_0x5c1c83)/0x2;const _0x571832=_0x2368a3[_0x3bde76(0x1a4)]+_0x192e87;_0x2368a3[_0x3bde76(0xa7)]=_0x2368a3['offsetY']+_0x192e87*_0x3a634a,_0x2368a3[_0x3bde76(0x15d)]=_0x32b664*_0x22b193[_0x3bde76(0x127)],_0x2368a3[_0x3bde76(0x131)]=_0x5c7867*_0x32b664,_0x2368a3[_0x3bde76(0x201)]=_0x257ef8*_0x2368a3[_0x3bde76(0xf5)],_0x2368a3[_0x3bde76(0x14e)]=_0x325211*_0x2368a3['unitFontSize'],_0x2368a3[_0x3bde76(0x9c)]=_0x565638*_0x2368a3[_0x3bde76(0xf5)];const _0x3838e9=_0x32b664,_0x230723=_0x32b664*_0x22b193[_0x3bde76(0x188)];let _0x26295d=0x0;_0x2368a3[_0x3bde76(0x156)]=_0x26295d+=_0x571832+_0x2368a3['numberTextWidth'],_0x2368a3['rankUnitTextLeftX']=_0x26295d+=_0x230723,_0x2368a3[_0x3bde76(0x200)]=_0x26295d+=_0x2368a3[_0x3bde76(0x201)]+_0x3838e9,_0x2368a3[_0x3bde76(0xdd)]=_0x26295d+=_0x2368a3[_0x3bde76(0x173)]+_0x3838e9+_0x2368a3[_0x3bde76(0x131)],_0x2368a3[_0x3bde76(0x21e)]=_0x26295d+=_0x230723,_0x2368a3['wrongTextRightX']=_0x26295d+=_0x2368a3[_0x3bde76(0x14e)]+_0x3838e9+_0x2368a3[_0x3bde76(0x131)],_0x2368a3['wrongUnitTextLeftX']=_0x26295d+=_0x230723;const _0x3f32de=0x2*_0x192e87;_0x2368a3[_0x3bde76(0x111)]=_0x2368a3['offsetX']+_0x3f32de,_0x2368a3[_0x3bde76(0x14c)]=_0x3368eb-0x2*_0x3f32de,_0x2368a3[_0x3bde76(0x1bf)]=_0x32b664*(0x1+_0x22b193[_0x3bde76(0x109)]);}_0x3a01e6[_0x3bde76(0x1e1)](),_0x3a01e6['globalAlpha']=_0x22b193['backgroundAlpha'],roundedRect(_0x3a01e6,_0x2368a3[_0x3bde76(0x1a4)],_0x2368a3[_0x3bde76(0xe2)],_0x2368a3['width'],_0x2368a3[_0x3bde76(0xa5)],_0x2368a3[_0x3bde76(0xef)]*_0x22b193[_0x3bde76(0x1a2)],_0x22b193[_0x3bde76(0x219)]),_0x3a01e6[_0x3bde76(0x15c)]=0x1,_0x3a01e6[_0x3bde76(0x21a)]=_0x22b193['splitLineColor'],_0x3a01e6[_0x3bde76(0x175)]=_0x3bde76(0x177);let _0x4e85dc=_0x2368a3[_0x3bde76(0xa7)];_0x17d7ff[_0x3bde76(0x12f)](_0x136e8b=>{const _0x1558b4=_0x3bde76;_0x3a01e6[_0x1558b4(0x1dc)]=_0x136e8b['userName']===_0x14b44c[_0x1558b4(0xd6)]?_0x22b193[_0x1558b4(0x1b1)]:_0x22b193[_0x1558b4(0x12c)],_0x3a01e6[_0x1558b4(0x199)]=_0x1558b4(0x19a),_0x3a01e6[_0x1558b4(0x1e7)]=_0x2368a3['unitFontSize']+_0x1558b4(0x148),_0x3a01e6[_0x1558b4(0x21f)]('位',_0x2368a3['rankUnitTextLeftX'],_0x4e85dc,_0x2368a3[_0x1558b4(0x201)]),_0x3a01e6[_0x1558b4(0x21f)](_0x1558b4(0x9a),_0x2368a3['correctUnitTextLeftX'],_0x4e85dc,_0x2368a3['correctUnitTextWidth']),_0x3a01e6[_0x1558b4(0x21f)](_0x1558b4(0x186),_0x2368a3[_0x1558b4(0xa4)],_0x4e85dc,_0x2368a3[_0x1558b4(0x9c)]),_0x3a01e6['font']=_0x2368a3['fontSize']+_0x1558b4(0x148),_0x3a01e6[_0x1558b4(0x21f)](_0x136e8b[_0x1558b4(0xd6)],_0x2368a3['userNameTextLeftX'],_0x4e85dc,_0x2368a3[_0x1558b4(0x173)]),_0x3a01e6['font']=_0x2368a3[_0x1558b4(0xef)]+_0x1558b4(0x148),_0x3a01e6['textAlign']=_0x1558b4(0x207),_0x3a01e6['fillText'](''+_0x136e8b[_0x1558b4(0x8c)],_0x2368a3['rankTextRightX'],_0x4e85dc,_0x2368a3['numberTextWidth']),_0x3a01e6[_0x1558b4(0x21f)](''+_0x136e8b['correct'],_0x2368a3[_0x1558b4(0xdd)],_0x4e85dc,_0x2368a3[_0x1558b4(0x131)]),_0x3a01e6[_0x1558b4(0x21f)](''+_0x136e8b[_0x1558b4(0xa8)],_0x2368a3[_0x1558b4(0x18f)],_0x4e85dc,_0x2368a3[_0x1558b4(0x131)]),_0x3a01e6[_0x1558b4(0xa9)](_0x2368a3[_0x1558b4(0x111)],_0x4e85dc+_0x2368a3[_0x1558b4(0x1bf)],_0x2368a3[_0x1558b4(0x14c)],0x0),_0x4e85dc+=_0x2368a3[_0x1558b4(0x15d)];}),_0x3a01e6[_0x3bde76(0xca)]();}{_0x265fde['returnConfirmCallback']=async _0x4cc5ec=>{const _0x74a478=_0x3bde76,_0x1778ac=await showConfirmTextDialog(_0x74a478(0xf3));_0x1778ac&&(clearInterval(_0x265fde[_0x74a478(0x164)]),_0x179148[_0x74a478(0x1d1)](_0x74a478(0x12a),_0x265fde['returnConfirmCallback']),_0x3fd8f4[_0x74a478(0x218)]('finish_play'));},_0x179148[_0x3bde76(0xa1)](_0x3bde76(0x12a),_0x265fde['returnConfirmCallback']);}});})(getInitValues());
    
    
    function getInitValues() {
      return {
        defaultValues: {
          userName: '',
          roomName: 'room1',
        },
        
        playmat: {
          marginMax: 40,
          marginTopRate : 0.03,
          marginLeftRate: 0.03,
        },
        rankingArea: {
          maxWidthRate: 0.8,
          margin: 10,
          radiusFontSizeRate: 0.8,
          defaultFontSize: 24,
          unitFontSizeRate: 1, // 値を変えると textBaseline の調整が必要となる
          unitMarginRate: 0.2,
          lineHeightRate: 1.8,
          letterCount: {
            number     : 2,
            rankUnit   : 1,
            correctUnit: 2.5,
            wrongUnit  : 2.5,
          },
          fontColor: '#111111',
          myUserFontColor: '#2222FF',
          backgroundAlpha: 0.925,
          backgroundColor: '#EEEEEE',
          splitLineColor: '#FFFFFF',
          splitLinePaddingRate: 0.3,
        },
        progressArea: {
          // カード枚数が3桁行かないことを前提にしている
          width: 250,
          margin: 8,
          fontSize: 24,
          lineHeightRate: 1.6,
          numberTextWidth: 50,
          actLogFontSizeRate: 0.875,
          actLogMargin: 16,
          fontColor: '#000000',
          myUserFontColor: '#2222FF',
          otherUserFontColor: '#000000',
          backgroundColor: '#cccccc',
          splitLineColor: '#efefef',
        },
        playArea: {
          playCountdownLength: 3,
          playCountdownBlinking: true,
          backgroundColor: '#efefef',
          checkTimeupIntervalMS: 250,
          waitCardResultEffectMS: 1200,
          notation: {
            maskAreaMarginRate: 0.05, // 情報表示のための黒塗りマスクを出す際のマージン。概ね 1 - rate * 2 がマスクの画面に占める割合
            maskAreaAlpha: 0.50,
            maskAreaColor: '#000000',
            messageBackgroundColor: '#FFFFFF',
            messageFontColor: '#000000',
            effectOKColor: '#FF2222',
            effectNGColor: '#CCCC00',
            effectAlpha: 0.80,
          },
        },
        soundSettings: {
          voiceVolume: 1.00,
          effectVolume: 0.50,
          okSoundPath: 'res/ok.mp3',
          ngSoundPath: 'res/ng.mp3',
          allngSoundPath: 'res/allng.mp3',
          takenSoundPath: 'res/taken.mp3',
          nextSoundPath: 'res/next.mp3',
          countdown1SoundPath: 'res/countdown1.mp3',
          countdown2SoundPath: 'res/countdown2.mp3',
        },
        endCardSettings: {
          backgroundColor: '#000000',
        },
        
        cardSettings: {
          rateForContent: 0.9,
          origWidth :  900, // カルタ画像は全てこの origWidth,origHeight の比率と同じものとする
          origHeight: 1200,
          borderSize: 15,
          borderColor: '#660066',
        },
        ///debug: true,
      };
    }
  </script>
</body>
</html>
