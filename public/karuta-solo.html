<!DOCTYPE html>
<html lang='ja'>
<head>
  <meta charset="utf-8">
  <title>かるた タイムアタック版</title>
  <style>
    body {
      font-size: 1rem;
      margin: 0;
      padding: 0;
    }
    
    h1 {
      font-size: 2.5rem;
    }
    
    #loadingMessage {
      margin: 8px;
    }
    #startArea {
      margin: 8px;
      display: none;
    }
    #mainArea {
      display: none;
    }
    
    
    #loginInputs {
      margin-left: 2rem;
      margin-bottom: 3rem;
    }
    
    #loginInputs div {
      display: flex;
      padding: 0.5rem;
    }
    #loginInputs label {
      width: 10rem;
      padding-right: 0.5rem;
    }
    #loginInputs button {
      width: 4rem;
    }
    #loginInputs input {
      width: 21rem;
    }
    #loginInputs input[type='number'] {
      width: 8rem;
    }
    #loginInputs * {
      font-size: 1.4rem;
      vertical-align: middle;
    }
    
    
    #myOwnPlayHistoryArea {
      margin-left: 4rem;
      margin-bottom: 4rem;
    }
    #myOwnPlayHistoryArea,
    #myOwnPlayHistoryArea * {
      font-size: 1.25rem;
    }
    #myOwnPlayHistoryArea table {
      margin-top: 0.5rem;
      border-collapse: collapse;
      margin-bottom: 0.2rem;
    }
    #myOwnPlayHistoryArea td {
      padding: 0.25em 1em;
      border: solid 1px #808080;
      text-align: right;
    }
    #myOwnPlayHistoryArea td .unitText {
      padding-left: 0.5rem;
      font-size: 1rem;
    }
    
    .help-list {
      font-size: 1rem;
    }
    
    input[type='number'] {
      text-align: right;
      width: 3em;
    }
    
    footer {
      margin-top: 3rem;
      margin-left: 8px;
      padding-top: 0.5rem;
      border-top: solid 2px #cccccc;
    }
  </style>
</head>

<body>
  <div id='loadingMessage'>
    <p>ファイル読み込み中...</p>
    <p>どれだけ待っても読み込みが終了しない場合は、エラーや通信失敗が発生している可能性があります。<br />画面をリロードしたり、時間を置いてやり直すなど試してください</p>
  </div>
  <div id='startArea'>
    <h1>かるた</h1>
    
    <div id='loginInputs'>
      <div>
        <label for='userName'>ユーザ名</label>
        <input id='userName' type='text' placeholder='' />
      </div>
      <div>
        <label for='useCardCount'>使用カード数</label>
        <input type='number' id='useCardCount' step='1' /> （<span id='cardCountRange'></span>）
      </div>
      
      <div>
        <button id='startPlayButton'>開始</button>
        <span id='startButtonMessage'></span>
      </div>
    </div>
    
    <div id='myOwnPlayHistoryArea'></div>
    
    <ul class='help-list'>
      <li><div>ver: <span id="version"></span></div></li>
      <li>このかるたはソロモード専用（タイムアタック版）です</li>
      <li>ゲーム画面のヘルプ<ul>
        <li>ゲーム開始後は、画面サイズ変更により配置・札の表示サイズの調整などはできません</li>
        <li>ゲームのプレイにはブラウザからの音声出力が必須です</li>
        <li>ゲーム終了後に画面をクリックで待機部屋に戻れます</li>
      </ul></li>
      <li>ゲームのルール<ul>
        <li>『読み上げ開始から札を取るまで』の所要時間の合計で競います</li>
        <li>お手付きした札はそのまま場に置かれたままとなります（お手付きの回数のみ、最終ポイントに影響します）</li>
        <li>札を取るまで何度も同じ札が読み上げられる場合があります</li>
        <li>最後の 1 枚は連打になってしまうため、残り 1 枚になった時点で終了とします</li>
        <li>最終ポイントは『所要時間の累計 ＋ お手付き × <span id='penaltySecPerCard'>20</span>(秒/回)』で決定します。<br />より小さいポイントを目指してください</li>
      </ul></li>
    </ul>
    
    <footer></footer>
  </div>
  
  <div id='mainArea'>
    <canvas id='mainCanvas'></canvas>
  </div>
  <script type='text/javascript'>
    const AppVersion = "0.4.0";
    
    // ここから
const _0xcf62f3=_0x49e9;(function(_0xbb845c,_0x7e2a1c){const _0x3740ee=_0x49e9,_0x4a267b=_0xbb845c();while(!![]){try{const _0x1bb984=parseInt(_0x3740ee(0x1d0))/0x1+parseInt(_0x3740ee(0x1c8))/0x2+parseInt(_0x3740ee(0x1bd))/0x3*(-parseInt(_0x3740ee(0x2dd))/0x4)+parseInt(_0x3740ee(0x2a1))/0x5+-parseInt(_0x3740ee(0x2b1))/0x6*(-parseInt(_0x3740ee(0x222))/0x7)+parseInt(_0x3740ee(0x2f3))/0x8+parseInt(_0x3740ee(0x1b2))/0x9*(-parseInt(_0x3740ee(0x2af))/0xa);if(_0x1bb984===_0x7e2a1c)break;else _0x4a267b['push'](_0x4a267b['shift']());}catch(_0x420f5d){_0x4a267b['push'](_0x4a267b['shift']());}}}(_0xeb84,0xa3d9c),(document['querySelector']('#version')??{})[_0xcf62f3(0x2b3)]=AppVersion);const getRandomRanged=(_0x377199,_0x5c7b9e)=>{const _0x428e02=_0xcf62f3;return Math['floor'](_0x377199+Math[_0x428e02(0x207)]()*(_0x5c7b9e-_0x377199));},getRankedArray=(_0x59ae01,_0x4f62ed)=>{const _0x3b5e74=_0xcf62f3,_0x34f2c2=_0x59ae01[_0x3b5e74(0x21c)](_0x309dc8=>Object[_0x3b5e74(0x22f)]({},_0x309dc8))['sort'](_0x4f62ed);return _0x34f2c2[_0x3b5e74(0x1e9)]((_0x19fd9f,_0x50c637,_0x8623c0)=>{const _0x122279=_0x3b5e74;return!_0x19fd9f?_0x50c637['rank']=0x1:_0x50c637[_0x122279(0x1ce)]=_0x4f62ed(_0x50c637,_0x19fd9f)===0x0?_0x19fd9f['rank']:_0x8623c0+0x1,_0x50c637;},null),_0x34f2c2;};function loadSyncImage(_0x4d8631){return new Promise((_0x98f6c,_0x2a019d)=>{const _0x353ea9=_0x49e9;let _0xffd29f=new Image();_0xffd29f[_0x353ea9(0x2a0)]=()=>_0x98f6c(_0xffd29f),_0xffd29f[_0x353ea9(0x2e1)]=_0x7cb7bd=>_0x2a019d(_0x7cb7bd),_0xffd29f[_0x353ea9(0x26e)]=_0x4d8631;});}function loadSyncAudio(_0x162719){return new Promise((_0x3d977f,_0x1704a4)=>{const _0x261416=_0x49e9,_0x494b22=new Audio();_0x494b22[_0x261416(0x288)]=()=>_0x3d977f(_0x494b22),_0x494b22[_0x261416(0x220)]=_0x1b3ad0=>_0x1704a4(_0x1b3ad0),_0x494b22[_0x261416(0x26e)]=_0x162719;});}function newElem(_0x3be76e,_0x3adff0=[],_0x5b74cb=[],_0xcbf507={}){const _0x47c59b=_0xcf62f3,_0x5e1f74=document[_0x47c59b(0x1f8)](_0x3be76e);return _0x5b74cb[_0x47c59b(0x2a8)]>0x0&&_0x5e1f74['classList']['add'](..._0x5b74cb),Object['getOwnPropertyNames'](_0xcbf507)[_0x47c59b(0x21b)](_0x2e8570=>{_0x5e1f74['setAttribute'](_0x2e8570,_0xcbf507[_0x2e8570]);}),_0x3adff0[_0x47c59b(0x21b)](_0x2a4009=>{const _0x35bb66=_0x47c59b;typeof _0x2a4009===_0x35bb66(0x1a4)?_0x5e1f74['appendChild'](document[_0x35bb66(0x2cc)](_0x2a4009)):_0x5e1f74[_0x35bb66(0x1c1)](_0x2a4009);}),_0x5e1f74;}function _0xeb84(){const _0x59d982=['20px','src','rankUnitTextLeftX','useCardCount','yesLabel','start\x20loadResources','min','wrong','totalTakenTimeMS','pageOptions','#startPlayButton','splice','12px\x200','onValue','restore','voiceVolume','borderColor','isInteger','Enter','localStorage','replace','sound','backgroundColor','rankHistories','defaultFontSize','shiftKey','unitFontSizeRate','onloadeddata','floor','style','margin','penaltySecPerCard','bigint','\x20の挑戦記録','padding','drawImage','takenTimeUnitTextLeftX','onNumberValue','unitText','disabled','onInitialize','border','defaultIsYes','getItem','moveTo','effectNGColor','currentCardIndex','numberTextWidth','returnConfirmCallback','span','concat','onload','4562610mxeWZl','soundPath','countdown1SoundPath','justifyContent','loaded','trim','debug','length','key','clear','timeUnitTextWidth','keys','keydown','endCardSound','10fzBOaG','number','3126312ROnIeC','marginTop','textContent','function','scrollX','開始画面へ戻りますか？','paramscript','object','ctrlKey','metaKey','文字以内の任意のテキスト','ceil','modeChangeToPlay','maskWidth','maxWidthRate','onNextCard','effectAlpha','splitLineWidth','placeholder','rankUnit','time','marginLeftRate','marginMax','waitCardResultEffectMS','fontText','initializeStartArea','textAlign','createTextNode','imgAlpha','fillRect','halfPeriodMS','letterCount','set','boolean','textBaseline','originalCards','colCount','timeUnit','block','cardClickedCallback','getRankedHistories','space-around','100%','focus','3732RrmoJZ','pointTextRightX','unitMarginRate','location','eonerror','stopPropagation','cardRowMargin','endCardSettings','flat','point','strokeStyle','Tab','right','showActLog','innerWidth','current','setItem','confirmDialog','effectOKColor','playSound','timeTextWidth','0px','9790408mDxakc','fillRankPoint','wrongUnitTextWidth','progress','Escape','splitLineColor','indexOf','fontFamily','onCardClicked','from','actLineHeight','maskAreaAlpha','getComputedStyle','splitLineStartX','isArray','任意のテキスト','rankComparer','lineHeight','height','get','offsetY','save','default','innerHeight','maskMargin','none','correct','zIndex','afterArrayItem','wrongUnitTextLeftX','onStringValue','paramScriptName','contextmenu','offsetX','test','getBoundingClientRect','maxlength','messageFontColor','Cancel','onBigIntValue','pre-line','cardHeight','rowCount','actLogFontSizeRate','afterObjectItem','loop','labelSplitterWidth','parse','rankingArea','altKey','totalTakenTimeSec','solid\x20#DDDDDD\x203px','ngSound','borderSize','startTimestamp','fixed','origHeight','progressArea','string','afterObject','endY','stop','measureText','textStartX','has','all','correctLabel','初期パラメータ','showOK','currentY','sqrt','lineHeightRate','16769682ETwZag','userName','#penaltySecPerCard','splitLineOffsetY','origWidth','arc','put','onNullOrUndefined','finish\x20loadResources','\u3000お手付き(','maskAreaMarginRate','3795Blxluj','arcTo','rankUnitTextWidth','pointUnitTextLeftX','appendChild','beforeArray','firstChild','fillText','rateForContent','playCountdownBlinking','playmat','1269926kHrOIl','removeEventListener','addEventListener','countdown2SoundPath','playArea','soundSettings','rank','footer','422337REmCAJ','volume','fukidashiTailSize','borderRadius','onBooleanValue','SQRT2','setRankedHistory','restDisplayCards','click','maxActLineCount','countdown1Sound','showNG','marginTopRate','parent','endCardImg','filter','marginLeft','fillStyle','play','endX','top','#useCardCount','position','cardColMargin','fill','reduce','beginPath','undefined','mode','querySelector','maskHeight','currentCard','maskShortSize','fontColor','target','some','setAttribute','paramScript','button','afterbegin','createElement','result','option','maskOn','onGameEnd','referenceHTML','decideCardsSize','labelLetterCount','#userName','scrollTo','5px\x2030px\x2010px','minWidth','showMessage','label','okSound','random','globalAlpha','getHistoriesFromLocalStorage','now','actLogFontText','TIME','availableWidth','canvas','fixedPoint','unitFontSize','centerY','textStartY','preventDefault','checkTimeupIntervalID','middle','currentTime','show','boxSizing','startArea','cardPhaseAct','forEach','map','positionElement','toString','focusable','onerror','headerMarginLineHeightRate','7GIERDc','shift','fontSize','imgPath','permitted','takenTimeTextRightX','progressTextWidth','modeChangeToStart','-lastInputValues','notation','mainArea','width','noLabel','assign','opacity','blur','cardSettings','okSoundPath','rankTextRightX','slice','whiteSpace','totalCardCount','bold\x20','labelWidth','symbol','actHistory','isFinite','takenTimeSec','lineTo','cards','#000000','keypress','strokeRect','beforeObject','isComposing','push','px\x20','wrongLable','title','カード枚数：','#FFFFFF','div','textMaxWidth','stringify','showMask','お手付き','#loadingMessage','left','wrongTextRightX','getContext','tbody','font','center','log','toFixed','#mainArea','effectVolume','value','display','cardWidth','sort','wrongUnit','onFunction','maxHistorySize','pause','#startArea','change','onFinish_play','toRankedHistory','removeChild','max','body','createDocumentFragment','0.00','size'];_0xeb84=function(){return _0x59d982;};return _0xeb84();}const newRandomArray=_0x3ac214=>{const _0x66f7be=_0xcf62f3,_0x497453=Array[_0x66f7be(0x173)](_0x3ac214);for(let _0x50ce4c=_0x497453[_0x66f7be(0x2a8)]-0x1;_0x50ce4c>=0x0;_0x50ce4c--){const _0x2ad0c8=Math[_0x66f7be(0x289)](Math[_0x66f7be(0x207)]()*(_0x50ce4c+0x1));[_0x497453[_0x50ce4c],_0x497453[_0x2ad0c8]]=[_0x497453[_0x2ad0c8],_0x497453[_0x50ce4c]];}return _0x497453;},parseFloatOr=(_0xcdd71f,_0x51d17f)=>{const _0x58d4c1=parseFloat(_0xcdd71f);return Number['isNaN'](_0x58d4c1)?_0x51d17f:_0x58d4c1;},sleep=_0x53d525=>{return new Promise(_0xbb5226=>setTimeout(_0xbb5226,_0x53d525));},generateBlinkingText=(_0x4911ba,_0x283c95)=>{let _0x2c688e=![];const _0xf79e80=(_0x1c5cd0,_0x5d137c,_0x4ebb92)=>{const _0x382b31=_0x49e9,_0x590022=Number[_0x382b31(0x23c)](_0x4ebb92)&&_0x4ebb92>0x0?_0x4ebb92:_0x283c95[_0x382b31(0x224)];let _0x479d95=_0x590022+'px\x20sans-serif';const _0x280524=Math[_0x382b31(0x289)](_0x283c95['x']+_0x283c95[_0x382b31(0x22d)]/0x2),_0x50fe10=Math[_0x382b31(0x289)](_0x283c95['y']+_0x283c95[_0x382b31(0x17c)]/0x2),_0x25043b=_0x35ae4f=>{const _0x54d754=_0x382b31,_0x3473d1=Math['floor'](_0x35ae4f/_0x283c95['halfPeriodMS']),_0x321de1=(_0x35ae4f-_0x3473d1*_0x283c95[_0x54d754(0x2cf)])/_0x283c95[_0x54d754(0x2cf)],_0x404805=_0x3473d1%0x2===0x0;_0x1c5cd0[_0x54d754(0x17f)](),_0x1c5cd0[_0x54d754(0x208)]=0x1,_0x1c5cd0[_0x54d754(0x1e1)]=_0x283c95[_0x54d754(0x283)],_0x1c5cd0[_0x54d754(0x2ce)](_0x283c95['x'],_0x283c95['y'],_0x283c95['width'],_0x283c95[_0x54d754(0x17c)]),_0x1c5cd0[_0x54d754(0x255)]=_0x479d95,_0x1c5cd0['textAlign']='center',_0x1c5cd0[_0x54d754(0x2d3)]=_0x54d754(0x215),_0x1c5cd0[_0x54d754(0x1e1)]=_0x283c95['fontColor'],_0x1c5cd0['globalAlpha']=_0x404805?_0x321de1:0x1-_0x321de1,_0x1c5cd0['fillText'](_0x5d137c,_0x280524,_0x50fe10),_0x1c5cd0[_0x54d754(0x27b)](),_0x2c688e&&requestAnimationFrame(_0x25043b);};return _0x25043b;};return{'start':(_0x57db54,_0x512020)=>{_0x2c688e=!![],requestAnimationFrame(_0xf79e80(_0x4911ba,_0x57db54,_0x512020));},'stop':()=>{_0x2c688e=![];}};};function showConfirmTextDialog(_0x5edb59,_0x7e79a8){const _0x4786e9=_0xcf62f3,_0x560b1a=newElem('p',[_0x5edb59]);return _0x560b1a[_0x4786e9(0x28a)][_0x4786e9(0x236)]=_0x4786e9(0x192),showConfirmDialog(_0x560b1a,_0x7e79a8);}function showConfirmDialog(_0x33a149,_0x49640a){const _0xa0ccdc=_0xcf62f3;_0x49640a=Object[_0xa0ccdc(0x22f)]({'baseElement':document[_0xa0ccdc(0x269)],'focusable':![],'yesLabel':'OK','noLabel':_0xa0ccdc(0x190),'defaultIsYes':!![],'positionElement':window},_0x49640a);const _0x36c4de=_0x49640a['baseElement'],_0x4d5703=_0x49640a[_0xa0ccdc(0x21f)],_0x460bed=_0x49640a[_0xa0ccdc(0x271)],_0x496a7b=_0x49640a[_0xa0ccdc(0x22e)],_0x147ac1=_0x49640a[_0xa0ccdc(0x297)],_0x518ddf=_0x49640a[_0xa0ccdc(0x21d)],_0x1fb955=_0x496a7b==='',_0x4f4ae1=newElem(_0xa0ccdc(0x1f6),[_0x460bed]),_0x418fb9=newElem(_0xa0ccdc(0x1f6),[_0x496a7b]);_0x1fb955&&(_0x418fb9['style']['display']=_0xa0ccdc(0x183));const _0x52424d=_0x1fb955?[_0x4f4ae1]:[_0x4f4ae1,_0x418fb9],_0x1c8b21=newElem(_0xa0ccdc(0x24b),_0x52424d),_0x163daf=newElem(_0xa0ccdc(0x24b),[_0x33a149,newElem('hr'),_0x1c8b21],[_0xa0ccdc(0x2ee)]),_0x359541=newElem(_0xa0ccdc(0x24b)),_0x1aa3fa=0xf423f;_0x163daf[_0xa0ccdc(0x28a)][_0xa0ccdc(0x1e6)]=_0xa0ccdc(0x1a1),_0x163daf['style'][_0xa0ccdc(0x185)]=_0x1aa3fa,_0x163daf['style'][_0xa0ccdc(0x203)]='240px',_0x163daf[_0xa0ccdc(0x28a)][_0xa0ccdc(0x218)]='border-box',_0x163daf[_0xa0ccdc(0x28a)]['border']=_0xa0ccdc(0x19d),_0x163daf[_0xa0ccdc(0x28a)][_0xa0ccdc(0x1d3)]=_0xa0ccdc(0x26d),_0x163daf[_0xa0ccdc(0x28a)][_0xa0ccdc(0x28b)]=0x0,_0x163daf[_0xa0ccdc(0x28a)][_0xa0ccdc(0x28f)]=_0xa0ccdc(0x202),_0x163daf[_0xa0ccdc(0x28a)][_0xa0ccdc(0x283)]=_0xa0ccdc(0x24a),_0x1c8b21[_0xa0ccdc(0x28a)][_0xa0ccdc(0x25c)]='flex',_0x1c8b21[_0xa0ccdc(0x28a)][_0xa0ccdc(0x2a4)]=_0xa0ccdc(0x2da),_0x359541[_0xa0ccdc(0x28a)][_0xa0ccdc(0x1e6)]=_0xa0ccdc(0x1a1),_0x359541[_0xa0ccdc(0x28a)]['zIndex']=_0x1aa3fa-0x1,_0x359541['style'][_0xa0ccdc(0x1e4)]=0x0,_0x359541['style']['left']=0x0,_0x359541[_0xa0ccdc(0x28a)]['width']=_0xa0ccdc(0x2db),_0x359541[_0xa0ccdc(0x28a)][_0xa0ccdc(0x17c)]=_0xa0ccdc(0x2db),_0x359541['style'][_0xa0ccdc(0x296)]=_0xa0ccdc(0x2f2),_0x359541[_0xa0ccdc(0x28a)][_0xa0ccdc(0x28f)]=_0xa0ccdc(0x2f2),_0x359541[_0xa0ccdc(0x28a)]['margin']='0px',_0x359541['style']['backgroundColor']=_0xa0ccdc(0x240),_0x359541[_0xa0ccdc(0x28a)][_0xa0ccdc(0x230)]=0.3;!_0x33a149[_0xa0ccdc(0x28a)][_0xa0ccdc(0x28b)]&&!_0x33a149['style'][_0xa0ccdc(0x2b2)]&&!_0x33a149[_0xa0ccdc(0x28a)]['marginBottom']&&(_0x33a149[_0xa0ccdc(0x28a)][_0xa0ccdc(0x28b)]=_0xa0ccdc(0x279));const _0x2c21c8=function(_0x4cd65d){const _0xf267e0=_0xa0ccdc,_0x11ce5b=_0x4cd65d[0x0],_0x329f89=_0x4cd65d[_0x4cd65d['length']-0x1],_0xd927ed=[_0x329f89,_0x4cd65d,_0x11ce5b][_0xf267e0(0x2e5)]();return _0xa90176=>{const _0x329c30=_0xf267e0;if(_0xa90176[_0x329c30(0x2a9)]===_0x329c30(0x2e8)&&!_0xa90176[_0x329c30(0x19b)]&&!_0xa90176[_0x329c30(0x2b9)]&&!_0xa90176[_0x329c30(0x2ba)]){_0xa90176[_0x329c30(0x2e2)](),_0xa90176['preventDefault']();const _0x69ff8b=_0xd927ed[_0x329c30(0x2f9)](_0xa90176[_0x329c30(0x1f2)],0x1);_0x69ff8b===-0x1?(_0xa90176[_0x329c30(0x286)]?_0x329f89:_0x11ce5b)[_0x329c30(0x2dc)]():_0xd927ed[_0x69ff8b+(_0xa90176[_0x329c30(0x286)]?-0x1:0x1)][_0x329c30(0x2dc)]();}else _0xa90176[_0x329c30(0x2a9)]===_0x329c30(0x2f7)&&!_0xa90176[_0x329c30(0x19b)]&&!_0xa90176[_0x329c30(0x2b9)]&&!_0xa90176[_0x329c30(0x286)]&&!_0xa90176[_0x329c30(0x2ba)]&&(_0xa90176['stopPropagation'](),_0xa90176[_0x329c30(0x213)](),_0x418fb9[_0x329c30(0x1d8)]());};},_0x1ed390=Array[_0xa0ccdc(0x178)](_0x4d5703)?_0x4d5703['concat'](_0x52424d):_0x52424d,_0x4717e0=_0x2c21c8(_0x1ed390);_0x1ed390['concat'](_0x163daf,_0x359541)['forEach'](_0x584687=>{const _0x252d0e=_0xa0ccdc;_0x584687[_0x252d0e(0x1ca)](_0x252d0e(0x2ad),_0x4717e0),_0x584687[_0x252d0e(0x1ca)](_0x252d0e(0x241),_0x4717e0);}),_0x36c4de[_0xa0ccdc(0x1c1)](_0x359541),_0x36c4de[_0xa0ccdc(0x1c1)](_0x163daf);const _0x40e9e2=window[_0xa0ccdc(0x176)](_0x163daf),_0x452994=_0x518ddf===window?{'width':window[_0xa0ccdc(0x2eb)],'height':window[_0xa0ccdc(0x181)]}:_0x518ddf[_0xa0ccdc(0x18d)]();return _0x163daf[_0xa0ccdc(0x28a)][_0xa0ccdc(0x1e4)]=(_0x452994[_0xa0ccdc(0x17c)]-parseInt(_0x40e9e2[_0xa0ccdc(0x17c)],0xa))/0x2+'px',_0x163daf[_0xa0ccdc(0x28a)][_0xa0ccdc(0x251)]=(_0x452994[_0xa0ccdc(0x22d)]-parseInt(_0x40e9e2[_0xa0ccdc(0x22d)],0xa))/0x2+'px',_0x1fb955||_0x147ac1?_0x4f4ae1[_0xa0ccdc(0x2dc)]():_0x418fb9[_0xa0ccdc(0x2dc)](),new Promise((_0x525c94,_0x208163)=>{const _0xcbacca=_0xa0ccdc;_0x4f4ae1[_0xcbacca(0x1ca)](_0xcbacca(0x1d8),()=>{const _0xfbae84=_0xcbacca;_0x52424d[_0xfbae84(0x21b)](_0x4f24eb=>_0x4f24eb['setAttribute'](_0xfbae84(0x294),_0xfbae84(0x294))),_0x36c4de[_0xfbae84(0x267)](_0x359541),_0x36c4de[_0xfbae84(0x267)](_0x163daf),_0x525c94(!![]);}),_0x418fb9[_0xcbacca(0x1ca)]('click',()=>{const _0x53ca98=_0xcbacca;_0x52424d[_0x53ca98(0x21b)](_0x38b47a=>_0x38b47a[_0x53ca98(0x1f4)](_0x53ca98(0x294),_0x53ca98(0x294))),_0x36c4de[_0x53ca98(0x267)](_0x359541),_0x36c4de[_0x53ca98(0x267)](_0x163daf),_0x525c94(![]);});});}function drawDonutsCircle(_0x342afc,_0xcf1d4a,_0x551d7f,_0x2234fa,_0x56a1ba){const _0x51c0d4=_0xcf62f3;_0x342afc['save'](),_0x342afc[_0x51c0d4(0x1ea)](),_0x342afc[_0x51c0d4(0x1b7)](_0xcf1d4a,_0x551d7f,_0x2234fa-0x2*_0x56a1ba,0x0,0x2*Math['PI'],!![]),_0x342afc[_0x51c0d4(0x1b7)](_0xcf1d4a,_0x551d7f,_0x2234fa,0x0,0x2*Math['PI'],![]),_0x342afc[_0x51c0d4(0x1e8)](),_0x342afc[_0x51c0d4(0x27b)]();}function drawRoundedXMark(_0x45b8d6,_0x3a3ff5,_0x261fa7,_0x1c5820,_0x4bd3a2){const _0x51d0d6=_0xcf62f3,_0x556a49=_0x4bd3a2,_0x52f4f3=_0x556a49/Math[_0x51d0d6(0x1d5)],_0x428fb4=_0x52f4f3*0x2,_0x330218=_0x3a3ff5-_0x1c5820,_0x47701c=_0x3a3ff5,_0x2b9245=_0x3a3ff5+_0x1c5820,_0x5c1592=_0x261fa7-_0x1c5820,_0x50ae8d=_0x261fa7,_0x124ba8=_0x261fa7+_0x1c5820;_0x45b8d6[_0x51d0d6(0x17f)](),_0x45b8d6['beginPath'](),_0x45b8d6[_0x51d0d6(0x299)](_0x330218+_0x428fb4,_0x5c1592),_0x45b8d6[_0x51d0d6(0x23e)](_0x47701c,_0x50ae8d-_0x428fb4),_0x45b8d6[_0x51d0d6(0x23e)](_0x2b9245-_0x428fb4,_0x5c1592),_0x45b8d6[_0x51d0d6(0x1b7)](_0x2b9245-_0x52f4f3,_0x5c1592+_0x52f4f3,_0x556a49,Math['PI']*0x5/0x4,Math['PI']*0x9/0x4),_0x45b8d6[_0x51d0d6(0x23e)](_0x2b9245,_0x5c1592+_0x428fb4),_0x45b8d6[_0x51d0d6(0x23e)](_0x47701c+_0x428fb4,_0x50ae8d),_0x45b8d6[_0x51d0d6(0x23e)](_0x2b9245,_0x124ba8-_0x428fb4),_0x45b8d6[_0x51d0d6(0x1b7)](_0x2b9245-_0x52f4f3,_0x124ba8-_0x52f4f3,_0x556a49,Math['PI']*0x7/0x4,Math['PI']*0xb/0x4),_0x45b8d6[_0x51d0d6(0x23e)](_0x2b9245-_0x428fb4,_0x124ba8),_0x45b8d6[_0x51d0d6(0x23e)](_0x47701c,_0x50ae8d+_0x428fb4),_0x45b8d6[_0x51d0d6(0x23e)](_0x330218+_0x428fb4,_0x124ba8),_0x45b8d6['arc'](_0x330218+_0x52f4f3,_0x124ba8-_0x52f4f3,_0x556a49,Math['PI']*0x1/0x4,Math['PI']*0x5/0x4),_0x45b8d6['lineTo'](_0x330218,_0x124ba8-_0x428fb4),_0x45b8d6[_0x51d0d6(0x23e)](_0x47701c-_0x428fb4,_0x50ae8d),_0x45b8d6['lineTo'](_0x330218,_0x5c1592+_0x428fb4),_0x45b8d6[_0x51d0d6(0x1b7)](_0x330218+_0x52f4f3,_0x5c1592+_0x52f4f3,_0x556a49,Math['PI']*0x3/0x4,Math['PI']*0x7/0x4),_0x45b8d6[_0x51d0d6(0x1e8)](),_0x45b8d6[_0x51d0d6(0x27b)]();}function _0x49e9(_0x5d6066,_0x243607){const _0xeb8475=_0xeb84();return _0x49e9=function(_0x49e93f,_0x5eeab9){_0x49e93f=_0x49e93f-0x171;let _0x1ad80d=_0xeb8475[_0x49e93f];return _0x1ad80d;},_0x49e9(_0x5d6066,_0x243607);}function roundedRect(_0x5c2139,_0x59a311,_0x24eefd,_0x582f48,_0x1366bc,_0x4a1c6e,_0x20843b=_0xcf62f3(0x24a)){const _0x2e7340=_0xcf62f3;_0x5c2139[_0x2e7340(0x17f)](),_0x5c2139['strokeStyle']=_0x20843b,_0x5c2139[_0x2e7340(0x1e1)]=_0x20843b,_0x5c2139[_0x2e7340(0x1ea)](),_0x5c2139['moveTo'](_0x59a311,_0x24eefd+_0x4a1c6e),_0x5c2139[_0x2e7340(0x23e)](_0x59a311,_0x24eefd+_0x1366bc-_0x4a1c6e),_0x5c2139[_0x2e7340(0x1be)](_0x59a311,_0x24eefd+_0x1366bc,_0x59a311+_0x4a1c6e,_0x24eefd+_0x1366bc,_0x4a1c6e),_0x5c2139[_0x2e7340(0x23e)](_0x59a311+_0x582f48-_0x4a1c6e,_0x24eefd+_0x1366bc),_0x5c2139[_0x2e7340(0x1be)](_0x59a311+_0x582f48,_0x24eefd+_0x1366bc,_0x59a311+_0x582f48,_0x24eefd+_0x1366bc-_0x4a1c6e,_0x4a1c6e),_0x5c2139[_0x2e7340(0x23e)](_0x59a311+_0x582f48,_0x24eefd+_0x4a1c6e),_0x5c2139[_0x2e7340(0x1be)](_0x59a311+_0x582f48,_0x24eefd,_0x59a311+_0x582f48-_0x4a1c6e,_0x24eefd,_0x4a1c6e),_0x5c2139[_0x2e7340(0x23e)](_0x59a311+_0x4a1c6e,_0x24eefd),_0x5c2139[_0x2e7340(0x1be)](_0x59a311,_0x24eefd,_0x59a311,_0x24eefd+_0x4a1c6e,_0x4a1c6e),_0x5c2139['fill'](),_0x5c2139[_0x2e7340(0x27b)]();}function toRelativeName(_0x3f553d){const _0x4e1aeb=_0xcf62f3;return/:\/\//[_0x4e1aeb(0x18c)](_0x3f553d)?_0x3f553d:/^[.\/]/[_0x4e1aeb(0x18c)](_0x3f553d)?_0x3f553d:'./'+_0x3f553d;}function getDir(_0xc1f592){const _0x58273c=_0xcf62f3;return _0xc1f592[_0x58273c(0x281)](/[^/]+$/,'');}const treatObjectRec=(_0x2b7f2e,_0x118927)=>{const _0x400116=_0xcf62f3,_0x456157=_0x5867b2=>_0x5867b2!==null&&typeof _0x5867b2===_0x400116(0x2b8)&&!Array['isArray'](_0x5867b2);if(_0x456157(_0x2b7f2e)){const _0x4da0c4={'parent':_0x2b7f2e};return _0x118927[_0x400116(0x243)]?.(_0x2b7f2e,_0x4da0c4),Object['getOwnPropertyNames'](_0x2b7f2e)['forEach'](_0xbe82d8=>{const _0x22e20a=_0x400116;_0x118927['beforeObjectItem']?.(_0x2b7f2e[_0xbe82d8],_0xbe82d8,_0x4da0c4);const _0x5f20e6=treatObjectRec(_0x2b7f2e[_0xbe82d8],_0x118927);_0x118927[_0x22e20a(0x196)]?.(_0x2b7f2e[_0xbe82d8],_0xbe82d8,_0x4da0c4,_0x5f20e6);}),_0x118927[_0x400116(0x1a5)]?.(_0x2b7f2e,_0x4da0c4)??_0x2b7f2e;}else{if(Array['isArray'](_0x2b7f2e)){const _0x3c548d={'parent':_0x2b7f2e};return _0x118927[_0x400116(0x1c2)]?.(_0x2b7f2e,_0x3c548d),_0x2b7f2e[_0x400116(0x21b)]((_0x1510bc,_0x52442f)=>{const _0x85e8a5=_0x400116;_0x118927['beforeArrayItem']?.(_0x1510bc,_0x52442f,_0x3c548d);const _0x436cf6=treatObjectRec(_0x1510bc,_0x118927);_0x118927[_0x85e8a5(0x186)]?.(_0x1510bc,_0x52442f,_0x3c548d,_0x436cf6);}),_0x118927['afterArray']?.(_0x2b7f2e,_0x3c548d)??_0x2b7f2e;}else{if(typeof _0x2b7f2e===_0x400116(0x2b4))return _0x118927[_0x400116(0x260)]?.(_0x2b7f2e)??_0x2b7f2e;else{if(typeof _0x2b7f2e===_0x400116(0x2d2))return(_0x118927[_0x400116(0x1d4)]??_0x118927[_0x400116(0x27a)])?.(_0x2b7f2e)??_0x2b7f2e;else{if(typeof _0x2b7f2e==='number')return(_0x118927[_0x400116(0x292)]??_0x118927[_0x400116(0x27a)])?.(_0x2b7f2e)??_0x2b7f2e;else{if(typeof _0x2b7f2e===_0x400116(0x28d))return(_0x118927[_0x400116(0x191)]??_0x118927['onValue'])?.(_0x2b7f2e)??_0x2b7f2e;else{if(typeof _0x2b7f2e==='string')return(_0x118927[_0x400116(0x188)]??_0x118927['onValue'])?.(_0x2b7f2e)??_0x2b7f2e;else{if(typeof _0x2b7f2e===_0x400116(0x23a))return(_0x118927['onSymbolValue']??_0x118927['onValue'])?.(_0x2b7f2e)??_0x2b7f2e;else{if(typeof _0x2b7f2e===_0x400116(0x1eb)||_0x2b7f2e===null)return(_0x118927[_0x400116(0x1b9)]??_0x118927[_0x400116(0x27a)])?.(_0x2b7f2e)??_0x2b7f2e;}}}}}}}}},deepAssign=(_0x4891d1,..._0x43ca1d)=>{const _0xe67c2c=_0xcf62f3,_0x2331a9=(_0x3a5412,_0x33573f)=>{let _0x2184d8=_0x3a5412;return treatObjectRec(_0x33573f,{'beforeObject':(_0x2107d5,_0x25e8cb)=>{const _0x3487f9=_0x49e9;_0x25e8cb[_0x3487f9(0x1f9)]=_0x2184d8??{};},'beforeObjectItem':(_0x216b42,_0x30f482,_0x365fad,_0x19996d)=>{const _0xb7ea58=_0x49e9;_0x2184d8=_0x365fad[_0xb7ea58(0x1f9)][_0x30f482];},'afterObjectItem':(_0x57a41d,_0x39c3b1,_0x13d72e,_0xdc6e34)=>{const _0x3f6d7e=_0x49e9;_0x13d72e[_0x3f6d7e(0x1f9)][_0x39c3b1]=_0xdc6e34;},'afterObject':(_0x355e6a,_0x6c2b4c)=>{const _0x84eb1=_0x49e9;return _0x6c2b4c[_0x84eb1(0x1f9)];},'beforeArray':(_0x5adaf6,_0x55c586)=>{const _0x1a7e41=_0x49e9;_0x55c586[_0x1a7e41(0x1f9)]=[];},'beforeArrayItem':(_0x314808,_0xede448,_0x4fa995)=>{_0x2184d8={};},'afterArrayItem':(_0x3c7af5,_0x2ef1d2,_0x5580ad,_0x43040b)=>{_0x5580ad['result'][_0x2ef1d2]=_0x43040b;},'afterArray':(_0x3e261c,_0x7c95de)=>{const _0x14ffc1=_0x49e9;return _0x7c95de[_0x14ffc1(0x1f9)];}});},_0x772ff9=_0x153a0a=>_0x153a0a!==null&&typeof _0x153a0a===_0xe67c2c(0x2b8)&&!Array[_0xe67c2c(0x178)](_0x153a0a);return(_0x43ca1d??[])[_0xe67c2c(0x1e9)]((_0x1a7b5c,_0x440e59)=>{return _0x772ff9(_0x440e59)?_0x2331a9(_0x1a7b5c,_0x440e59):_0x1a7b5c;},_0x4891d1);};(async _0x2f63fc=>{const _0x249740=_0xcf62f3;{const _0x18e940=new URL(window[_0x249740(0x2e0)])['searchParams'];_0x18e940[_0x249740(0x1aa)](_0x249740(0x2a7))&&(_0x2f63fc[_0x249740(0x2a7)]=!![]);{const _0x1f57c4=[_0x249740(0x1f5),_0x249740(0x2b7),'ps'][_0x249740(0x21c)](_0x25c3fc=>_0x18e940[_0x249740(0x17d)](_0x25c3fc))['find'](_0x188f1a=>_0x188f1a)||_0x2f63fc[_0x249740(0x189)];if(_0x1f57c4){const _0x41cd23=(await import(toRelativeName(_0x1f57c4)))[_0x249740(0x180)],_0x3e45f1=getDir(_0x1f57c4);/\/$/['test'](_0x3e45f1)&&treatObjectRec(_0x41cd23,{'afterObjectItem':(_0x2e44de,_0x47b22d,_0x19a02d)=>{const _0x305197=_0x249740;typeof _0x2e44de==='string'&&/path$/i['test'](_0x47b22d)&&(_0x19a02d[_0x305197(0x1dd)][_0x47b22d]=_0x3e45f1+_0x2e44de);}}),_0x2f63fc=deepAssign({},_0x2f63fc,_0x41cd23);}}_0x2f63fc[_0x249740(0x2a7)]&&console['log'](_0x249740(0x1ad),_0x2f63fc);}const _0x2cf688=_0x2f63fc['appId']??'karuta-solo',_0x372391=_0x2cf688+_0x249740(0x22a),_0x3c6c61=_0x2cf688+'-rankHistories',_0x4170df={'mode':'startArea','userName':null},_0x430c6b={'originalCards':_0x2f63fc['cards']},_0x38d372={'loaded':![],'playOrNop':_0xbf6028=>{const _0xe722b=_0x249740;_0xbf6028&&(_0xbf6028[_0xe722b(0x216)]=0x0,_0xbf6028['play']?.());},'playSound':_0x225f9c=>{const _0x18a300=_0x249740;_0x225f9c[_0x18a300(0x216)]=0x0,_0x225f9c[_0x18a300(0x1e2)]?.();}},_0x212b21={};{if(_0x2f63fc[_0x249740(0x276)][_0x249740(0x248)]){const _0x1576a3=_0x2f63fc[_0x249740(0x276)][_0x249740(0x248)];document['title']=_0x1576a3,(document['querySelector']('h1')??{})[_0x249740(0x2b3)]=_0x1576a3;}_0x2f63fc[_0x249740(0x276)][_0x249740(0x1fd)]&&document[_0x249740(0x1ed)](_0x249740(0x1cf))['insertAdjacentHTML'](_0x249740(0x1f7),_0x2f63fc[_0x249740(0x276)][_0x249740(0x1fd)]),document['querySelector'](_0x249740(0x1b4))['textContent']=_0x2f63fc[_0x249740(0x28c)];}const _0x5d0eb0={'rankComparer':(_0x1bc4bd,_0x4da731)=>_0x1bc4bd[_0x249740(0x2e6)]!==_0x4da731[_0x249740(0x2e6)]?_0x1bc4bd[_0x249740(0x2e6)]-_0x4da731['point']:_0x1bc4bd[_0x249740(0x274)]-_0x4da731[_0x249740(0x274)],'fillRankPoint':_0x4475fa=>{const _0x467e3a=_0x249740;return _0x4475fa['totalTakenTimeSec']=(_0x4475fa['totalTakenTimeMS']/0x3e8)[_0x467e3a(0x258)](0x2),_0x4475fa[_0x467e3a(0x2e6)]=_0x4475fa[_0x467e3a(0x275)]/0x3e8+_0x2f63fc[_0x467e3a(0x28c)]*_0x4475fa['wrong'],_0x4475fa[_0x467e3a(0x20f)]=_0x4475fa[_0x467e3a(0x2e6)][_0x467e3a(0x258)](0x2),_0x4475fa;},'getHistoriesFromLocalStorage':()=>{const _0xc5fa3=_0x249740;return JSON[_0xc5fa3(0x199)](window[_0xc5fa3(0x280)][_0xc5fa3(0x298)](_0x3c6c61))??{};},'toRankedHistory':_0x14a791=>{const _0x157f68=_0x249740;return getRankedArray(_0x14a791[_0x157f68(0x21c)](_0x5d0eb0[_0x157f68(0x2f4)]),_0x5d0eb0[_0x157f68(0x17a)]);},'getRankedHistories':()=>{const _0x348d0d=_0x249740,_0x119c8a=_0x5d0eb0['getHistoriesFromLocalStorage']()['rankHistories']??{};return Object['keys'](_0x119c8a)[_0x348d0d(0x21b)](_0x1ec344=>{const _0x2b9dfc=_0x348d0d;_0x119c8a[_0x1ec344]=_0x5d0eb0[_0x2b9dfc(0x266)](_0x119c8a[_0x1ec344]);}),_0x119c8a;},'setRankedHistory':(_0x2b966f,_0x1b73ca)=>{const _0x6a4c42=_0x249740,_0x58ede2=_0x5d0eb0[_0x6a4c42(0x209)]();_0x58ede2[_0x6a4c42(0x284)]=_0x58ede2['rankHistories']??{},_0x58ede2['rankHistories'][_0x430c6b[_0x6a4c42(0x237)]]=_0x1b73ca[_0x6a4c42(0x21c)](_0x3f1dfd=>{const _0x312b4f=_0x6a4c42;return{'totalTakenTimeMS':_0x3f1dfd[_0x312b4f(0x275)],'wrong':_0x3f1dfd[_0x312b4f(0x274)]};}),window['localStorage'][_0x6a4c42(0x2ed)](_0x3c6c61,JSON[_0x6a4c42(0x24d)](_0x58ede2));}};{const _0x35f681=window[_0x249740(0x280)]?JSON[_0x249740(0x199)](window[_0x249740(0x280)][_0x249740(0x298)](_0x372391)):null,_0x36a4c6=(_0x963732,_0x18aea0)=>_0x35f681?.[_0x963732]??_0x18aea0,_0x294dda=document[_0x249740(0x1ed)](_0x249740(0x250)),_0x530714=document[_0x249740(0x1ed)](_0x249740(0x263)),_0x32db25=document['querySelector'](_0x249740(0x259));_0x212b21[_0x249740(0x229)]=()=>{const _0x4e56c6=_0x249740;_0x4170df[_0x4e56c6(0x1ec)]=_0x4e56c6(0x219),_0x294dda[_0x4e56c6(0x28a)][_0x4e56c6(0x25c)]=_0x4e56c6(0x183),_0x530714[_0x4e56c6(0x28a)][_0x4e56c6(0x25c)]=_0x4e56c6(0x2d7),_0x32db25['style'][_0x4e56c6(0x25c)]=_0x4e56c6(0x183),_0x204394[_0x4e56c6(0x2dc)]();},_0x212b21[_0x249740(0x2bd)]=()=>{const _0x3efeb8=_0x249740;_0x4170df['mode']=_0x3efeb8(0x22c),_0x294dda[_0x3efeb8(0x28a)]['display']=_0x3efeb8(0x183),_0x530714['style'][_0x3efeb8(0x25c)]='none',_0x32db25[_0x3efeb8(0x28a)][_0x3efeb8(0x25c)]=_0x3efeb8(0x2d7);};const _0x3f6122=document[_0x249740(0x1ed)](_0x249740(0x1e5)),_0x40bbbd=document[_0x249740(0x1ed)]('#cardCountRange'),_0x3d101b=document['querySelector'](_0x249740(0x277)),_0x204394=document[_0x249740(0x1ed)](_0x249740(0x200));_0x204394[_0x249740(0x1f4)](_0x249740(0x2c3),_0x249740(0x179)),_0x204394[_0x249740(0x1ca)](_0x249740(0x2ad),_0x361534=>{const _0x5147c4=_0x249740;!_0x361534['isComposing']&&_0x361534['key']===_0x5147c4(0x27f)&&_0x3f6122[_0x5147c4(0x2dc)]();}),_0x3f6122['addEventListener'](_0x249740(0x2ad),_0x592fb3=>{const _0x2eda54=_0x249740;!_0x592fb3[_0x2eda54(0x244)]&&_0x592fb3[_0x2eda54(0x286)]&&_0x592fb3[_0x2eda54(0x2a9)]===_0x2eda54(0x27f)&&_0x204394['focus'](),!_0x592fb3[_0x2eda54(0x244)]&&!_0x592fb3[_0x2eda54(0x286)]&&_0x592fb3[_0x2eda54(0x2a9)]===_0x2eda54(0x27f)&&_0x3d101b['focus']();}),_0x204394[_0x249740(0x25b)]=_0x36a4c6(_0x249740(0x1b3),_0x2f63fc['defaultValues'][_0x249740(0x1b3)]);const _0x3e70f6=0x2;_0x3f6122[_0x249740(0x1ca)](_0x249740(0x231),()=>{const _0x435c31=_0x249740,_0x323473=_0x38d372[_0x435c31(0x23f)][_0x435c31(0x26c)],_0x2523d6=parseInt(_0x3f6122['value'],0x0),_0x502e9c=!Number[_0x435c31(0x27e)](_0x2523d6)?_0x323473:_0x2523d6>_0x323473?_0x323473:_0x2523d6<_0x3e70f6?_0x3e70f6:_0x2523d6;_0x3f6122[_0x435c31(0x25b)]=_0x502e9c,_0x212b21[_0x435c31(0x270)]=_0x502e9c;}),_0x3d101b[_0x249740(0x1ca)](_0x249740(0x1d8),async _0xf64585=>{const _0x29352e=_0x249740;_0x4170df[_0x29352e(0x1b3)]=_0x204394[_0x29352e(0x25b)][_0x29352e(0x2a6)](),window['localStorage']&&window[_0x29352e(0x280)][_0x29352e(0x2ed)](_0x372391,JSON[_0x29352e(0x24d)]({'userName':_0x4170df[_0x29352e(0x1b3)]})),await _0x109ebd['onStartPlay']({'useCardCount':_0x212b21[_0x29352e(0x270)]});}),_0x212b21[_0x249740(0x2ca)]=_0x37d70f=>{const _0x4ed8d1=_0x249740;_0x430c6b[_0x4ed8d1(0x1ef)]&&_0x430c6b['currentCard'][_0x4ed8d1(0x282)]?.[_0x4ed8d1(0x262)]?.();_0x3f6122[_0x4ed8d1(0x273)]=_0x3e70f6,_0x3f6122[_0x4ed8d1(0x268)]=_0x38d372['cards'][_0x4ed8d1(0x26c)];!_0x3f6122['value']&&(_0x3f6122[_0x4ed8d1(0x25b)]=_0x212b21[_0x4ed8d1(0x270)]??_0x38d372[_0x4ed8d1(0x23f)][_0x4ed8d1(0x26c)]);const _0x5ca401=_0x3f6122[_0x4ed8d1(0x273)]+'～'+_0x3f6122[_0x4ed8d1(0x268)];_0x3f6122[_0x4ed8d1(0x2c3)]=_0x5ca401,_0x40bbbd[_0x4ed8d1(0x2b3)]=_0x5ca401,_0x2ea584[_0x4ed8d1(0x1c9)](_0x4ed8d1(0x1d8),_0x430c6b[_0x4ed8d1(0x2d8)]),_0x2ea584[_0x4ed8d1(0x1c9)](_0x4ed8d1(0x1d8),_0x430c6b[_0x4ed8d1(0x29d)]);{const _0x333eca=document[_0x4ed8d1(0x1ed)]('#myOwnPlayHistoryArea');while(_0x333eca[_0x4ed8d1(0x1c3)]){_0x333eca[_0x4ed8d1(0x267)](_0x333eca[_0x4ed8d1(0x1c3)]);}const _0x1dcd0e=_0x5d0eb0[_0x4ed8d1(0x2d9)](),_0xb9b776=Array[_0x4ed8d1(0x173)](Object[_0x4ed8d1(0x2ac)](_0x1dcd0e))[_0x4ed8d1(0x25e)]((_0x229798,_0x19bf67)=>_0x19bf67-_0x229798);if(_0xb9b776[_0x4ed8d1(0x2a8)]===0x0)_0x333eca[_0x4ed8d1(0x1c1)](document[_0x4ed8d1(0x2cc)]('挑戦記録なし'));else{const _0x83a68d=document[_0x4ed8d1(0x26a)](),_0x111f6b=[],_0x2856ec=newElem('select',[]);_0xb9b776[_0x4ed8d1(0x21b)](_0x2f6a33=>{const _0x190ab6=_0x4ed8d1,_0x53c615=_0x1dcd0e[_0x2f6a33];if(_0x53c615[_0x190ab6(0x2a8)]<=0x0)return;_0x2856ec[_0x190ab6(0x1c1)](newElem(_0x190ab6(0x1fa),[_0x2f6a33+'\x20枚']));const _0x88de5a=newElem('table',[newElem(_0x190ab6(0x254),_0x53c615[_0x190ab6(0x21c)](_0x38a2b0=>newElem('tr',[newElem('td',[''+_0x38a2b0[_0x190ab6(0x1ce)],newElem(_0x190ab6(0x29e),['位'],['unitText'])]),newElem('td',[''+_0x38a2b0[_0x190ab6(0x20f)],newElem(_0x190ab6(0x29e),['pt'],['unitText'])]),newElem('td',[''+_0x38a2b0[_0x190ab6(0x19c)],newElem(_0x190ab6(0x29e),['秒'],['unitText'])]),newElem('td',[''+_0x38a2b0['wrong'],newElem(_0x190ab6(0x29e),[_0x190ab6(0x24f)],[_0x190ab6(0x293)])])])))]);_0x111f6b[_0x190ab6(0x245)](_0x88de5a),_0x83a68d[_0x190ab6(0x1c1)](_0x88de5a);}),_0x2856ec['selectedIndex']=0x0;const _0xec3c0=_0x20def1=>{_0x111f6b['forEach']((_0x841ece,_0xad6da4)=>{const _0x4c0893=_0x49e9;_0xad6da4===_0x2856ec['selectedIndex']?_0x841ece[_0x4c0893(0x28a)][_0x4c0893(0x25c)]='table':_0x841ece['style'][_0x4c0893(0x25c)]=_0x4c0893(0x183);});};_0x2856ec[_0x4ed8d1(0x1ca)](_0x4ed8d1(0x264),_0xec3c0),_0xec3c0(),_0x333eca[_0x4ed8d1(0x1c1)](newElem('label',[_0x4ed8d1(0x249),_0x2856ec,_0x4ed8d1(0x28e)])),_0x333eca['appendChild'](_0x83a68d);}}},_0x212b21['onInitialize']=_0x207073=>{const _0x205f18=_0x249740,_0x4573ba=_0x2f63fc['userNameMaxLength']??0xa;_0x204394[_0x205f18(0x1f4)](_0x205f18(0x18e),_0x4573ba),_0x204394['setAttribute'](_0x205f18(0x2c3),_0x4573ba+_0x205f18(0x2bb));};}const _0x1c7a2f=async()=>{const _0x41ae35=_0x249740;if(_0x38d372['loaded'])return;console['log'](_0x41ae35(0x272));const _0x2564d4=await Promise[_0x41ae35(0x1ab)]([_0x2f63fc['soundSettings'][_0x41ae35(0x233)],_0x2f63fc['soundSettings']['ngSoundPath'],_0x2f63fc[_0x41ae35(0x1cd)][_0x41ae35(0x2a3)],_0x2f63fc[_0x41ae35(0x1cd)][_0x41ae35(0x1cb)]][_0x41ae35(0x21c)](loadSyncAudio));_0x2564d4['forEach'](_0x272372=>{const _0x9be6c5=_0x41ae35;_0x272372[_0x9be6c5(0x1d1)]=_0x2f63fc[_0x9be6c5(0x1cd)][_0x9be6c5(0x25a)];}),_0x38d372[_0x41ae35(0x206)]=_0x2564d4[_0x41ae35(0x223)](),_0x38d372[_0x41ae35(0x19e)]=_0x2564d4['shift'](),_0x38d372[_0x41ae35(0x1da)]=_0x2564d4[_0x41ae35(0x223)](),_0x38d372['countdown2Sound']=_0x2564d4[_0x41ae35(0x223)](),_0x38d372[_0x41ae35(0x2ae)]=_0x2f63fc['endCardSettings'][_0x41ae35(0x2a2)]?await loadSyncAudio(_0x2f63fc[_0x41ae35(0x2e4)][_0x41ae35(0x2a2)]):null,_0x38d372[_0x41ae35(0x1de)]=_0x2f63fc['endCardSettings'][_0x41ae35(0x225)]?await loadSyncImage(_0x2f63fc[_0x41ae35(0x2e4)][_0x41ae35(0x225)]):null;const _0x4de934=_0x2f63fc[_0x41ae35(0x23f)][_0x41ae35(0x1df)](_0x4e5978=>_0x4e5978[_0x41ae35(0x225)]&&_0x4e5978[_0x41ae35(0x2a2)]),_0x47738e=await Promise[_0x41ae35(0x1ab)](_0x4de934[_0x41ae35(0x21c)](_0x5c0373=>_0x5c0373[_0x41ae35(0x225)])[_0x41ae35(0x21c)](loadSyncImage)),_0x134426=_0x47738e[_0x41ae35(0x21c)](_0x3dc28c=>{const _0x523029=_0x41ae35,_0x474f00=document[_0x523029(0x1f8)](_0x523029(0x20e));_0x474f00[_0x523029(0x22d)]=_0x2f63fc['cardSettings'][_0x523029(0x1b6)]+0x2*_0x2f63fc[_0x523029(0x232)][_0x523029(0x19f)],_0x474f00[_0x523029(0x17c)]=_0x2f63fc['cardSettings'][_0x523029(0x1a2)]+0x2*_0x2f63fc['cardSettings'][_0x523029(0x19f)];const _0x5061ea=_0x474f00[_0x523029(0x253)]('2d');return _0x5061ea[_0x523029(0x1e1)]=_0x2f63fc[_0x523029(0x232)][_0x523029(0x27d)],_0x5061ea[_0x523029(0x2ce)](0x0,0x0,_0x474f00[_0x523029(0x22d)],_0x474f00['height']),_0x5061ea[_0x523029(0x290)](_0x3dc28c,_0x2f63fc[_0x523029(0x232)][_0x523029(0x19f)],_0x2f63fc[_0x523029(0x232)][_0x523029(0x19f)],_0x2f63fc[_0x523029(0x232)][_0x523029(0x1b6)],_0x2f63fc['cardSettings'][_0x523029(0x1a2)]),_0x474f00;}),_0x205701=await Promise[_0x41ae35(0x1ab)](_0x4de934[_0x41ae35(0x21c)](_0x4cab22=>_0x4cab22[_0x41ae35(0x2a2)])[_0x41ae35(0x21c)](loadSyncAudio));_0x205701[_0x41ae35(0x21b)](_0x18bb9d=>{const _0x4abc75=_0x41ae35;_0x18bb9d[_0x4abc75(0x197)]=!![],_0x18bb9d['volume']=_0x2f63fc[_0x4abc75(0x1cd)][_0x4abc75(0x27c)];}),_0x38d372[_0x41ae35(0x23f)]=new Map(),_0x4de934[_0x41ae35(0x21b)]((_0x568157,_0x16fab7)=>{const _0x102107=_0x41ae35;_0x38d372[_0x102107(0x23f)][_0x102107(0x2d1)](_0x568157['id'],{'img':_0x134426[_0x16fab7],'sound':_0x205701[_0x16fab7]});}),_0x38d372[_0x41ae35(0x2a5)]=!![],_0x2f63fc[_0x41ae35(0x2a7)]?console['log'](_0x41ae35(0x1ba),_0x38d372):console[_0x41ae35(0x257)](_0x41ae35(0x1ba));};await _0x1c7a2f(),_0x212b21[_0x249740(0x295)]();const _0x2ea584=document['querySelector']('#mainCanvas'),_0x10f41f=_0x2ea584[_0x249740(0x253)]('2d'),_0x50dfe4=Object[_0x249740(0x22f)]({},_0x2f63fc[_0x249740(0x1a3)]),_0xc8d1f7=Object[_0x249740(0x22f)]({},_0x2f63fc[_0x249740(0x1cc)]),_0x2ad0d1=_0x2f63fc['playmat'][_0x249740(0x171)],_0xb193cc=()=>{const _0xf0da3a=_0x249740;_0x10f41f[_0xf0da3a(0x1e1)]=_0xc8d1f7[_0xf0da3a(0x283)],_0x10f41f['fillRect'](0x0,0x0,_0x2ea584[_0xf0da3a(0x22d)],_0x2ea584[_0xf0da3a(0x17c)]);},_0x3c3374=()=>{const _0x500d5a=_0x249740;{const _0x6cbb43=Math[_0x500d5a(0x273)](Math[_0x500d5a(0x289)](window[_0x500d5a(0x2eb)]*_0x2f63fc[_0x500d5a(0x1c7)][_0x500d5a(0x2c6)]),_0x2f63fc['playmat'][_0x500d5a(0x2c7)]),_0xaeca64=Math[_0x500d5a(0x273)](Math['floor'](window[_0x500d5a(0x181)]*_0x2f63fc['playmat'][_0x500d5a(0x1dc)]),_0x2f63fc[_0x500d5a(0x1c7)][_0x500d5a(0x2c7)]);_0x2ea584['x']=0x0,_0x2ea584['y']=0x0,_0x2ea584[_0x500d5a(0x22d)]=window[_0x500d5a(0x2eb)]-0x2*_0x6cbb43,_0x2ea584[_0x500d5a(0x17c)]=window['innerHeight']-0x2*_0xaeca64,_0x2ea584[_0x500d5a(0x28a)][_0x500d5a(0x1e0)]=_0x6cbb43+'px',_0x2ea584[_0x500d5a(0x28a)]['marginTop']=_0xaeca64+'px',_0x2ea584[_0x500d5a(0x1ca)](_0x500d5a(0x18a),_0x1f1644=>{const _0x1c188f=_0x500d5a;_0x1f1644[_0x1c188f(0x213)]();});}{_0xc8d1f7['x']=0x0,_0xc8d1f7['y']=0x0,_0xc8d1f7[_0x500d5a(0x22d)]=_0x2ea584[_0x500d5a(0x22d)]-_0x50dfe4[_0x500d5a(0x22d)],_0xc8d1f7[_0x500d5a(0x17c)]=_0x2ea584['height'],_0xc8d1f7[_0x500d5a(0x1fb)]=![],_0xc8d1f7[_0x500d5a(0x1f0)]=Math['min'](_0xc8d1f7[_0x500d5a(0x22d)],_0xc8d1f7[_0x500d5a(0x17c)]),_0xc8d1f7[_0x500d5a(0x182)]=_0xc8d1f7[_0x500d5a(0x1f0)]*_0xc8d1f7[_0x500d5a(0x22b)][_0x500d5a(0x1bc)],_0xc8d1f7[_0x500d5a(0x2be)]=_0xc8d1f7['width']-0x2*_0xc8d1f7[_0x500d5a(0x182)],_0xc8d1f7[_0x500d5a(0x1ee)]=_0xc8d1f7[_0x500d5a(0x17c)]-0x2*_0xc8d1f7[_0x500d5a(0x182)];}{_0x50dfe4[_0x500d5a(0x17c)]=_0x2ea584['height'],_0x50dfe4[_0x500d5a(0x18b)]=_0xc8d1f7[_0x500d5a(0x22d)],_0x50dfe4[_0x500d5a(0x17e)]=0x0,_0x50dfe4[_0x500d5a(0x1a6)]=_0x50dfe4[_0x500d5a(0x17c)]-_0x50dfe4[_0x500d5a(0x17e)],_0x50dfe4['textStartX']=_0x50dfe4[_0x500d5a(0x18b)]+_0x50dfe4[_0x500d5a(0x28b)],_0x50dfe4[_0x500d5a(0x24c)]=_0x50dfe4['width']-0x2*_0x50dfe4[_0x500d5a(0x28b)],_0x50dfe4['labelSplitter']='：',_0x50dfe4['labelSplitterWidth']=_0x50dfe4['labelSplitter'][_0x500d5a(0x2a8)]*_0x50dfe4[_0x500d5a(0x224)],_0x50dfe4[_0x500d5a(0x239)]=_0x50dfe4[_0x500d5a(0x1ff)]*_0x50dfe4[_0x500d5a(0x224)],_0x50dfe4[_0x500d5a(0x228)]=_0x50dfe4[_0x500d5a(0x24c)]-_0x50dfe4[_0x500d5a(0x239)]-_0x50dfe4[_0x500d5a(0x198)];const _0x23e1b4=_0x50dfe4[_0x500d5a(0x224)]*_0x50dfe4[_0x500d5a(0x195)];_0x50dfe4[_0x500d5a(0x2c9)]=_0x50dfe4[_0x500d5a(0x224)]+'px\x20'+_0x2ad0d1,_0x50dfe4['actLogFontText']=_0x23e1b4+'px\x20'+_0x2ad0d1,_0x50dfe4[_0x500d5a(0x17b)]=Math[_0x500d5a(0x2bc)](_0x50dfe4['fontSize']*_0x50dfe4[_0x500d5a(0x1b1)]),_0x50dfe4[_0x500d5a(0x174)]=Math[_0x500d5a(0x2bc)](_0x23e1b4*_0x50dfe4[_0x500d5a(0x1b1)]);const _0x53f2d2=0x6,_0x1d6565=_0x50dfe4[_0x500d5a(0x17c)]-0x2*_0x50dfe4[_0x500d5a(0x28b)]-_0x53f2d2*_0x50dfe4[_0x500d5a(0x224)]*_0x50dfe4['lineHeightRate'];_0x50dfe4[_0x500d5a(0x1d9)]=Math[_0x500d5a(0x289)](_0x1d6565/_0x50dfe4['actLineHeight']);}};{_0x50dfe4[_0x249740(0x217)]=()=>{const _0x51afd7=_0x249740;_0x10f41f[_0x51afd7(0x17f)](),_0x10f41f['fillStyle']=_0x50dfe4['backgroundColor'],_0x10f41f[_0x51afd7(0x2ce)](_0x50dfe4[_0x51afd7(0x18b)],_0x50dfe4[_0x51afd7(0x17e)],_0x50dfe4[_0x51afd7(0x22d)],_0x50dfe4[_0x51afd7(0x17c)]),_0x10f41f[_0x51afd7(0x2e7)]=_0x50dfe4['splitLineColor'],_0x10f41f[_0x51afd7(0x2d3)]=_0x51afd7(0x1e4),_0x10f41f[_0x51afd7(0x255)]=_0x50dfe4['fontText'],_0x10f41f[_0x51afd7(0x1e1)]=_0x50dfe4[_0x51afd7(0x1f1)];let _0xa6e848=_0x50dfe4['offsetY']+_0x50dfe4[_0x51afd7(0x28b)];const _0x5f05bd=[['総数',_0x430c6b[_0x51afd7(0x237)]+'\x20枚'],['残り',_0x430c6b[_0x51afd7(0x1d7)][_0x51afd7(0x2a8)]+'\x20枚'],[_0x51afd7(0x20c),_0x430c6b[_0x51afd7(0x2f6)][_0x51afd7(0x19c)]+'\x20秒'],[_0x51afd7(0x24f),_0x430c6b['progress'][_0x51afd7(0x274)]+'\x20回']];for(let [_0x44b8fd,_0x39a7df]of _0x5f05bd){let _0x5e0405=_0x50dfe4[_0x51afd7(0x1a9)]+_0x50dfe4[_0x51afd7(0x239)];_0x10f41f[_0x51afd7(0x2cb)]='right',_0x10f41f[_0x51afd7(0x1c4)](_0x44b8fd,_0x5e0405,_0xa6e848,_0x50dfe4[_0x51afd7(0x239)]),_0x10f41f[_0x51afd7(0x2cb)]='left',_0x10f41f[_0x51afd7(0x1c4)](_0x50dfe4['labelSplitter'],_0x5e0405,_0xa6e848,_0x50dfe4['labelSplitterWidth']),_0x10f41f[_0x51afd7(0x1c4)](_0x39a7df,_0x5e0405+=_0x50dfe4[_0x51afd7(0x198)],_0xa6e848,_0x50dfe4[_0x51afd7(0x228)]),_0xa6e848+=_0x50dfe4[_0x51afd7(0x17b)];}_0x10f41f[_0x51afd7(0x242)](_0x50dfe4[_0x51afd7(0x1a9)],_0xa6e848+_0x50dfe4[_0x51afd7(0x17b)]/0x2,_0x50dfe4[_0x51afd7(0x22d)]-0x2*_0x50dfe4[_0x51afd7(0x28b)],0x0),_0xa6e848+=_0x50dfe4['lineHeight'],_0x10f41f[_0x51afd7(0x1e1)]=_0x50dfe4['fontColor'],_0x10f41f['textAlign']='left',_0x10f41f[_0x51afd7(0x1c4)]('【履歴】',_0x50dfe4['textStartX'],_0xa6e848),_0xa6e848+=_0x50dfe4['lineHeight'],_0x50dfe4['currentY']=_0xa6e848,_0x50dfe4[_0x51afd7(0x2ea)](_0x430c6b[_0x51afd7(0x23b)]),_0x10f41f[_0x51afd7(0x27b)]();},_0x50dfe4[_0x249740(0x2ea)]=_0x286fb5=>{const _0x499832=_0x249740;_0x10f41f[_0x499832(0x17f)](),_0x10f41f['textBaseline']='top',_0x10f41f[_0x499832(0x255)]=_0x50dfe4[_0x499832(0x20b)],_0x10f41f[_0x499832(0x1e1)]=_0x50dfe4[_0x499832(0x283)],_0x10f41f['fillRect'](_0x50dfe4['offsetX'],_0x50dfe4[_0x499832(0x1af)],_0x50dfe4[_0x499832(0x22d)],_0x50dfe4[_0x499832(0x1a6)]-_0x50dfe4[_0x499832(0x1af)]),_0x10f41f[_0x499832(0x1e1)]=_0x50dfe4[_0x499832(0x1f1)],_0x10f41f[_0x499832(0x2cb)]=_0x499832(0x251);let _0x1222cb=_0x50dfe4[_0x499832(0x1af)];_0x286fb5['slice'](-_0x50dfe4[_0x499832(0x1d9)])[_0x499832(0x21b)](_0x51104f=>{const _0x5872c5=_0x499832,_0x45a902=_0x51104f[_0x5872c5(0x1ac)]+'\x20...\x20'+_0x51104f[_0x5872c5(0x23d)]+'秒'+(_0x51104f[_0x5872c5(0x184)]?'':_0x5872c5(0x1bb)+_0x51104f[_0x5872c5(0x247)]+')');_0x10f41f[_0x5872c5(0x1c4)](_0x45a902,_0x50dfe4[_0x5872c5(0x1a9)],_0x1222cb,_0x50dfe4[_0x5872c5(0x24c)]),_0x1222cb+=_0x50dfe4[_0x5872c5(0x174)];}),_0x10f41f[_0x499832(0x27b)]();};}const _0x12207b={};{const _0x36853c=_0x53f2b9=>{const _0x23587f=_0x249740,_0x3524fb=_0x53f2b9[_0x23587f(0x2a8)],_0x3ef0a5=_0x2f63fc['cardSettings'][_0x23587f(0x1b6)],_0x273571=_0x2f63fc[_0x23587f(0x232)][_0x23587f(0x1a2)],[_0x9f999e,_0x368608,_0x17f7a9,_0x3c3aed]=((()=>{const _0x55b76e=_0x23587f,_0x8d267e=_0xc8d1f7[_0x55b76e(0x22d)]/_0x3ef0a5/(_0xc8d1f7[_0x55b76e(0x17c)]/_0x273571);let _0x34b3c6,_0x139a0f,_0x54f8df,_0x2ca6be;if(_0x8d267e<0x1){const _0x2ee74d=Math[_0x55b76e(0x1b0)](_0x3524fb*_0x8d267e);_0x54f8df=Math[_0x55b76e(0x2bc)](_0x2ee74d),_0x2ca6be=Math[_0x55b76e(0x289)](_0x2ee74d),_0x34b3c6=Math[_0x55b76e(0x2bc)](_0x3524fb/_0x54f8df),_0x139a0f=Math[_0x55b76e(0x2bc)](_0x3524fb/_0x2ca6be);}else{const _0x421b47=Math[_0x55b76e(0x1b0)](_0x3524fb/_0x8d267e);_0x34b3c6=Math[_0x55b76e(0x2bc)](_0x421b47),_0x139a0f=Math[_0x55b76e(0x289)](_0x421b47),_0x54f8df=Math[_0x55b76e(0x2bc)](_0x3524fb/_0x34b3c6),_0x2ca6be=Math['ceil'](_0x3524fb/_0x139a0f);}const _0x130cdb=Math[_0x55b76e(0x273)](_0xc8d1f7[_0x55b76e(0x22d)]/_0x54f8df/_0x3ef0a5,_0xc8d1f7['height']/_0x34b3c6/_0x273571)*_0x2f63fc[_0x55b76e(0x232)][_0x55b76e(0x1c5)],_0x2f563d=Math[_0x55b76e(0x273)](_0xc8d1f7[_0x55b76e(0x22d)]/_0x2ca6be/_0x3ef0a5,_0xc8d1f7['height']/_0x139a0f/_0x273571)*_0x2f63fc[_0x55b76e(0x232)][_0x55b76e(0x1c5)];return _0x130cdb>_0x2f563d?[_0x54f8df,_0x34b3c6,Math['floor'](_0x130cdb*_0x3ef0a5),Math[_0x55b76e(0x289)](_0x130cdb*_0x273571)]:[_0x2ca6be,_0x139a0f,Math[_0x55b76e(0x289)](_0x2f563d*_0x3ef0a5),Math['floor'](_0x2f563d*_0x273571)];})()),_0xb2a6a6=Math[_0x23587f(0x289)]((_0xc8d1f7[_0x23587f(0x22d)]-_0x17f7a9*_0x9f999e)/(_0x9f999e+0x1)),_0x5dfad5=Math[_0x23587f(0x289)]((_0xc8d1f7[_0x23587f(0x17c)]-_0x3c3aed*_0x368608)/(_0x368608+0x1));_0x12207b[_0x23587f(0x2d5)]=_0x9f999e,_0x12207b[_0x23587f(0x194)]=_0x368608,_0x12207b[_0x23587f(0x25d)]=_0x17f7a9,_0x12207b[_0x23587f(0x193)]=_0x3c3aed,_0x12207b[_0x23587f(0x1e7)]=_0xb2a6a6,_0x12207b['cardRowMargin']=_0x5dfad5;};_0x12207b[_0x249740(0x1fe)]=_0x3359b7=>{const _0xbe122c=_0x249740;_0x36853c(_0x3359b7),_0x3359b7[_0xbe122c(0x21b)]((_0x2a5f53,_0x5b2635)=>{const _0x298252=_0xbe122c,_0x4a1675=_0x5b2635%_0x12207b['colCount'],_0x5d2d27=Math[_0x298252(0x289)](_0x5b2635/_0x12207b[_0x298252(0x2d5)]),_0x3e0870=_0x12207b['cardColMargin']+_0x4a1675*(_0x12207b['cardWidth']+_0x12207b[_0x298252(0x1e7)]),_0x13b0b1=_0x12207b[_0x298252(0x2e3)]+_0x5d2d27*(_0x12207b[_0x298252(0x193)]+_0x12207b[_0x298252(0x2e3)]);_0x2a5f53['x1']=_0x3e0870,_0x2a5f53['x2']=_0x3e0870+_0x12207b['cardWidth'],_0x2a5f53['y1']=_0x13b0b1,_0x2a5f53['y2']=_0x13b0b1+_0x12207b[_0x298252(0x193)];});},_0xc8d1f7[_0x249740(0x217)]=()=>{const _0x2a3565=_0x249740;_0xc8d1f7['clear'](),_0x430c6b[_0x2a3565(0x1d7)][_0x2a3565(0x21b)]((_0x1691fc,_0x38ce9e)=>{const _0x3043ac=_0x2a3565;_0x1691fc[_0x3043ac(0x1b8)]&&_0x10f41f[_0x3043ac(0x290)](_0x1691fc['img'],_0x1691fc['x1'],_0x1691fc['y1'],_0x12207b[_0x3043ac(0x25d)],_0x12207b[_0x3043ac(0x193)]);});},_0xc8d1f7[_0x249740(0x2aa)]=(_0x42f28d=null)=>{const _0x373494=_0x249740;_0x10f41f['fillStyle']=_0x42f28d??_0xc8d1f7[_0x373494(0x283)],_0x10f41f[_0x373494(0x2ce)](0x0,0x0,_0xc8d1f7['width'],_0xc8d1f7[_0x373494(0x17c)]),_0xc8d1f7[_0x373494(0x1fb)]=![];},_0xc8d1f7[_0x249740(0x24e)]=()=>{const _0x3410c2=_0x249740;if(_0xc8d1f7[_0x3410c2(0x1fb)])return;_0xc8d1f7['maskOn']=!![],_0x10f41f['save'](),_0x10f41f[_0x3410c2(0x208)]=_0xc8d1f7[_0x3410c2(0x22b)][_0x3410c2(0x175)],_0x10f41f['fillStyle']=_0xc8d1f7['notation']['maskAreaColor'],_0x10f41f[_0x3410c2(0x2ce)](_0xc8d1f7[_0x3410c2(0x182)],_0xc8d1f7[_0x3410c2(0x182)],_0xc8d1f7[_0x3410c2(0x2be)],_0xc8d1f7['maskHeight']),_0x10f41f['restore']();},_0xc8d1f7[_0x249740(0x204)]=_0x7cb898=>{const _0x574f18=_0x249740;_0x10f41f[_0x574f18(0x17f)](),_0x10f41f[_0x574f18(0x2cb)]=_0x574f18(0x256),_0x10f41f[_0x574f18(0x2d3)]=_0x574f18(0x215);const _0x1a91a1={};{const _0x3b2701=0x30,_0x2f64e3=_0x3b2701*0x4,_0x3f04c4=_0xc8d1f7[_0x574f18(0x2be)]*0.67;_0x10f41f[_0x574f18(0x255)]=_0x3b2701+_0x574f18(0x246)+_0x2ad0d1;const _0x13bf8f=Math['max'](_0x2f64e3,_0x10f41f[_0x574f18(0x1a8)](_0x7cb898)['width']);_0x1a91a1['fontSize']=_0x3b2701*Math[_0x574f18(0x273)](0x1,_0x3f04c4/_0x13bf8f),_0x1a91a1[_0x574f18(0x17b)]=_0x1a91a1[_0x574f18(0x224)]*1.8,_0x1a91a1[_0x574f18(0x1d2)]=_0x1a91a1[_0x574f18(0x224)];const _0x58f165=_0x1a91a1[_0x574f18(0x224)];_0x1a91a1[_0x574f18(0x22d)]=Math[_0x574f18(0x268)](Math[_0x574f18(0x273)](_0x3f04c4,_0x13bf8f))+0x2*_0x58f165,_0x1a91a1[_0x574f18(0x17c)]=_0x1a91a1[_0x574f18(0x17b)]+0x2*_0x58f165,_0x1a91a1[_0x574f18(0x211)]=(_0xc8d1f7['maskHeight']-_0x1a91a1[_0x574f18(0x17b)])/0x2,_0x1a91a1[_0x574f18(0x1e3)]=_0xc8d1f7['width']-_0xc8d1f7['maskMargin']-0x2,_0x1a91a1['x']=_0x1a91a1['endX']-_0x1a91a1[_0x574f18(0x22d)]-_0x1a91a1[_0x574f18(0x1d2)],_0x1a91a1['y']=_0x1a91a1[_0x574f18(0x211)]-_0x1a91a1['height']/0x2,_0x1a91a1[_0x574f18(0x1a9)]=_0x1a91a1['x']+_0x1a91a1[_0x574f18(0x22d)]/0x2,_0x1a91a1[_0x574f18(0x212)]=_0x1a91a1[_0x574f18(0x211)];}_0xc8d1f7[_0x574f18(0x24e)](),_0x10f41f[_0x574f18(0x208)]=0x1,roundedRect(_0x10f41f,_0x1a91a1['x'],_0x1a91a1['y'],_0x1a91a1['width'],_0x1a91a1[_0x574f18(0x17c)],_0xc8d1f7[_0x574f18(0x182)],_0xc8d1f7[_0x574f18(0x22b)]['messageBackgroundColor']),_0x10f41f[_0x574f18(0x1e1)]=_0xc8d1f7[_0x574f18(0x22b)]['messageBackgroundColor'],_0x10f41f[_0x574f18(0x1ea)](),_0x10f41f[_0x574f18(0x299)](_0x1a91a1['endX'],_0x1a91a1['centerY']),_0x10f41f[_0x574f18(0x23e)](_0x1a91a1[_0x574f18(0x1e3)]-_0x1a91a1[_0x574f18(0x1d2)],_0x1a91a1[_0x574f18(0x211)]-_0x1a91a1['fukidashiTailSize']/0x2),_0x10f41f['lineTo'](_0x1a91a1[_0x574f18(0x1e3)]-_0x1a91a1[_0x574f18(0x1d2)],_0x1a91a1[_0x574f18(0x211)]+_0x1a91a1[_0x574f18(0x1d2)]/0x2),_0x10f41f[_0x574f18(0x1e8)](),_0x10f41f['fillStyle']=_0xc8d1f7[_0x574f18(0x22b)][_0x574f18(0x18f)],_0x10f41f[_0x574f18(0x255)]=_0x1a91a1['fontSize']+'px\x20'+_0x2ad0d1,_0x10f41f[_0x574f18(0x1c4)](_0x7cb898,_0x1a91a1[_0x574f18(0x1a9)],_0x1a91a1['textStartY']),_0x10f41f['restore']();},_0xc8d1f7[_0x249740(0x1ae)]=()=>{const _0x20a9ca=_0x249740,_0x181fd1=_0xc8d1f7[_0x20a9ca(0x1f0)]*0.35;_0x10f41f[_0x20a9ca(0x17f)](),_0xc8d1f7[_0x20a9ca(0x24e)](),_0x10f41f[_0x20a9ca(0x208)]=_0xc8d1f7[_0x20a9ca(0x22b)][_0x20a9ca(0x2c1)],_0x10f41f['fillStyle']=_0xc8d1f7[_0x20a9ca(0x22b)][_0x20a9ca(0x2ef)],drawDonutsCircle(_0x10f41f,_0xc8d1f7[_0x20a9ca(0x22d)]/0x2,_0xc8d1f7[_0x20a9ca(0x17c)]/0x2,_0x181fd1,_0xc8d1f7[_0x20a9ca(0x182)]),_0x10f41f['restore']();},_0xc8d1f7[_0x249740(0x1db)]=()=>{const _0x13eec5=_0x249740,_0x57a7e6=_0xc8d1f7['maskShortSize']*0.35;_0x10f41f['save'](),_0xc8d1f7[_0x13eec5(0x24e)](),_0x10f41f[_0x13eec5(0x208)]=_0xc8d1f7[_0x13eec5(0x22b)][_0x13eec5(0x2c1)],_0x10f41f[_0x13eec5(0x1e1)]=_0xc8d1f7[_0x13eec5(0x22b)][_0x13eec5(0x29a)],drawRoundedXMark(_0x10f41f,_0xc8d1f7[_0x13eec5(0x22d)]/0x2,_0xc8d1f7[_0x13eec5(0x17c)]/0x2,_0x57a7e6,_0xc8d1f7[_0x13eec5(0x182)]),_0x10f41f[_0x13eec5(0x27b)]();};}const _0x46f79f=(_0x30bc26,_0x1f0f07,_0x3f37b8=0x10)=>{const _0x67bf5e=_0x249740,_0x5f0d7c=_0x1f0f07['x']+_0x1f0f07[_0x67bf5e(0x22d)]/0x2,_0x5a5b30=_0x1f0f07['y']+_0x1f0f07[_0x67bf5e(0x17c)]/0x2-_0x3f37b8/0x2;_0x10f41f[_0x67bf5e(0x17f)](),_0x10f41f[_0x67bf5e(0x255)]=_0x3f37b8+'px\x20'+_0x2ad0d1,_0x10f41f[_0x67bf5e(0x2cb)]='center',_0x10f41f[_0x67bf5e(0x2d3)]=_0x67bf5e(0x1e4),_0x10f41f['fillStyle']=_0x67bf5e(0x240),_0x10f41f[_0x67bf5e(0x1c4)](_0x30bc26,_0x5f0d7c,_0x5a5b30,_0x1f0f07[_0x67bf5e(0x22d)]),_0x10f41f['restore']();},_0x109ebd={};_0x109ebd['onStartPlay']=async _0x278207=>{const _0x55106a=_0x249740;{_0x430c6b['restDisplayCards']=newRandomArray(_0x430c6b[_0x55106a(0x2d4)])[_0x55106a(0x235)](0x0,_0x278207[_0x55106a(0x270)])[_0x55106a(0x21c)](_0x2ee54c=>{const _0xf6fb11=_0x55106a;return Object[_0xf6fb11(0x22f)]({'put':!![]},_0x38d372[_0xf6fb11(0x23f)][_0xf6fb11(0x17d)](_0x2ee54c['id']),_0x2ee54c);}),_0x430c6b['totalCardCount']=_0x430c6b['restDisplayCards'][_0x55106a(0x2a8)],_0x430c6b[_0x55106a(0x2f6)]={'wrong':0x0,'totalTakenTimeMS':0x0,'totalTakenTimeSec':_0x55106a(0x26b)},_0x430c6b['cardPhaseAct']=null,_0x430c6b['actHistory']=[];}{_0x3c3374(),_0x12207b[_0x55106a(0x1fe)](_0x430c6b[_0x55106a(0x1d7)]);}_0x212b21[_0x55106a(0x2bd)](),_0xb193cc(),window[_0x55106a(0x201)](window[_0x55106a(0x2b5)],_0x2ea584['getBoundingClientRect']()[_0x55106a(0x1e4)]);const _0x261824=0xf0;let _0x4ca8f0=_0xc8d1f7['playCountdownLength'];const _0x1a6254=!_0xc8d1f7[_0x55106a(0x1c6)]?null:generateBlinkingText(_0x10f41f,{'x':0x0,'y':0x0,'width':_0x2ea584[_0x55106a(0x22d)],'height':_0x2ea584[_0x55106a(0x17c)],'fontSize':0x40,'backgroundColor':_0xc8d1f7[_0x55106a(0x283)],'fontColor':_0x55106a(0x240),'halfPeriodMS':0x3e8});while(_0x4ca8f0>0x0){_0xc8d1f7['clear'](),_0xc8d1f7['playCountdownBlinking']?(_0x38d372[_0x55106a(0x2f0)](_0x38d372[_0x55106a(0x1da)]),_0x1a6254['start'](_0x4ca8f0[_0x55106a(0x21e)](),_0x261824),await sleep(0x3b6),_0x1a6254[_0x55106a(0x1a7)](),await sleep(0x32)):(_0x38d372[_0x55106a(0x2f0)](_0x38d372[_0x55106a(0x1da)]),_0x46f79f(_0x4ca8f0[_0x55106a(0x21e)](),_0x2ea584,_0x261824),await sleep(0x3e8)),_0x4ca8f0--;}_0x38d372['playSound'](_0x38d372['countdown2Sound']),_0x50dfe4[_0x55106a(0x217)](),_0x109ebd['onNextCard']();},_0x109ebd[_0x249740(0x2c0)]=()=>{const _0x594e5d=_0x249740;if(_0x430c6b['restDisplayCards'][_0x594e5d(0x2a8)]<=0x1){_0x109ebd[_0x594e5d(0x1fc)]();return;}_0x430c6b[_0x594e5d(0x29b)]=getRandomRanged(0x0,_0x430c6b[_0x594e5d(0x1d7)]['length']);const _0x35de26=_0x430c6b[_0x594e5d(0x1d7)][_0x430c6b[_0x594e5d(0x29b)]];_0x430c6b[_0x594e5d(0x1ef)]=_0x35de26,_0x430c6b[_0x594e5d(0x1a0)]=Date[_0x594e5d(0x20a)](),_0x430c6b[_0x594e5d(0x21a)]=_0x24ef5f,_0x50dfe4[_0x594e5d(0x217)](),_0xc8d1f7[_0x594e5d(0x217)](),_0x38d372['playSound'](_0x430c6b[_0x594e5d(0x1ef)][_0x594e5d(0x282)]),_0x2f63fc['debug']&&console[_0x594e5d(0x257)]('次',_0x430c6b[_0x594e5d(0x1ef)]['id'],_0x430c6b[_0x594e5d(0x1ef)][_0x594e5d(0x205)],_0x430c6b[_0x594e5d(0x1ef)]),_0x2ea584[_0x594e5d(0x1c9)]('click',_0x430c6b[_0x594e5d(0x2d8)]),_0x2ea584[_0x594e5d(0x1ca)]('click',_0x430c6b['cardClickedCallback']);};const _0x3c5882=_0x249740(0x183),_0x1ae850='done',_0x24ef5f=_0x249740(0x226);_0x430c6b['getClickedCard']=(_0xc671a2,_0x2b148b)=>{return _0x430c6b['restDisplayCards']['find'](_0x21c0c9=>{return _0x21c0c9['x1']<=_0xc671a2&&_0xc671a2<=_0x21c0c9['x2']&&_0x21c0c9['y1']<=_0x2b148b&&_0x2b148b<=_0x21c0c9['y2'];});},_0x430c6b[_0x249740(0x2d8)]=async _0x2931b2=>{const _0x562a7c=_0x249740;if(_0x430c6b['cardPhaseAct']===_0x24ef5f){const _0x4243f7=_0x430c6b['getClickedCard'](_0x2931b2['offsetX'],_0x2931b2[_0x562a7c(0x17e)]);_0x4243f7&&(_0x2ea584[_0x562a7c(0x1c9)](_0x562a7c(0x1d8),_0x430c6b['cardClickedCallback']),await _0x109ebd['onCardClicked'](_0x4243f7));}else{}},_0x109ebd[_0x249740(0x172)]=async _0x4986fb=>{const _0x468191=_0x249740;_0x430c6b[_0x468191(0x21a)]=_0x1ae850;const _0x9a543f=_0x4986fb['id'],_0x363c80=_0x4986fb==_0x430c6b['currentCard'],_0x540244=Date[_0x468191(0x20a)]()-_0x430c6b['startTimestamp'];_0x430c6b[_0x468191(0x1ef)][_0x468191(0x282)][_0x468191(0x262)](),_0x363c80?(_0xc8d1f7[_0x468191(0x24e)](),_0xc8d1f7[_0x468191(0x1ae)](),_0x38d372[_0x468191(0x2f0)](_0x38d372[_0x468191(0x206)])):(_0xc8d1f7['showNG'](),_0x38d372['playSound'](_0x38d372[_0x468191(0x19e)])),_0x430c6b['actHistory'][_0x468191(0x245)]({'correctLabel':_0x430c6b['currentCard'][_0x468191(0x205)],'wrongLable':_0x4986fb['label'],'userName':_0x4170df[_0x468191(0x1b3)],'correct':_0x363c80,'cardId':_0x9a543f,'takenTimeMS':_0x540244,'takenTimeSec':(_0x540244/0x3e8)['toFixed'](0x2)}),_0x430c6b[_0x468191(0x2f6)]['totalTakenTimeMS']+=_0x540244,_0x430c6b['progress'][_0x468191(0x19c)]=(_0x430c6b['progress'][_0x468191(0x275)]/0x3e8)['toFixed'](0x2),_0x363c80?_0x430c6b['restDisplayCards'][_0x468191(0x278)](_0x430c6b[_0x468191(0x29b)],0x1):_0x430c6b[_0x468191(0x2f6)][_0x468191(0x274)]++,_0x50dfe4['showActLog'](_0x430c6b[_0x468191(0x23b)]),await sleep(_0xc8d1f7[_0x468191(0x2c8)]),_0x109ebd[_0x468191(0x2c0)]();};const _0x445e5d=()=>{const _0x3e1a51=_0x249740,_0x45e1e0={'totalCardCount':_0x430c6b[_0x3e1a51(0x237)],'totalTakenTimeMS':_0x430c6b[_0x3e1a51(0x2f6)][_0x3e1a51(0x275)],'wrong':_0x430c6b['progress'][_0x3e1a51(0x274)],'current':!![]};if(window[_0x3e1a51(0x280)]){const _0x4e848f=_0x5d0eb0[_0x3e1a51(0x209)]()[_0x3e1a51(0x284)]?.[_0x430c6b['totalCardCount']]??[],_0x10f5d6=_0x5d0eb0[_0x3e1a51(0x266)](_0x4e848f[_0x3e1a51(0x29f)](_0x45e1e0))[_0x3e1a51(0x235)](0x0,_0x2f63fc[_0x3e1a51(0x261)]??0x8);return _0x5d0eb0[_0x3e1a51(0x1d6)](_0x430c6b[_0x3e1a51(0x237)],_0x10f5d6),!_0x10f5d6[_0x3e1a51(0x1f3)](_0x3f5903=>_0x3f5903['current'])&&(_0x45e1e0[_0x3e1a51(0x1ce)]='--',_0x10f5d6[_0x3e1a51(0x245)](_0x45e1e0)),_0x10f5d6;}else return[fillRankPoint(_0x45e1e0)];};_0x109ebd[_0x249740(0x1fc)]=()=>{const _0xf51365=_0x249740;{_0x430c6b[_0xf51365(0x21a)]=_0x3c5882,_0x430c6b[_0xf51365(0x1ef)]={};}{_0x38d372['playOrNop'](_0x38d372[_0xf51365(0x2ae)]);}{_0x2f63fc[_0xf51365(0x2e4)][_0xf51365(0x283)]&&_0xc8d1f7['clear'](_0x2f63fc[_0xf51365(0x2e4)]['backgroundColor']);const _0x11870f=_0x38d372[_0xf51365(0x1de)];if(_0x11870f){const _0x10b957=Math[_0xf51365(0x273)](_0xc8d1f7[_0xf51365(0x22d)]/_0x11870f[_0xf51365(0x22d)],_0xc8d1f7[_0xf51365(0x17c)]/_0x11870f[_0xf51365(0x17c)]),_0xb4f39a=_0x11870f[_0xf51365(0x22d)]*_0x10b957,_0x4eebed=_0x11870f['height']*_0x10b957;_0x10f41f['save'](),_0x10f41f[_0xf51365(0x208)]=_0x2f63fc[_0xf51365(0x2e4)][_0xf51365(0x2cd)],_0x10f41f[_0xf51365(0x290)](_0x11870f,(_0xc8d1f7[_0xf51365(0x22d)]-_0xb4f39a)/0x2,(_0xc8d1f7[_0xf51365(0x17c)]-_0x4eebed)/0x2,_0xb4f39a,_0x4eebed),_0x10f41f[_0xf51365(0x27b)]();}}_0x50dfe4[_0xf51365(0x217)]();{const _0xf9230c=_0x445e5d(),_0x4b0969=_0x2f63fc[_0xf51365(0x19a)],_0x173d13=[_0x2f63fc[_0xf51365(0x276)]['title']+'\x20\x20('+_0x430c6b[_0xf51365(0x237)]+'枚)',_0x4170df['userName']+_0xf51365(0x28e)],_0x591b6c={};{const _0x20d879=0x3,_0x307af6=0x1,_0x591f0=_0x4b0969[_0xf51365(0x28b)],_0xebecf5=_0x4b0969[_0xf51365(0x2d0)][_0xf51365(0x2b0)],_0x53eb1e=_0x4b0969[_0xf51365(0x2d0)][_0xf51365(0x2c5)],_0x5f5dda=_0x4b0969[_0xf51365(0x2d0)][_0xf51365(0x2c4)],_0x2648e1=_0x4b0969[_0xf51365(0x2d0)][_0xf51365(0x2d6)],_0x48fa95=_0x4b0969[_0xf51365(0x2d0)][_0xf51365(0x25f)];_0x4b0969[_0xf51365(0x221)]=_0x4b0969['headerMarginLineHeightRate']??0.5;const _0x278812=_0xc8d1f7['width']*_0x4b0969[_0xf51365(0x2bf)],[_0x4aa3c4,_0x6f3c31,_0x48fa22]=((()=>{const _0x4eb788=_0xf51365,_0x10796f=_0x439fce=>{const _0x56beb5=_0x49e9,_0x5ed25b=(_0xebecf5+_0x307af6+_0x53eb1e+_0x307af6+_0x53eb1e+_0x307af6+_0xebecf5)*_0x439fce+(_0x5f5dda+_0x2648e1+_0x2648e1+_0x48fa95)*_0x439fce*_0x4b0969[_0x56beb5(0x287)]+(0x1+_0x20d879)*_0x591f0,_0x42cb1a=_0x439fce*_0x4b0969[_0x56beb5(0x1b1)]*(_0xf9230c['length']+_0x173d13[_0x56beb5(0x2a8)]+_0x4b0969[_0x56beb5(0x221)])+(0x1+_0x20d879)*_0x591f0;return{'width':_0x5ed25b,'height':_0x42cb1a};},_0x5ad1a3=_0x4b0969[_0x4eb788(0x285)],_0x36a18f=_0x10796f(_0x5ad1a3),_0x1d473b=Math[_0x4eb788(0x273)](_0x278812/_0x36a18f['width'],_0xc8d1f7[_0x4eb788(0x17c)]/_0x36a18f[_0x4eb788(0x17c)]);if(_0x1d473b>=0x1)return[_0x5ad1a3,_0x36a18f['width'],_0x36a18f[_0x4eb788(0x17c)]];const _0x3bb92a=_0x5ad1a3*_0x1d473b,_0x5009d8=_0x10796f(_0x3bb92a);return[_0x3bb92a,_0x5009d8['width'],_0x5009d8[_0x4eb788(0x17c)]];})());_0x591b6c[_0xf51365(0x224)]=_0x4aa3c4,_0x591b6c[_0xf51365(0x210)]=_0x4aa3c4*_0x4b0969[_0xf51365(0x287)],_0x591b6c[_0xf51365(0x22d)]=_0x6f3c31,_0x591b6c[_0xf51365(0x17c)]=_0x48fa22,_0x591b6c[_0xf51365(0x18b)]=_0xc8d1f7['x']+(_0xc8d1f7[_0xf51365(0x22d)]-_0x6f3c31)/0x2,_0x591b6c[_0xf51365(0x17e)]=_0xc8d1f7['y']+(_0xc8d1f7['height']-_0x48fa22)/0x2,_0x591b6c[_0xf51365(0x1a9)]=_0x591b6c[_0xf51365(0x18b)]+_0x591f0,_0x591b6c[_0xf51365(0x212)]=_0x591b6c[_0xf51365(0x17e)]+_0x591f0*_0x20d879,_0x591b6c['textCenterX']=_0x591b6c[_0xf51365(0x18b)]+_0x6f3c31/0x2,_0x591b6c['availableWidth']=_0x6f3c31-0x2*_0x591f0,_0x591b6c[_0xf51365(0x17b)]=_0x4aa3c4*_0x4b0969[_0xf51365(0x1b1)],_0x591b6c[_0xf51365(0x29c)]=_0xebecf5*_0x4aa3c4,_0x591b6c[_0xf51365(0x2f1)]=_0x53eb1e*_0x4aa3c4,_0x591b6c[_0xf51365(0x1bf)]=_0x5f5dda*_0x591b6c[_0xf51365(0x210)],_0x591b6c[_0xf51365(0x2ab)]=_0x2648e1*_0x591b6c['unitFontSize'],_0x591b6c[_0xf51365(0x2f5)]=_0x48fa95*_0x591b6c[_0xf51365(0x210)];const _0x380feb=_0x4aa3c4*_0x307af6,_0x6969e0=_0x4aa3c4*_0x4b0969[_0xf51365(0x2df)];let _0x3a0c47=0x0;_0x591b6c[_0xf51365(0x234)]=_0x3a0c47+=_0x591b6c['textStartX']+_0x591b6c[_0xf51365(0x29c)],_0x591b6c[_0xf51365(0x26f)]=_0x3a0c47+=_0x6969e0,_0x591b6c['pointTextRightX']=_0x3a0c47+=_0x591b6c['rankUnitTextWidth']+_0x380feb+_0x591b6c['timeTextWidth'],_0x591b6c['pointUnitTextLeftX']=_0x3a0c47+=_0x6969e0,_0x591b6c['takenTimeTextRightX']=_0x3a0c47+=_0x591b6c[_0xf51365(0x2ab)]+_0x380feb+_0x591b6c[_0xf51365(0x2f1)],_0x591b6c[_0xf51365(0x291)]=_0x3a0c47+=_0x6969e0,_0x591b6c[_0xf51365(0x252)]=_0x3a0c47+=_0x591b6c['timeUnitTextWidth']+_0x380feb+_0x591b6c[_0xf51365(0x29c)],_0x591b6c[_0xf51365(0x187)]=_0x3a0c47+=_0x6969e0;const _0x592822=0x2*_0x591f0;_0x591b6c[_0xf51365(0x177)]=_0x591b6c['offsetX']+_0x592822,_0x591b6c[_0xf51365(0x2c2)]=_0x6f3c31-0x2*_0x592822,_0x591b6c[_0xf51365(0x1b5)]=_0x4aa3c4*(0x1+_0x4b0969['splitLinePaddingRate']);}_0x10f41f[_0xf51365(0x17f)](),_0x10f41f[_0xf51365(0x208)]=_0x4b0969['backgroundAlpha'],roundedRect(_0x10f41f,_0x591b6c[_0xf51365(0x18b)],_0x591b6c[_0xf51365(0x17e)],_0x591b6c[_0xf51365(0x22d)],_0x591b6c[_0xf51365(0x17c)],_0x591b6c[_0xf51365(0x224)]*_0x4b0969['radiusFontSizeRate'],_0x4b0969[_0xf51365(0x283)]),_0x10f41f[_0xf51365(0x208)]=0x1,_0x10f41f['strokeStyle']=_0x4b0969[_0xf51365(0x2f8)],_0x10f41f[_0xf51365(0x2d3)]='top';let _0x540511=_0x591b6c[_0xf51365(0x212)];_0x10f41f[_0xf51365(0x1e1)]=_0x4b0969['fontColor'],_0x10f41f[_0xf51365(0x255)]=_0xf51365(0x238)+_0x591b6c['fontSize']+_0xf51365(0x246)+_0x2ad0d1,_0x10f41f['textAlign']=_0xf51365(0x256),_0x173d13['forEach'](_0x59fdec=>{const _0x505cf0=_0xf51365;_0x10f41f[_0x505cf0(0x1c4)](_0x59fdec,_0x591b6c['textCenterX'],_0x540511,_0x591b6c[_0x505cf0(0x20d)]),_0x540511+=_0x591b6c[_0x505cf0(0x17b)];}),_0x540511+=_0x591b6c[_0xf51365(0x17b)]*_0x4b0969['headerMarginLineHeightRate'],_0x10f41f['font']=_0x591b6c[_0xf51365(0x224)]+_0xf51365(0x246)+_0x2ad0d1,_0xf9230c[_0xf51365(0x21b)](_0x1720ce=>{const _0x4ead18=_0xf51365;_0x10f41f[_0x4ead18(0x1e1)]=_0x1720ce[_0x4ead18(0x2ec)]?_0x4b0969['currentFontColor']:_0x4b0969[_0x4ead18(0x1f1)],_0x10f41f[_0x4ead18(0x2cb)]=_0x4ead18(0x251),_0x10f41f[_0x4ead18(0x255)]=_0x591b6c[_0x4ead18(0x210)]+_0x4ead18(0x246)+_0x2ad0d1,_0x10f41f[_0x4ead18(0x1c4)]('位',_0x591b6c[_0x4ead18(0x26f)],_0x540511,_0x591b6c[_0x4ead18(0x1bf)]),_0x10f41f['fillText']('pt',_0x591b6c[_0x4ead18(0x1c0)],_0x540511,_0x591b6c[_0x4ead18(0x2ab)]),_0x10f41f[_0x4ead18(0x1c4)]('秒',_0x591b6c[_0x4ead18(0x291)],_0x540511,_0x591b6c[_0x4ead18(0x2ab)]),_0x10f41f[_0x4ead18(0x1c4)](_0x4ead18(0x24f),_0x591b6c[_0x4ead18(0x187)],_0x540511,_0x591b6c[_0x4ead18(0x2f5)]),_0x10f41f['font']=_0x591b6c[_0x4ead18(0x224)]+'px\x20'+_0x2ad0d1,_0x10f41f['textAlign']=_0x4ead18(0x2e9),_0x10f41f[_0x4ead18(0x1c4)](_0x1720ce[_0x4ead18(0x1ce)],_0x591b6c[_0x4ead18(0x234)],_0x540511,_0x591b6c['numberTextWidth']),_0x10f41f[_0x4ead18(0x1c4)](_0x1720ce[_0x4ead18(0x20f)],_0x591b6c[_0x4ead18(0x2de)],_0x540511,_0x591b6c[_0x4ead18(0x2f1)]),_0x10f41f[_0x4ead18(0x1c4)](_0x1720ce['totalTakenTimeSec'],_0x591b6c[_0x4ead18(0x227)],_0x540511,_0x591b6c[_0x4ead18(0x2f1)]),_0x10f41f[_0x4ead18(0x1c4)](_0x1720ce['wrong'],_0x591b6c[_0x4ead18(0x252)],_0x540511,_0x591b6c[_0x4ead18(0x29c)]),_0x10f41f[_0x4ead18(0x242)](_0x591b6c[_0x4ead18(0x177)],_0x540511+_0x591b6c[_0x4ead18(0x1b5)],_0x591b6c[_0x4ead18(0x2c2)],0x0),_0x540511+=_0x591b6c['lineHeight'];}),_0x10f41f[_0xf51365(0x27b)]();}{_0x430c6b[_0xf51365(0x29d)]=async _0x4c2017=>{const _0x4fdac4=_0xf51365,_0x2902dd=await showConfirmTextDialog(_0x4fdac4(0x2b6));_0x2902dd&&(clearInterval(_0x430c6b[_0x4fdac4(0x214)]),_0x2ea584[_0x4fdac4(0x1c9)](_0x4fdac4(0x1d8),_0x430c6b[_0x4fdac4(0x29d)]),_0x109ebd['onFinish_play']());},_0x2ea584[_0xf51365(0x1ca)]('click',_0x430c6b['returnConfirmCallback']);}},_0x109ebd[_0x249740(0x265)]=_0x420c4b=>{const _0x552900=_0x249740;if(_0x4170df[_0x552900(0x1ec)]===_0x552900(0x219))return;_0x212b21[_0x552900(0x2ca)](),_0x212b21['modeChangeToStart']();},_0x212b21[_0x249740(0x2ca)](),_0x212b21[_0x249740(0x229)]();})(getInitValues());
    
    
    function getInitValues() {
      return {
        defaultValues: {
          userName: '',
        },
        
        userNameMaxLength: 10,
        maxHistorySize: 8,
        
        playmat: {
          marginMax: 40,
          marginTopRate : 0.03,
          marginLeftRate: 0.03,
          fontFamily: `sans-serif`,
        },
        rankingArea: {
          maxWidthRate: 0.8,
          margin: 10,
          radiusFontSizeRate: 0.8,
          defaultFontSize: 24,
          unitFontSizeRate: 1, // 値を変えると textBaseline の調整が必要となる
          unitMarginRate: 0.2,
          lineHeightRate: 1.8,
          letterCount: {
            number     : 2,
            time       : 4.5,
            rankUnit   : 1,
            timeUnit   : 1,
            wrongUnit  : 2.5,
          },
          fontColor: '#111111',
          currentFontColor: '#2222FF',
          backgroundAlpha: 0.925,
          backgroundColor: '#EEEEEE',
          splitLineColor: '#FFFFFF',
          splitLinePaddingRate: 0.3,
        },
        progressArea: {
          // カード枚数が3桁行かないことを前提にしている
          width: 250,
          margin: 8,
          fontSize: 24,
          lineHeightRate: 1.6,
          labelLetterCount: 3,
          actLogFontSizeRate: 0.67,
          actLogMargin: 16,
          fontColor: '#000000',
          backgroundColor: '#cccccc',
          splitLineColor: '#efefef',
        },
        playArea: {
          playCountdownLength: 3,
          playCountdownBlinking: true,
          backgroundColor: '#efefef',
          checkTimeupIntervalMS: 250,
          waitCardResultEffectMS: 1200,
          notation: {
            maskAreaMarginRate: 0.05, // 情報表示のための黒塗りマスクを出す際のマージン。概ね 1 - rate * 2 がマスクの画面に占める割合
            maskAreaAlpha: 0.50,
            maskAreaColor: '#000000',
            messageBackgroundColor: '#FFFFFF',
            messageFontColor: '#000000',
            effectOKColor: '#FF2222',
            effectNGColor: '#CCCC00',
            effectAlpha: 0.80,
          },
        },
        soundSettings: {
          voiceVolume: 1.00,
          effectVolume: 0.50,
          okSoundPath: 'res/ok.mp3',
          ngSoundPath: 'res/ng.mp3',
          countdown1SoundPath: 'res/countdown1.mp3',
          countdown2SoundPath: 'res/countdown2.mp3',
        },
        endCardSettings: {
          backgroundColor: '#000000',
        },
        
        cardSettings: {
          rateForContent: 0.9,
          origWidth :  900, // カルタ画像は全てこの origWidth,origHeight の比率と同じものとする
          origHeight: 1200,
          borderSize: 15,
          borderColor: '#660066',
        },
        ///debug: true,
      };
    }
  </script>
</body>
</html>
