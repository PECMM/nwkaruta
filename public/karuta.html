<!DOCTYPE html>
<html lang='ja'>
<head>
  <meta charset="utf-8">
  <title>かるた</title>
  <style>
    body {
      font-size: 1rem;
      margin: 0;
      padding: 0;
    }
    
    h1 {
      font-size: 2.5rem;
    }
    
    #loadingMessage {
      margin: 8px;
    }
    #loginArea {
      margin: 8px;
      display: none;
    }
    #roomArea {
      margin: 8px;
      display: none;
    }
    #mainArea {
      display: none;
    }
    
    
    #loginInputs, #roomInputs {
      margin-left: 2rem;
      margin-bottom: 5rem;
    }
    
    #loginInputs div {
      display: flex;
      padding: 0.5rem;
    }
    #loginInputs label {
      width: 6rem;
      padding-right: 0.5rem;
    }
    #loginInputs button {
      width: 4rem;
    }
    #loginInputs input {
      width: 21rem;
    }
    #loginInputs * {
      font-size: 1.4rem;
      vertical-align: middle;
    }
    
    #roomInputs * {
      font-size: 1.4rem;
    }
    #memberList th {
      min-width: 6rem;
    }
    #memberList th,
    #memberList td {
      height: 2.8rem;
    }
    #memberList td.my-name {
      color: #0000FF;
    }
    #memberList td:nth-child(2) {
      min-width: 21rem;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    #memberList td:nth-child(1),#memberList td:nth-child(3) {
      text-align: center;
    }
    
    #startPlayButtonArea {
      margin-top: 1.4rem;
    }
    
    
    .help-list {
      font-size: 1rem;
    }
    
    #loginButtonMessage {
      color: #FF0000;
      margin-left: 1rem;
    }
    
    input[type='number'] {
      text-align: right;
      width: 3em;
    }
    
    footer {
      margin-top: 3rem;
      margin-left: 8px;
      padding-top: 0.5rem;
      border-top: solid 2px #cccccc;
    }
  </style>
</head>

<body>
  <div id='loadingMessage'>
    <p>ファイル読み込み中...</p>
    <p>どれだけ待っても読み込みが終了しない場合は、エラーや通信失敗が発生している可能性があります。<br />画面をリロードしたり、時間を置いてやり直すなど試してください</p>
  </div>
  <div id='loginArea'>
    <h1>かるた</h1>
    
    <div id='loginInputs'>
      <div>
        <label for='userName'>ユーザ名</label>
        <input id='userName' type='text' placeholder='' />
      </div>
      <div>
        <label for='roomName'>部屋名</label>
        <input id='roomName' type='text' placeholder='' />
      </div>
      <div>
        <button id='loginButton'>入室</button>
        <span id='loginButtonMessage'></span>
      </div>
    </div>
    
    <ul class='help-list'>
      <li><div>ver: <span id="version"></span></div></li>
      <li>このかるたは対戦ゲーム専用です</li>
      <li>完全に同一の部屋名を指定して入室した、他のユーザと対戦できます</li>
      <li>同じ部屋に同じ名前のユーザは複数入室できません</li>
      <li>ゲームプレイ中の部屋には入室できません</li>
    </ul>
    
    <footer></footer>
  </div>
  <div id='roomArea'>
    <h2>待機部屋</h2>
    
    <div id='roomInputs'>
      <table id='memberList' border='1' cellpadding='4 cellspacing='0'>
        <caption>参加者</caption>
        <thead> <tr> <th>ホスト</th> <th>ユーザ名</th> <th>操作</th> </tr> </thead>
        <tbody></tbody>
      </table>
      <button id='logoutButton'>退室</button>
      <div id='startPlayButtonArea'>
        <label> 使用するカード枚数：<input type='number' id='useCardCount' step='1' /></label>
        <br />
        <button id='startPlayButton'>開始</button>
      </div>
    </div>
    
    <ul class='help-list'>
      <li>この画面のヘルプ<ul>
        <li>ホストユーザのみが開始できます</li>
        <li>ホストユーザは同室ユーザ内で一番早くログインしているユーザに自動で切り替わります</li>
        <li>ユーザが２人以上入室していないと開始できません</li>
        <li>ホストユーザのみがゲームで使用するカード枚数を選択できます（2 ～ 存在するカード枚数まで）</li>
      </ul></li>
      <li>ゲーム画面のヘルプ<ul>
        <li>ゲーム開始後は、画面サイズ変更により配置・札の表示サイズの調整などはできません</li>
        <li>ブラウザの表示サイズや参加ユーザ数によっては、表示の乱れやはみ出しが起こる場合があります</li>
        <li>ゲームのプレイにはブラウザからの音声出力が必須です</li>
        <li>ゲーム終了後に画面をクリックで待機部屋に戻れます（ホストユーザの操作では、全ユーザが強制的に戻ります）</li>
        <li>ゲーム中にネットワーク切断などでユーザが退出した場合、強制的にゲーム全体が終了となります</li>
      </ul></li>
      <li>ゲームのルール<ul>
        <li>ネットワーク遅延を考慮し、『各環境で読み上げ開始から最も早く正答したユーザ』が札を取れるものとします</li>
        <li>お手付きした札はそのまま場に置かれたままとなります（お手付きの回数のみ、最終順位に影響します）</li>
        <li>お手付きした際は、次の札に進むまで操作できません</li>
        <li>全員がお手付きした際は、次の札に進みゲームを続けます。誰かが札を取るまで何度も同じ札が読み上げられる場合があります</li>
        <li>最後の 1 枚は連打勝負になってしまうため、残り 1 枚になった時点で終了とします</li>
        <li>最終順位は『手札が多かった順 → 同数ならばお手付きが少なかった順』で決定します</li>
      </ul></li>
      <li>ゲーム観戦機能はサポートしていません。<br />普通に観戦してクリック操作しない、とういやり方で観戦はできますが、自分以外全員お手付きの場合には、操作しないとゲームが進まなくなります。<br />（2 人以上が観戦しているとややこしいことになります）</li>
    </ul>
  </div>
  <div id='mainArea'>
    <canvas id='mainCanvas'></canvas>
  </div>
  <textarea style='display:none;' id='messageLog' cols='80' rows='12'></textarea>
  
  <script type='text/javascript' src='js/socket.io.min.js'></script>
  <script type='text/javascript'>
    const AppVersion = "0.3.1";
    
    // ここから
const _0x532b7b=_0x58d7;(function(_0x515e0c,_0x52b02e){const _0x4b3133=_0x58d7,_0x31f727=_0x515e0c();while(!![]){try{const _0x17a7db=parseInt(_0x4b3133(0x251))/0x1*(-parseInt(_0x4b3133(0x22e))/0x2)+-parseInt(_0x4b3133(0x2e2))/0x3+parseInt(_0x4b3133(0x24a))/0x4+parseInt(_0x4b3133(0x18b))/0x5+parseInt(_0x4b3133(0x1c1))/0x6+-parseInt(_0x4b3133(0x1ca))/0x7*(parseInt(_0x4b3133(0x244))/0x8)+-parseInt(_0x4b3133(0x266))/0x9;if(_0x17a7db===_0x52b02e)break;else _0x31f727['push'](_0x31f727['shift']());}catch(_0x47bd64){_0x31f727['push'](_0x31f727['shift']());}}}(_0x1b0f,0xce6d0),(document['querySelector'](_0x532b7b(0x294))??{})[_0x532b7b(0x1fb)]=AppVersion);function loadSyncImage(_0x8a60a6){return new Promise((_0x38b624,_0x3c1631)=>{const _0x18927f=_0x58d7;let _0x57cd8b=new Image();_0x57cd8b['onload']=()=>_0x38b624(_0x57cd8b),_0x57cd8b[_0x18927f(0x29b)]=_0x417a11=>_0x3c1631(_0x417a11),_0x57cd8b['src']=_0x8a60a6;});}function loadSyncAudio(_0x165e3b){return new Promise((_0x128463,_0x37f36f)=>{const _0x96921b=_0x58d7,_0x6a63aa=new Audio();_0x6a63aa[_0x96921b(0x281)]=()=>_0x128463(_0x6a63aa),_0x6a63aa['onerror']=_0x31e3e8=>_0x37f36f(_0x31e3e8),_0x6a63aa[_0x96921b(0x15c)]=_0x165e3b;});}function newElem(_0x8d9396,_0x4ccf0e=[],_0x1cbff2=[],_0x14f1bc={}){const _0x19bf77=_0x532b7b,_0x3dd12d=document['createElement'](_0x8d9396);return _0x1cbff2['length']>0x0&&_0x3dd12d['classList'][_0x19bf77(0x1e1)](..._0x1cbff2),Object[_0x19bf77(0x1b3)](_0x14f1bc)[_0x19bf77(0x2ae)](_0x51dfba=>{_0x3dd12d['setAttribute'](_0x51dfba,_0x14f1bc[_0x51dfba]);}),_0x4ccf0e[_0x19bf77(0x2ae)](_0x41259a=>{const _0x39a934=_0x19bf77;typeof _0x41259a===_0x39a934(0x218)?_0x3dd12d[_0x39a934(0x258)](document['createTextNode'](_0x41259a)):_0x3dd12d[_0x39a934(0x258)](_0x41259a);}),_0x3dd12d;}function _0x1b0f(){const _0x4131d9=['checkTimeupIntervalID','forEach','notation','permitted','maxWidthRate','get','finish\x20loadResources','endY','cardId','総数：','memberList','querySelector','rest','div','displayCards','myUserFontColor','findIndex','space-around','#userName','#loginButtonMessage','style','trim','20px','displaySeq','不正な入力値...','onNumberValue','100%','loginArea','afterbegin','createElement','floor','backgroundColor','\x20が札を取得','textStartY','rateForContent','userNameRx','defaultIsYes','imgAlpha','showMessage','onValue','maskWidth','origHeight','countdown2Sound','userResults','offsetY','fontColor','total','rankUnit','innerWidth','right','startTimestamp','#useCardCount','show','768168nfbsGa','filter','backgroundAlpha','disabled','splitLineColor','otherUserFontColor','volume','beforeArrayItem','currentY','unitFontSize','allngSoundPath','borderRadius','fixed','appId','stopPropagation','\x27,\x20部屋名：\x27','baseElement','border','canvas','concat','effectVolume','toString','fill','ownerUserName','blur','wrongUnit','src','お手付き','5px\x2030px\x2010px','endCardSettings','wrongUnitTextLeftX','okSoundPath','noLabel','0px','loop','whiteSpace','correctCountRx','tag','cards','currentCard','zIndex','Escape','px\x20\x22\x22','altKey','splitLineOffsetY','join_room','borderColor','240px','getItem','flat','playmat','ctrlKey','localStorage','actLineHeight','parentElement','cardClickedCallback','has','margin','leave_room_ok','paramScript','centerY','title','marginBottom','maskAreaColor','endX','radiusFontSizeRate','top','key','afterArrayItem','wrongCountLx','correctTextRightX','splitLineWidth','flex','8099860PqKGbS','currentTag','onSymbolValue','mode','showLoginErrorMessage','userName','maskAreaMarginRate','marginTop','useCardCount','length','font','default','object','height','タグ不整合...tag:','Enter','px\x20\x27\x27','isComposing','all_ready_play','shiftKey','reduce','getBoundingClientRect','correct','start','footer','origWidth','innerHeight','all','minTakenTimeMS','#loadingMessage','reason','userNameWidth','fillRect','okSound','padding','marginLeft','rankedUserResults','borderSize','progressArea','onBooleanValue','getOwnPropertyNames','marginTopRate','#startPlayButton','fukidashiTailSize','initialized','globalAlpha','mainArea','initialize','rankingArea','measureText','roomName','fontSize','location','done','9813480soKqrO','keydown','-lastInputValues','correctUnitTextLeftX','now','correctUnit','indexOf','beforeObject','initializeWaitingRoom','77bNwKkk','#memberList\x20>\x20tbody','searchParams','lineHeight','all_ready_next_card','boolean','removeEventListener','rowCount','returnConfirmCallback','fillStyle','drawImage','map','maskShortSize','button','loaded','messageBackgroundColor','lineHeightRate','contextmenu','actionResults','playCountdownLength','wrongCountRx','yesLabel','#roomName','add','isNaN','removeChild','isOwner','middle','log','onNullOrUndefined','voiceVolume','boxSizing','focus','addEventListener','test','rankUnitTextLeftX','textBaseline','wrongUnitTextWidth','result','cardHeight','correctCountLx','find','set','put','rankTextRightX','splitLinePaddingRate','winnerUserName','rank','cardPhaseAct','textContent','start\x20loadResources','initSize','positionElement','timeup','fillText','ready_next_card','countdown1Sound','maskOn','modeChangeToRoom','maxlength','minWidth','createDocumentFragment','actLogTextWidth','halfPeriodMS','assign','stringify','play','actLogTextLx','nextSound','moveTo','shift','card_phase_update_actinfo','#mainCanvas','cardSettings','correctUnitTextWidth','\x20が部屋を抜けました。ゲームを終了します','preventDefault','width','string','undefined','onInitialize','arc','debug','beginPath','roomArea','marginMax','sound','min','emit','isInteger','block','#loginButton','sqrt','effectOKColor','value','actLogFontText','decideCardsSize','error','splitLineStartX','部屋が満員です...\x27','2648KIakLZ','save','joinroom_playing_now','label','joinroom_duplicated_usename','modeChangeToPlay','pageOptions','beforeObjectItem','#000000','none','lastShowData','number','random','同室内でのユーザ名重複...(ユーザ：\x27','finish_play','ngSound','position','#mainArea','currentTime','unitFontSizeRate','Cancel','任意のテキスト','589352IXxXdy','actLogMargin','pre-line','target','endCardImg','colCount','1945120CYeHCU','unitMarginRate','isArray','maskHeight','ceil','endCardSound','game_end','581KBUhrN','messageFontColor','初期パラメータ','soundSettings','clear','fontText','tagSeq','appendChild','userNameMaxLength','strokeStyle','lineTo','placeholder','card_phase_acted','splice','leave_room','textStartX','offsetX','karuta','originalCards','ready_play','opacity','9545877SwBmTJ','cardColMargin','textAlign','to_waiting_room','display','focusable','playOrNop','全員お手付き','showActLog','pause','modeChangeToLogin','12px\x200','firstChild','arcTo','numberTextWidth','card_phase_card_result','cardRowMargin','userNumber','[sec]','playSound','takenSound','getComputedStyle','afterObject','paramscript','count','文字以内の任意のテキスト','restore','onloadeddata','removeAttribute','SQRT2','playArea','showMask','showOK','function','max','room_member_list','#FFFFFF','onBigIntValue','defaultFontSize','wrong','getContext','afterObjectItem','cardWidth','maskMargin','strokeRect','【最新の操作結果】','#version','isFinite','imgPath','残り：','waitCardResultEffectMS','metaKey','#startPlayButtonArea','eonerror','action','【枚数】','referenceHTML','onFunction','actLogFontSizeRate','Tab','card','countdown2SoundPath','soundPath','click','setAttribute','letterCount','size','left','afterArray','rankUnitTextWidth','origFontSize'];_0x1b0f=function(){return _0x4131d9;};return _0x1b0f();}const newRandomArray=_0x28a86e=>{const _0x540ba7=_0x532b7b,_0x5453b6=Array['from'](_0x28a86e);for(let _0x5209ce=_0x5453b6['length']-0x1;_0x5209ce>=0x0;_0x5209ce--){const _0x54a357=Math[_0x540ba7(0x2cb)](Math[_0x540ba7(0x23a)]()*(_0x5209ce+0x1));[_0x5453b6[_0x5209ce],_0x5453b6[_0x54a357]]=[_0x5453b6[_0x54a357],_0x5453b6[_0x5209ce]];}return _0x5453b6;},parseFloatOr=(_0x20bf80,_0x3564a8)=>{const _0x1c34fd=_0x532b7b,_0x345f26=parseFloat(_0x20bf80);return Number[_0x1c34fd(0x1e2)](_0x345f26)?_0x3564a8:_0x345f26;},sleep=_0x1085ab=>{return new Promise(_0x2f8c6d=>setTimeout(_0x2f8c6d,_0x1085ab));},generateBlinkingText=(_0x4c071b,_0x2442b4)=>{let _0xbb8ae3=![];const _0x12eaa1=(_0x4c674f,_0x3e5fcd,_0xcddcd2)=>{const _0x1bf33e=_0x58d7,_0x2ba16f=Number[_0x1bf33e(0x295)](_0xcddcd2)&&_0xcddcd2>0x0?_0xcddcd2:_0x2442b4[_0x1bf33e(0x1be)];let _0x4f3eec=_0x2ba16f+_0x1bf33e(0x16c);const _0x4bec47=Math[_0x1bf33e(0x2cb)](_0x2442b4['x']+_0x2442b4[_0x1bf33e(0x217)]/0x2),_0x3a75a9=Math[_0x1bf33e(0x2cb)](_0x2442b4['y']+_0x2442b4[_0x1bf33e(0x198)]/0x2),_0x26cc4c=_0x2c1763=>{const _0x20440b=_0x1bf33e,_0x481da2=Math[_0x20440b(0x2cb)](_0x2c1763/_0x2442b4[_0x20440b(0x209)]),_0x36df5f=(_0x2c1763-_0x481da2*_0x2442b4['halfPeriodMS'])/_0x2442b4[_0x20440b(0x209)],_0x12c327=_0x481da2%0x2===0x0;_0x4c674f[_0x20440b(0x22f)](),_0x4c674f[_0x20440b(0x1b8)]=0x1,_0x4c674f[_0x20440b(0x1d3)]=_0x2442b4[_0x20440b(0x2cc)],_0x4c674f[_0x20440b(0x1ab)](_0x2442b4['x'],_0x2442b4['y'],_0x2442b4[_0x20440b(0x217)],_0x2442b4['height']),_0x4c674f[_0x20440b(0x195)]=_0x4f3eec,_0x4c674f[_0x20440b(0x268)]='center',_0x4c674f[_0x20440b(0x1ee)]=_0x20440b(0x1e5),_0x4c674f[_0x20440b(0x1d3)]=_0x2442b4[_0x20440b(0x2da)],_0x4c674f[_0x20440b(0x1b8)]=_0x12c327?_0x36df5f:0x1-_0x36df5f,_0x4c674f['fillText'](_0x3e5fcd,_0x4bec47,_0x3a75a9),_0x4c674f[_0x20440b(0x280)](),_0xbb8ae3&&requestAnimationFrame(_0x26cc4c);};return _0x26cc4c;};return{'start':(_0xadccd8,_0x2779dd)=>{_0xbb8ae3=!![],requestAnimationFrame(_0x12eaa1(_0x4c071b,_0xadccd8,_0x2779dd));},'stop':()=>{_0xbb8ae3=![];}};};function showConfirmTextDialog(_0x52b493,_0xc0dac1){const _0xf6b84b=_0x532b7b,_0x451311=newElem('p',[_0x52b493]);return _0x451311[_0xf6b84b(0x2c1)][_0xf6b84b(0x165)]=_0xf6b84b(0x246),showConfirmDialog(_0x451311,_0xc0dac1);}function showConfirmDialog(_0x968347,_0x269a4c){const _0x113c35=_0x532b7b;_0x269a4c=Object[_0x113c35(0x20a)]({'baseElement':document['body'],'focusable':![],'yesLabel':'OK','noLabel':_0x113c35(0x242),'defaultIsYes':!![],'positionElement':window},_0x269a4c);const _0x47536e=_0x269a4c[_0x113c35(0x2f2)],_0x2ff5c8=_0x269a4c[_0x113c35(0x26b)],_0x2f9773=_0x269a4c[_0x113c35(0x1df)],_0x3cbf4e=_0x269a4c[_0x113c35(0x162)],_0x4144f6=_0x269a4c[_0x113c35(0x2d1)],_0x428ba7=_0x269a4c[_0x113c35(0x1fe)],_0x3e1c50=_0x3cbf4e==='',_0x25c25b=newElem(_0x113c35(0x1d7),[_0x2f9773]),_0x477de3=newElem('button',[_0x3cbf4e]);_0x3e1c50&&(_0x477de3[_0x113c35(0x2c1)][_0x113c35(0x26a)]=_0x113c35(0x237));const _0x42e7ce=_0x3e1c50?[_0x25c25b]:[_0x25c25b,_0x477de3],_0xb31579=newElem(_0x113c35(0x2ba),_0x42e7ce),_0x19d83f=newElem('div',[_0x968347,newElem('hr'),_0xb31579],['confirmDialog']),_0x27a952=newElem('div'),_0x54a44d=0xf423f;_0x19d83f[_0x113c35(0x2c1)][_0x113c35(0x23e)]=_0x113c35(0x2ee),_0x19d83f[_0x113c35(0x2c1)][_0x113c35(0x16a)]=_0x54a44d,_0x19d83f[_0x113c35(0x2c1)][_0x113c35(0x206)]=_0x113c35(0x171),_0x19d83f[_0x113c35(0x2c1)][_0x113c35(0x1e9)]='border-box',_0x19d83f[_0x113c35(0x2c1)][_0x113c35(0x2f3)]='solid\x20#DDDDDD\x203px',_0x19d83f[_0x113c35(0x2c1)][_0x113c35(0x2ed)]=_0x113c35(0x2c3),_0x19d83f['style']['margin']=0x0,_0x19d83f[_0x113c35(0x2c1)][_0x113c35(0x1ad)]=_0x113c35(0x15e),_0x19d83f[_0x113c35(0x2c1)]['backgroundColor']=_0x113c35(0x28a),_0xb31579[_0x113c35(0x2c1)]['display']=_0x113c35(0x18a),_0xb31579[_0x113c35(0x2c1)]['justifyContent']=_0x113c35(0x2be),_0x27a952[_0x113c35(0x2c1)]['position']=_0x113c35(0x2ee),_0x27a952[_0x113c35(0x2c1)][_0x113c35(0x16a)]=_0x54a44d-0x1,_0x27a952[_0x113c35(0x2c1)][_0x113c35(0x184)]=0x0,_0x27a952[_0x113c35(0x2c1)][_0x113c35(0x2a9)]=0x0,_0x27a952[_0x113c35(0x2c1)]['width']=_0x113c35(0x2c7),_0x27a952[_0x113c35(0x2c1)][_0x113c35(0x198)]=_0x113c35(0x2c7),_0x27a952[_0x113c35(0x2c1)][_0x113c35(0x2f3)]=_0x113c35(0x163),_0x27a952[_0x113c35(0x2c1)]['padding']=_0x113c35(0x163),_0x27a952[_0x113c35(0x2c1)][_0x113c35(0x17b)]=_0x113c35(0x163),_0x27a952[_0x113c35(0x2c1)]['backgroundColor']='#000000',_0x27a952[_0x113c35(0x2c1)][_0x113c35(0x265)]=0.3;!_0x968347[_0x113c35(0x2c1)][_0x113c35(0x17b)]&&!_0x968347['style'][_0x113c35(0x192)]&&!_0x968347['style'][_0x113c35(0x180)]&&(_0x968347[_0x113c35(0x2c1)]['margin']=_0x113c35(0x271));const _0x4c2d8d=function(_0x18349f){const _0xd62a4a=_0x113c35,_0x44dc1e=_0x18349f[0x0],_0x266baa=_0x18349f[_0x18349f[_0xd62a4a(0x194)]-0x1],_0xd6b87d=[_0x266baa,_0x18349f,_0x44dc1e][_0xd62a4a(0x173)]();return _0x1fd0c5=>{const _0x22d2a4=_0xd62a4a;if(_0x1fd0c5[_0x22d2a4(0x185)]===_0x22d2a4(0x2a1)&&!_0x1fd0c5[_0x22d2a4(0x16d)]&&!_0x1fd0c5[_0x22d2a4(0x175)]&&!_0x1fd0c5[_0x22d2a4(0x299)]){_0x1fd0c5['stopPropagation'](),_0x1fd0c5[_0x22d2a4(0x216)]();const _0x423242=_0xd6b87d[_0x22d2a4(0x1c7)](_0x1fd0c5[_0x22d2a4(0x247)],0x1);_0x423242===-0x1?(_0x1fd0c5[_0x22d2a4(0x19e)]?_0x266baa:_0x44dc1e)['focus']():_0xd6b87d[_0x423242+(_0x1fd0c5[_0x22d2a4(0x19e)]?-0x1:0x1)]['focus']();}else _0x1fd0c5[_0x22d2a4(0x185)]===_0x22d2a4(0x16b)&&!_0x1fd0c5[_0x22d2a4(0x16d)]&&!_0x1fd0c5[_0x22d2a4(0x175)]&&!_0x1fd0c5[_0x22d2a4(0x19e)]&&!_0x1fd0c5['metaKey']&&(_0x1fd0c5[_0x22d2a4(0x2f0)](),_0x1fd0c5[_0x22d2a4(0x216)](),_0x477de3[_0x22d2a4(0x2a5)]());};},_0x1725c3=Array[_0x113c35(0x24c)](_0x2ff5c8)?_0x2ff5c8[_0x113c35(0x2f5)](_0x42e7ce):_0x42e7ce,_0x590daf=_0x4c2d8d(_0x1725c3);_0x1725c3[_0x113c35(0x2f5)](_0x19d83f,_0x27a952)['forEach'](_0x3e3469=>{const _0x1fcc13=_0x113c35;_0x3e3469[_0x1fcc13(0x1eb)](_0x1fcc13(0x1c2),_0x590daf),_0x3e3469[_0x1fcc13(0x1eb)]('keypress',_0x590daf);}),_0x47536e[_0x113c35(0x258)](_0x27a952),_0x47536e[_0x113c35(0x258)](_0x19d83f);const _0x51059a=window[_0x113c35(0x27b)](_0x19d83f),_0x48bdfa=_0x428ba7===window?{'width':window[_0x113c35(0x2dd)],'height':window[_0x113c35(0x1a5)]}:_0x428ba7[_0x113c35(0x1a0)]();return _0x19d83f[_0x113c35(0x2c1)]['top']=(_0x48bdfa['height']-parseInt(_0x51059a[_0x113c35(0x198)],0xa))/0x2+'px',_0x19d83f['style']['left']=(_0x48bdfa['width']-parseInt(_0x51059a[_0x113c35(0x217)],0xa))/0x2+'px',_0x3e1c50||_0x4144f6?_0x25c25b[_0x113c35(0x1ea)]():_0x477de3[_0x113c35(0x1ea)](),new Promise((_0x762439,_0x234fae)=>{const _0x48aacc=_0x113c35;_0x25c25b[_0x48aacc(0x1eb)](_0x48aacc(0x2a5),()=>{const _0x25371d=_0x48aacc;_0x42e7ce[_0x25371d(0x2ae)](_0x1a8966=>_0x1a8966[_0x25371d(0x2a6)](_0x25371d(0x2e5),'disabled')),_0x47536e[_0x25371d(0x1e3)](_0x27a952),_0x47536e[_0x25371d(0x1e3)](_0x19d83f),_0x762439(!![]);}),_0x477de3['addEventListener'](_0x48aacc(0x2a5),()=>{const _0x1face0=_0x48aacc;_0x42e7ce[_0x1face0(0x2ae)](_0x3fe252=>_0x3fe252[_0x1face0(0x2a6)](_0x1face0(0x2e5),'disabled')),_0x47536e[_0x1face0(0x1e3)](_0x27a952),_0x47536e[_0x1face0(0x1e3)](_0x19d83f),_0x762439(![]);});});}function _0x58d7(_0xb886b9,_0x5eae0e){const _0x1b0f25=_0x1b0f();return _0x58d7=function(_0x58d7c4,_0x789ee9){_0x58d7c4=_0x58d7c4-0x15b;let _0x15db7c=_0x1b0f25[_0x58d7c4];return _0x15db7c;},_0x58d7(_0xb886b9,_0x5eae0e);}function drawDonutsCircle(_0x2ab506,_0x2a4097,_0x68af17,_0x4e4868,_0x351d86){const _0x2d89a2=_0x532b7b;_0x2ab506[_0x2d89a2(0x22f)](),_0x2ab506['beginPath'](),_0x2ab506[_0x2d89a2(0x21b)](_0x2a4097,_0x68af17,_0x4e4868-0x2*_0x351d86,0x0,0x2*Math['PI'],!![]),_0x2ab506['arc'](_0x2a4097,_0x68af17,_0x4e4868,0x0,0x2*Math['PI'],![]),_0x2ab506[_0x2d89a2(0x2f8)](),_0x2ab506[_0x2d89a2(0x280)]();}function drawRoundedXMark(_0x97d531,_0x56df1b,_0x3c81a1,_0x331094,_0x36c95b){const _0x51709a=_0x532b7b,_0x2e926a=_0x36c95b,_0x2ee5f2=_0x2e926a/Math[_0x51709a(0x283)],_0x3004cd=_0x2ee5f2*0x2,_0x55ada2=_0x56df1b-_0x331094,_0x117c74=_0x56df1b,_0x2243c1=_0x56df1b+_0x331094,_0x5317bc=_0x3c81a1-_0x331094,_0x4331eb=_0x3c81a1,_0x52f1d9=_0x3c81a1+_0x331094;_0x97d531[_0x51709a(0x22f)](),_0x97d531[_0x51709a(0x21d)](),_0x97d531[_0x51709a(0x20f)](_0x55ada2+_0x3004cd,_0x5317bc),_0x97d531[_0x51709a(0x25b)](_0x117c74,_0x4331eb-_0x3004cd),_0x97d531[_0x51709a(0x25b)](_0x2243c1-_0x3004cd,_0x5317bc),_0x97d531[_0x51709a(0x21b)](_0x2243c1-_0x2ee5f2,_0x5317bc+_0x2ee5f2,_0x2e926a,Math['PI']*0x5/0x4,Math['PI']*0x9/0x4),_0x97d531['lineTo'](_0x2243c1,_0x5317bc+_0x3004cd),_0x97d531[_0x51709a(0x25b)](_0x117c74+_0x3004cd,_0x4331eb),_0x97d531['lineTo'](_0x2243c1,_0x52f1d9-_0x3004cd),_0x97d531[_0x51709a(0x21b)](_0x2243c1-_0x2ee5f2,_0x52f1d9-_0x2ee5f2,_0x2e926a,Math['PI']*0x7/0x4,Math['PI']*0xb/0x4),_0x97d531[_0x51709a(0x25b)](_0x2243c1-_0x3004cd,_0x52f1d9),_0x97d531[_0x51709a(0x25b)](_0x117c74,_0x4331eb+_0x3004cd),_0x97d531[_0x51709a(0x25b)](_0x55ada2+_0x3004cd,_0x52f1d9),_0x97d531[_0x51709a(0x21b)](_0x55ada2+_0x2ee5f2,_0x52f1d9-_0x2ee5f2,_0x2e926a,Math['PI']*0x1/0x4,Math['PI']*0x5/0x4),_0x97d531['lineTo'](_0x55ada2,_0x52f1d9-_0x3004cd),_0x97d531[_0x51709a(0x25b)](_0x117c74-_0x3004cd,_0x4331eb),_0x97d531[_0x51709a(0x25b)](_0x55ada2,_0x5317bc+_0x3004cd),_0x97d531['arc'](_0x55ada2+_0x2ee5f2,_0x5317bc+_0x2ee5f2,_0x2e926a,Math['PI']*0x3/0x4,Math['PI']*0x7/0x4),_0x97d531[_0x51709a(0x2f8)](),_0x97d531[_0x51709a(0x280)]();}function roundedRect(_0x3e5c98,_0x177d2f,_0x3c432f,_0x56e0a8,_0x11f25c,_0x321465,_0x8ea61c='#FFFFFF'){const _0x466af6=_0x532b7b;_0x3e5c98[_0x466af6(0x22f)](),_0x3e5c98[_0x466af6(0x25a)]=_0x8ea61c,_0x3e5c98['fillStyle']=_0x8ea61c,_0x3e5c98[_0x466af6(0x21d)](),_0x3e5c98[_0x466af6(0x20f)](_0x177d2f,_0x3c432f+_0x321465),_0x3e5c98[_0x466af6(0x25b)](_0x177d2f,_0x3c432f+_0x11f25c-_0x321465),_0x3e5c98[_0x466af6(0x273)](_0x177d2f,_0x3c432f+_0x11f25c,_0x177d2f+_0x321465,_0x3c432f+_0x11f25c,_0x321465),_0x3e5c98['lineTo'](_0x177d2f+_0x56e0a8-_0x321465,_0x3c432f+_0x11f25c),_0x3e5c98['arcTo'](_0x177d2f+_0x56e0a8,_0x3c432f+_0x11f25c,_0x177d2f+_0x56e0a8,_0x3c432f+_0x11f25c-_0x321465,_0x321465),_0x3e5c98[_0x466af6(0x25b)](_0x177d2f+_0x56e0a8,_0x3c432f+_0x321465),_0x3e5c98[_0x466af6(0x273)](_0x177d2f+_0x56e0a8,_0x3c432f,_0x177d2f+_0x56e0a8-_0x321465,_0x3c432f,_0x321465),_0x3e5c98[_0x466af6(0x25b)](_0x177d2f+_0x321465,_0x3c432f),_0x3e5c98[_0x466af6(0x273)](_0x177d2f,_0x3c432f,_0x177d2f,_0x3c432f+_0x321465,_0x321465),_0x3e5c98[_0x466af6(0x2f8)](),_0x3e5c98['restore']();}function toRelativeName(_0x2311ea){const _0x112df0=_0x532b7b;return/:\/\//[_0x112df0(0x1ec)](_0x2311ea)?_0x2311ea:/^[.\/]/[_0x112df0(0x1ec)](_0x2311ea)?_0x2311ea:'./'+_0x2311ea;}function getDir(_0x33cea2){return _0x33cea2['replace'](/[^/]+$/,'');}const treatObjectRec=(_0x23b4da,_0x56170b)=>{const _0xa8f125=_0x532b7b,_0x4c537f=_0x1a71a3=>_0x1a71a3!==null&&typeof _0x1a71a3===_0xa8f125(0x197)&&!Array[_0xa8f125(0x24c)](_0x1a71a3);if(_0x4c537f(_0x23b4da)){const _0xebf292={'parent':_0x23b4da};return _0x56170b[_0xa8f125(0x1c8)]?.(_0x23b4da,_0xebf292),Object[_0xa8f125(0x1b3)](_0x23b4da)[_0xa8f125(0x2ae)](_0x4a17cf=>{const _0x48429a=_0xa8f125;_0x56170b[_0x48429a(0x235)]?.(_0x23b4da[_0x4a17cf],_0x4a17cf,_0xebf292);const _0x362343=treatObjectRec(_0x23b4da[_0x4a17cf],_0x56170b);_0x56170b[_0x48429a(0x28f)]?.(_0x23b4da[_0x4a17cf],_0x4a17cf,_0xebf292,_0x362343);}),_0x56170b[_0xa8f125(0x27c)]?.(_0x23b4da,_0xebf292)??_0x23b4da;}else{if(Array[_0xa8f125(0x24c)](_0x23b4da)){const _0xbf671d={'parent':_0x23b4da};return _0x56170b['beforeArray']?.(_0x23b4da,_0xbf671d),_0x23b4da[_0xa8f125(0x2ae)]((_0x2dbcb5,_0x58c8c1)=>{const _0x17f1cd=_0xa8f125;_0x56170b[_0x17f1cd(0x2e9)]?.(_0x2dbcb5,_0x58c8c1,_0xbf671d);const _0x48d6af=treatObjectRec(_0x2dbcb5,_0x56170b);_0x56170b[_0x17f1cd(0x186)]?.(_0x2dbcb5,_0x58c8c1,_0xbf671d,_0x48d6af);}),_0x56170b[_0xa8f125(0x2aa)]?.(_0x23b4da,_0xbf671d)??_0x23b4da;}else{if(typeof _0x23b4da===_0xa8f125(0x287))return _0x56170b[_0xa8f125(0x29f)]?.(_0x23b4da)??_0x23b4da;else{if(typeof _0x23b4da===_0xa8f125(0x1cf))return(_0x56170b[_0xa8f125(0x1b2)]??_0x56170b[_0xa8f125(0x2d4)])?.(_0x23b4da)??_0x23b4da;else{if(typeof _0x23b4da==='number')return(_0x56170b[_0xa8f125(0x2c6)]??_0x56170b[_0xa8f125(0x2d4)])?.(_0x23b4da)??_0x23b4da;else{if(typeof _0x23b4da==='bigint')return(_0x56170b[_0xa8f125(0x28b)]??_0x56170b[_0xa8f125(0x2d4)])?.(_0x23b4da)??_0x23b4da;else{if(typeof _0x23b4da===_0xa8f125(0x218))return(_0x56170b['onStringValue']??_0x56170b[_0xa8f125(0x2d4)])?.(_0x23b4da)??_0x23b4da;else{if(typeof _0x23b4da==='symbol')return(_0x56170b[_0xa8f125(0x18d)]??_0x56170b[_0xa8f125(0x2d4)])?.(_0x23b4da)??_0x23b4da;else{if(typeof _0x23b4da===_0xa8f125(0x219)||_0x23b4da===null)return(_0x56170b[_0xa8f125(0x1e7)]??_0x56170b[_0xa8f125(0x2d4)])?.(_0x23b4da)??_0x23b4da;}}}}}}}}},deepAssign=(_0x258e5b,..._0x65a9cb)=>{const _0x2d6d5d=_0x532b7b,_0x1c0b5c=(_0x393249,_0x28d080)=>{let _0x5c7b08=_0x393249;return treatObjectRec(_0x28d080,{'beforeObject':(_0x2a0774,_0x3d9616)=>{const _0x117e89=_0x58d7;_0x3d9616[_0x117e89(0x1f0)]=_0x5c7b08??{};},'beforeObjectItem':(_0x14c169,_0x2cb723,_0x270b14,_0x38dd44)=>{_0x5c7b08=_0x270b14['result'][_0x2cb723];},'afterObjectItem':(_0x270afc,_0x246990,_0x237b19,_0x3fad7c)=>{const _0x5a0969=_0x58d7;_0x237b19[_0x5a0969(0x1f0)][_0x246990]=_0x3fad7c;},'afterObject':(_0x195b45,_0x3120b7)=>{const _0x1602a8=_0x58d7;return _0x3120b7[_0x1602a8(0x1f0)];},'beforeArray':(_0x21e3b9,_0x3393e2)=>{_0x3393e2['result']=[];},'beforeArrayItem':(_0xbebd22,_0x1fc746,_0x3fdc29)=>{_0x5c7b08={};},'afterArrayItem':(_0xff2d3e,_0x3103c5,_0xa6cce5,_0x5a3002)=>{const _0x29db4e=_0x58d7;_0xa6cce5[_0x29db4e(0x1f0)][_0x3103c5]=_0x5a3002;},'afterArray':(_0x1966f9,_0x1e94f0)=>{const _0x3f0a5d=_0x58d7;return _0x1e94f0[_0x3f0a5d(0x1f0)];}});},_0x4ebd61=_0x5cc3f6=>_0x5cc3f6!==null&&typeof _0x5cc3f6===_0x2d6d5d(0x197)&&!Array['isArray'](_0x5cc3f6);return(_0x65a9cb??[])[_0x2d6d5d(0x19f)]((_0xb42559,_0x1dd2d7)=>{return _0x4ebd61(_0x1dd2d7)?_0x1c0b5c(_0xb42559,_0x1dd2d7):_0xb42559;},_0x258e5b);};(async _0x211a7a=>{const _0x252d93=_0x532b7b;{const _0x36dc27=new URL(window[_0x252d93(0x1bf)])[_0x252d93(0x1cc)];_0x36dc27[_0x252d93(0x17a)](_0x252d93(0x21c))&&(_0x211a7a[_0x252d93(0x21c)]=!![]);{const _0xdb363c=[_0x252d93(0x17d),_0x252d93(0x27d),'ps']['map'](_0x3b2096=>_0x36dc27[_0x252d93(0x2b2)](_0x3b2096))['find'](_0x587bbe=>_0x587bbe)||_0x211a7a['paramScriptName'];if(_0xdb363c){const _0x272008=(await import(toRelativeName(_0xdb363c)))[_0x252d93(0x196)],_0x3cb2b6=getDir(_0xdb363c);/\/$/[_0x252d93(0x1ec)](_0x3cb2b6)&&treatObjectRec(_0x272008,{'afterObjectItem':(_0xe3de2f,_0x197742,_0x1027fc)=>{const _0x203e77=_0x252d93;typeof _0xe3de2f===_0x203e77(0x218)&&/path$/i['test'](_0x197742)&&(_0x1027fc['parent'][_0x197742]=_0x3cb2b6+_0xe3de2f);}}),_0x211a7a=deepAssign({},_0x211a7a,_0x272008);}}_0x211a7a[_0x252d93(0x21c)]&&console[_0x252d93(0x1e6)](_0x252d93(0x253),_0x211a7a);}const _0x3309dc=(_0x211a7a[_0x252d93(0x2ef)]??_0x252d93(0x262))+_0x252d93(0x1c3),_0x4ebf34={'isOwner':![],'mode':'loginArea','userName':null,'roomName':null},_0x5988fc={'originalCards':_0x211a7a[_0x252d93(0x168)]},_0x10b7d3={'loaded':![],'playOrNop':_0x4d0ca3=>{const _0xbd9be1=_0x252d93;_0x4d0ca3&&(_0x4d0ca3[_0xbd9be1(0x240)]=0x0,_0x4d0ca3[_0xbd9be1(0x20c)]?.());},'playSound':_0x11af38=>{const _0x3c03be=_0x252d93;_0x11af38[_0x3c03be(0x240)]=0x0,_0x11af38['play']?.();}},_0x3563a4={};{_0x211a7a[_0x252d93(0x234)][_0x252d93(0x17f)]&&(document[_0x252d93(0x17f)]=_0x211a7a[_0x252d93(0x234)][_0x252d93(0x17f)],(document[_0x252d93(0x2b8)]('h1')??{})['textContent']=_0x211a7a[_0x252d93(0x234)][_0x252d93(0x17f)]),_0x211a7a['pageOptions']['referenceHTML']&&document[_0x252d93(0x2b8)](_0x252d93(0x1a3))['insertAdjacentHTML'](_0x252d93(0x2c9),_0x211a7a[_0x252d93(0x234)][_0x252d93(0x29e)]);}{const _0x292674=window[_0x252d93(0x176)]?JSON['parse'](window[_0x252d93(0x176)][_0x252d93(0x172)](_0x3309dc)):null,_0x75d23b=(_0x572ddd,_0xd8328)=>_0x292674?.[_0x572ddd]??_0xd8328,_0x26f51f=document[_0x252d93(0x2b8)](_0x252d93(0x1a8)),_0x18f0f5=document[_0x252d93(0x2b8)]('#loginArea'),_0x13a2fb=document['querySelector']('#roomArea'),_0x1c89a9=document[_0x252d93(0x2b8)](_0x252d93(0x23f)),_0x453e0d=document[_0x252d93(0x2b8)](_0x252d93(0x29a));_0x3563a4[_0x252d93(0x270)]=()=>{const _0x1cf127=_0x252d93;_0x4ebf34[_0x1cf127(0x18e)]='loginArea',_0x26f51f[_0x1cf127(0x2c1)]['display']='none',_0x18f0f5[_0x1cf127(0x2c1)][_0x1cf127(0x26a)]='block',_0x13a2fb[_0x1cf127(0x2c1)][_0x1cf127(0x26a)]=_0x1cf127(0x237),_0x1c89a9[_0x1cf127(0x2c1)]['display']='none',_0x54ed65['focus']();},_0x3563a4['modeChangeToRoom']=()=>{const _0x92ea99=_0x252d93;_0x4ebf34[_0x92ea99(0x18e)]=_0x92ea99(0x21e),_0x26f51f[_0x92ea99(0x2c1)][_0x92ea99(0x26a)]='none',_0x18f0f5[_0x92ea99(0x2c1)]['display']='none',_0x13a2fb[_0x92ea99(0x2c1)][_0x92ea99(0x26a)]='block',_0x1c89a9['style'][_0x92ea99(0x26a)]=_0x92ea99(0x237),_0x2f0ddb[_0x92ea99(0x1fb)]='';},_0x3563a4[_0x252d93(0x233)]=()=>{const _0x3dd4ba=_0x252d93;_0x4ebf34['mode']=_0x3dd4ba(0x1b9),_0x26f51f[_0x3dd4ba(0x2c1)][_0x3dd4ba(0x26a)]=_0x3dd4ba(0x237),_0x18f0f5[_0x3dd4ba(0x2c1)][_0x3dd4ba(0x26a)]='none',_0x13a2fb[_0x3dd4ba(0x2c1)][_0x3dd4ba(0x26a)]=_0x3dd4ba(0x237),_0x1c89a9[_0x3dd4ba(0x2c1)]['display']=_0x3dd4ba(0x224);};const _0x11cf07=document[_0x252d93(0x2b8)]('#memberList'),_0x4e3293=document[_0x252d93(0x2b8)](_0x252d93(0x1cb)),_0x2df79e=document['querySelector'](_0x252d93(0x225)),_0x1e2bd2=document['querySelector']('#logoutButton'),_0x5760ed=document[_0x252d93(0x2b8)](_0x252d93(0x2e0)),_0x1bdc90=document[_0x252d93(0x2b8)](_0x252d93(0x1b5)),_0x54ed65=document[_0x252d93(0x2b8)](_0x252d93(0x2bf)),_0x586dbd=document[_0x252d93(0x2b8)](_0x252d93(0x1e0)),_0x2f0ddb=document[_0x252d93(0x2b8)](_0x252d93(0x2c0));_0x54ed65['setAttribute'](_0x252d93(0x25c),'任意のテキスト'),_0x586dbd[_0x252d93(0x2a6)](_0x252d93(0x25c),_0x252d93(0x243)),_0x54ed65[_0x252d93(0x1eb)]('keydown',_0x3531db=>{const _0x29e813=_0x252d93;!_0x3531db[_0x29e813(0x19c)]&&_0x3531db[_0x29e813(0x185)]===_0x29e813(0x19a)&&_0x586dbd['focus']();}),_0x586dbd['addEventListener'](_0x252d93(0x1c2),_0xbeaf71=>{const _0x346622=_0x252d93;!_0xbeaf71[_0x346622(0x19c)]&&_0xbeaf71[_0x346622(0x19e)]&&_0xbeaf71[_0x346622(0x185)]==='Enter'&&_0x54ed65['focus'](),!_0xbeaf71['isComposing']&&!_0xbeaf71[_0x346622(0x19e)]&&_0xbeaf71[_0x346622(0x185)]===_0x346622(0x19a)&&_0x2df79e[_0x346622(0x1ea)]();}),_0x54ed65[_0x252d93(0x228)]=_0x75d23b(_0x252d93(0x190),_0x211a7a['defaultValues'][_0x252d93(0x190)]),_0x586dbd['value']=_0x75d23b(_0x252d93(0x1bd),_0x211a7a['defaultValues'][_0x252d93(0x1bd)]);const _0x5abc0c=_0x248043=>{const _0x4d9ec8=_0x252d93;_0x4ebf34[_0x4d9ec8(0x1bd)]=_0x586dbd[_0x4d9ec8(0x228)][_0x4d9ec8(0x2c2)](),_0x4ebf34['userName']=_0x54ed65[_0x4d9ec8(0x228)]['trim'](),window[_0x4d9ec8(0x176)]&&window['localStorage']['setItem'](_0x3309dc,JSON[_0x4d9ec8(0x20b)]({'roomName':_0x4ebf34['roomName'],'userName':_0x4ebf34[_0x4d9ec8(0x190)]})),_0x492490['emit'](_0x4d9ec8(0x16f),{'appId':_0x211a7a[_0x4d9ec8(0x2ef)],'dataId':_0x211a7a['dataId'],'roomName':_0x4ebf34[_0x4d9ec8(0x1bd)],'userName':_0x4ebf34[_0x4d9ec8(0x190)]});};_0x2df79e[_0x252d93(0x1eb)](_0x252d93(0x2a5),_0x5abc0c),_0x1e2bd2['addEventListener'](_0x252d93(0x2a5),_0x55c20c=>{const _0x2e6e5c=_0x252d93;_0x492490[_0x2e6e5c(0x222)](_0x2e6e5c(0x25f),{});});const _0x2f4eec=0x2;_0x5760ed[_0x252d93(0x1eb)](_0x252d93(0x2fa),()=>{const _0x63a449=_0x252d93,_0x5c9bdd=_0x10b7d3['cards'][_0x63a449(0x2a8)],_0x56f5de=parseInt(_0x5760ed[_0x63a449(0x228)],0x0),_0x1d7c54=!Number[_0x63a449(0x223)](_0x56f5de)?_0x5c9bdd:_0x56f5de>_0x5c9bdd?_0x5c9bdd:_0x56f5de<_0x2f4eec?_0x2f4eec:_0x56f5de;_0x5760ed['value']=_0x1d7c54,_0x3563a4['useCardCount']=_0x1d7c54;}),_0x1bdc90[_0x252d93(0x1eb)]('click',_0x48d5cc=>{const _0x1aab1a=_0x252d93;_0x492490[_0x1aab1a(0x222)]('start_play',{'cards':_0x5988fc['originalCards'],'useCardCount':_0x3563a4['useCardCount']});}),_0x3563a4[_0x252d93(0x1c9)]=_0x18cdeb=>{const _0x550a7e=_0x252d93;_0x5988fc[_0x550a7e(0x169)]&&_0x5988fc['currentCard'][_0x550a7e(0x220)]?.[_0x550a7e(0x26f)]?.();_0x1e2bd2[_0x550a7e(0x178)][_0x550a7e(0x1e3)](_0x1e2bd2);while(_0x4e3293[_0x550a7e(0x272)]){_0x4e3293[_0x550a7e(0x1e3)](_0x4e3293[_0x550a7e(0x272)]);}const _0x20f5eb=_0x18cdeb['memberList'][_0x550a7e(0x1d5)](_0x22fa14=>{const _0x429786=_0x550a7e;return newElem('tr',[newElem('td',_0x22fa14===_0x18cdeb[_0x429786(0x2f9)]?['✔']:[]),newElem('td',[_0x22fa14],_0x22fa14===_0x4ebf34[_0x429786(0x190)]?['my-name']:[]),newElem('td',_0x22fa14===_0x4ebf34[_0x429786(0x190)]?[_0x1e2bd2]:[])]);})['reduce']((_0x472d80,_0x1e5676)=>{return _0x472d80['appendChild'](_0x1e5676),_0x472d80;},document[_0x550a7e(0x207)]());;_0x4e3293[_0x550a7e(0x258)](_0x20f5eb),_0x4ebf34[_0x550a7e(0x1e4)]=_0x18cdeb[_0x550a7e(0x2f9)]===_0x4ebf34[_0x550a7e(0x190)],_0x453e0d[_0x550a7e(0x2c1)][_0x550a7e(0x26a)]=_0x4ebf34[_0x550a7e(0x1e4)]?_0x550a7e(0x224):_0x550a7e(0x237),_0x4ebf34[_0x550a7e(0x1e4)]&&(_0x5760ed['min']=_0x2f4eec,_0x5760ed[_0x550a7e(0x288)]=_0x10b7d3[_0x550a7e(0x168)][_0x550a7e(0x2a8)],!_0x5760ed[_0x550a7e(0x228)]&&(_0x5760ed[_0x550a7e(0x228)]=_0x3563a4[_0x550a7e(0x193)]??_0x10b7d3[_0x550a7e(0x168)][_0x550a7e(0x2a8)])),_0x18cdeb[_0x550a7e(0x2b7)][_0x550a7e(0x194)]>=0x2?_0x1bdc90[_0x550a7e(0x282)](_0x550a7e(0x2e5)):_0x1bdc90[_0x550a7e(0x2a6)]('disabled',!![]),clearInterval(_0x5988fc[_0x550a7e(0x2ad)]),_0x741a6b[_0x550a7e(0x1d0)](_0x550a7e(0x2a5),_0x5988fc[_0x550a7e(0x179)]),_0x741a6b['removeEventListener']('click',_0x5988fc[_0x550a7e(0x1d2)]);},_0x3563a4[_0x252d93(0x18f)]=_0x1315df=>{const _0x47e6ac=_0x252d93;_0x2f0ddb[_0x47e6ac(0x1fb)]=_0x1315df;},_0x3563a4['onInitialize']=_0x3386f2=>{const _0x4f766f=_0x252d93;_0x54ed65[_0x4f766f(0x2a6)](_0x4f766f(0x205),_0x3386f2['userNameMaxLength']),_0x54ed65[_0x4f766f(0x2a6)](_0x4f766f(0x25c),_0x3386f2[_0x4f766f(0x259)]+_0x4f766f(0x27f)),_0x211a7a['debug']&&(_0x54ed65[_0x4f766f(0x228)]='user'+_0x3386f2[_0x4f766f(0x277)]);};}const _0x9a0153=async()=>{const _0x5049d3=_0x252d93;if(_0x10b7d3[_0x5049d3(0x1d8)])return;console['log'](_0x5049d3(0x1fc));const _0x15ec98=await Promise['all']([_0x211a7a[_0x5049d3(0x254)][_0x5049d3(0x161)],_0x211a7a[_0x5049d3(0x254)]['ngSoundPath'],_0x211a7a[_0x5049d3(0x254)]['takenSoundPath'],_0x211a7a[_0x5049d3(0x254)][_0x5049d3(0x2ec)],_0x211a7a[_0x5049d3(0x254)]['nextSoundPath'],_0x211a7a['soundSettings']['countdown1SoundPath'],_0x211a7a[_0x5049d3(0x254)][_0x5049d3(0x2a3)]]['map'](loadSyncAudio));_0x15ec98[_0x5049d3(0x2ae)](_0x175776=>{const _0x25e8f4=_0x5049d3;_0x175776[_0x25e8f4(0x2e8)]=_0x211a7a[_0x25e8f4(0x254)][_0x25e8f4(0x2f6)];}),_0x10b7d3[_0x5049d3(0x1ac)]=_0x15ec98[_0x5049d3(0x210)](),_0x10b7d3[_0x5049d3(0x23d)]=_0x15ec98[_0x5049d3(0x210)](),_0x10b7d3[_0x5049d3(0x27a)]=_0x15ec98['shift'](),_0x10b7d3['allngSound']=_0x15ec98['shift'](),_0x10b7d3[_0x5049d3(0x20e)]=_0x15ec98[_0x5049d3(0x210)](),_0x10b7d3[_0x5049d3(0x202)]=_0x15ec98[_0x5049d3(0x210)](),_0x10b7d3[_0x5049d3(0x2d7)]=_0x15ec98[_0x5049d3(0x210)](),_0x10b7d3[_0x5049d3(0x24f)]=_0x211a7a[_0x5049d3(0x15f)][_0x5049d3(0x2a4)]?await loadSyncAudio(_0x211a7a[_0x5049d3(0x15f)][_0x5049d3(0x2a4)]):null,_0x10b7d3[_0x5049d3(0x248)]=_0x211a7a[_0x5049d3(0x15f)][_0x5049d3(0x296)]?await loadSyncImage(_0x211a7a[_0x5049d3(0x15f)][_0x5049d3(0x296)]):null;const _0x214760=_0x211a7a['cards'][_0x5049d3(0x2e3)](_0x36699d=>_0x36699d[_0x5049d3(0x296)]&&_0x36699d[_0x5049d3(0x2a4)]),_0x4c436c=await Promise['all'](_0x214760[_0x5049d3(0x1d5)](_0x4c117d=>_0x4c117d[_0x5049d3(0x296)])[_0x5049d3(0x1d5)](loadSyncImage)),_0x574345=_0x4c436c[_0x5049d3(0x1d5)](_0x24570b=>{const _0x47d642=_0x5049d3,_0x1c2bd9=document[_0x47d642(0x2ca)](_0x47d642(0x2f4));_0x1c2bd9[_0x47d642(0x217)]=_0x211a7a[_0x47d642(0x213)][_0x47d642(0x1a4)]+0x2*_0x211a7a['cardSettings'][_0x47d642(0x1b0)],_0x1c2bd9[_0x47d642(0x198)]=_0x211a7a[_0x47d642(0x213)][_0x47d642(0x2d6)]+0x2*_0x211a7a[_0x47d642(0x213)][_0x47d642(0x1b0)];const _0x9f9bf7=_0x1c2bd9['getContext']('2d');return _0x9f9bf7[_0x47d642(0x1d3)]=_0x211a7a['cardSettings'][_0x47d642(0x170)],_0x9f9bf7[_0x47d642(0x1ab)](0x0,0x0,_0x1c2bd9[_0x47d642(0x217)],_0x1c2bd9[_0x47d642(0x198)]),_0x9f9bf7[_0x47d642(0x1d4)](_0x24570b,_0x211a7a['cardSettings'][_0x47d642(0x1b0)],_0x211a7a[_0x47d642(0x213)][_0x47d642(0x1b0)],_0x211a7a[_0x47d642(0x213)][_0x47d642(0x1a4)],_0x211a7a[_0x47d642(0x213)][_0x47d642(0x2d6)]),_0x1c2bd9;}),_0x4d1ed6=await Promise[_0x5049d3(0x1a6)](_0x214760[_0x5049d3(0x1d5)](_0x15520e=>_0x15520e[_0x5049d3(0x2a4)])[_0x5049d3(0x1d5)](loadSyncAudio));_0x4d1ed6[_0x5049d3(0x2ae)](_0x1f14dd=>{const _0x3cf1c8=_0x5049d3;_0x1f14dd[_0x3cf1c8(0x164)]=!![],_0x1f14dd[_0x3cf1c8(0x2e8)]=_0x211a7a[_0x3cf1c8(0x254)][_0x3cf1c8(0x1e8)];}),_0x10b7d3[_0x5049d3(0x168)]=new Map(),_0x214760[_0x5049d3(0x2ae)]((_0x317c0a,_0x53c80d)=>{const _0x348278=_0x5049d3;_0x10b7d3[_0x348278(0x168)][_0x348278(0x1f4)](_0x317c0a['id'],{'img':_0x574345[_0x53c80d],'sound':_0x4d1ed6[_0x53c80d]});}),_0x10b7d3[_0x5049d3(0x1d8)]=!![],_0x211a7a[_0x5049d3(0x21c)]?console['log'](_0x5049d3(0x2b3),_0x10b7d3):console[_0x5049d3(0x1e6)](_0x5049d3(0x2b3));};await _0x9a0153();const _0x492490=io['connect']();_0x492490['on'](_0x252d93(0x1ba),_0x1beda6=>{const _0x49ea2a=_0x252d93;_0x3563a4[_0x49ea2a(0x21a)](_0x1beda6),_0x3563a4['modeChangeToLogin']();}),_0x492490['on'](_0x252d93(0x230),_0x3af62e=>{const _0x57740e=_0x252d93;_0x3563a4[_0x57740e(0x18f)]('プレイ中の部屋は入室できません...\x27'+_0x3af62e[_0x57740e(0x1bd)]+'\x27');}),_0x492490['on'](_0x252d93(0x232),_0x3a8e60=>{const _0x1fd7c4=_0x252d93;_0x3563a4[_0x1fd7c4(0x18f)](_0x1fd7c4(0x23b)+_0x3a8e60['userName']+_0x1fd7c4(0x2f1)+_0x3a8e60['roomName']+'\x27)');}),_0x492490['on']('joinroom_room_is_full',_0x423920=>{const _0x21d20d=_0x252d93;_0x3563a4[_0x21d20d(0x18f)](_0x21d20d(0x22d)+_0x423920['roomName']+'\x27');}),_0x492490['on']('joinroom_invaid_parameter',_0x1e32e2=>{const _0x5e4274=_0x252d93;_0x3563a4[_0x5e4274(0x18f)](_0x5e4274(0x2c5)+_0x1e32e2[_0x5e4274(0x1a9)]);}),_0x492490['on'](_0x252d93(0x289),_0x1e2bbf=>{const _0x3a94c0=_0x252d93;if(_0x4ebf34['mode']===_0x3a94c0(0x2c8))_0x3563a4[_0x3a94c0(0x204)]();else{if(_0x4ebf34[_0x3a94c0(0x18e)]===_0x3a94c0(0x21e)){}}_0x3563a4[_0x3a94c0(0x1c9)](_0x1e2bbf);}),_0x492490['on'](_0x252d93(0x17c),_0x13f0bd=>{const _0x1f6543=_0x252d93;_0x3563a4[_0x1f6543(0x270)]();}),_0x492490['on']('user_disconnect_in_game',async _0x2c2e51=>{const _0x401eaa=_0x252d93;await showConfirmTextDialog(_0x2c2e51['exitUserName']+_0x401eaa(0x215),{'noLabel':''}),_0x3563a4[_0x401eaa(0x204)](),_0x3563a4[_0x401eaa(0x1c9)](_0x2c2e51);}),_0x492490['on'](_0x252d93(0x269),_0x36729a=>{const _0x3f2708=_0x252d93;if(_0x4ebf34['mode']===_0x3f2708(0x21e))return;_0x3563a4['modeChangeToRoom'](),_0x3563a4[_0x3f2708(0x1c9)](_0x36729a);});const _0x741a6b=document['querySelector'](_0x252d93(0x212)),_0x388d85=_0x741a6b[_0x252d93(0x28e)]('2d'),_0x15da5a=Object[_0x252d93(0x20a)]({},_0x211a7a[_0x252d93(0x1b1)]),_0x4da789=Object[_0x252d93(0x20a)]({},_0x211a7a[_0x252d93(0x284)]),_0x45f502=()=>{const _0x46b095=_0x252d93;_0x388d85[_0x46b095(0x1d3)]=_0x4da789[_0x46b095(0x2cc)],_0x388d85[_0x46b095(0x1ab)](0x0,0x0,_0x741a6b[_0x46b095(0x217)],_0x741a6b[_0x46b095(0x198)]);},_0x3ffaa5=()=>{const _0x5b27f6=_0x252d93;{const _0x124124=Math[_0x5b27f6(0x221)](Math[_0x5b27f6(0x2cb)](window['innerWidth']*_0x211a7a[_0x5b27f6(0x174)]['marginLeftRate']),_0x211a7a[_0x5b27f6(0x174)]['marginMax']),_0x392dd5=Math[_0x5b27f6(0x221)](Math[_0x5b27f6(0x2cb)](window[_0x5b27f6(0x1a5)]*_0x211a7a['playmat'][_0x5b27f6(0x1b4)]),_0x211a7a['playmat'][_0x5b27f6(0x21f)]);_0x741a6b['x']=0x0,_0x741a6b['y']=0x0,_0x741a6b['width']=window[_0x5b27f6(0x2dd)]-0x2*_0x124124,_0x741a6b[_0x5b27f6(0x198)]=window[_0x5b27f6(0x1a5)]-0x2*_0x392dd5,_0x741a6b[_0x5b27f6(0x2c1)][_0x5b27f6(0x1ae)]=_0x124124+'px',_0x741a6b['style']['marginTop']=_0x392dd5+'px',_0x741a6b[_0x5b27f6(0x1eb)](_0x5b27f6(0x1db),_0x28d88d=>{const _0x488095=_0x5b27f6;_0x28d88d[_0x488095(0x216)]();});}{_0x4da789['x']=0x0,_0x4da789['y']=0x0,_0x4da789[_0x5b27f6(0x217)]=_0x741a6b[_0x5b27f6(0x217)]-_0x15da5a[_0x5b27f6(0x217)],_0x4da789[_0x5b27f6(0x198)]=_0x741a6b[_0x5b27f6(0x198)],_0x4da789[_0x5b27f6(0x203)]=![],_0x4da789[_0x5b27f6(0x1d6)]=Math[_0x5b27f6(0x221)](_0x4da789[_0x5b27f6(0x217)],_0x4da789[_0x5b27f6(0x198)]),_0x4da789['maskMargin']=_0x4da789[_0x5b27f6(0x1d6)]*_0x4da789[_0x5b27f6(0x2af)][_0x5b27f6(0x191)],_0x4da789[_0x5b27f6(0x2d5)]=_0x4da789[_0x5b27f6(0x217)]-0x2*_0x4da789[_0x5b27f6(0x291)],_0x4da789[_0x5b27f6(0x24d)]=_0x4da789[_0x5b27f6(0x198)]-0x2*_0x4da789[_0x5b27f6(0x291)];}{_0x15da5a[_0x5b27f6(0x198)]=_0x741a6b[_0x5b27f6(0x198)],_0x15da5a['offsetX']=_0x4da789['width'],_0x15da5a[_0x5b27f6(0x2d9)]=0x0,_0x15da5a[_0x5b27f6(0x2b4)]=_0x15da5a['height']-_0x15da5a[_0x5b27f6(0x2d9)],_0x15da5a['textStartX']=_0x15da5a[_0x5b27f6(0x261)]+_0x15da5a[_0x5b27f6(0x17b)];const _0x55154e=_0x15da5a[_0x5b27f6(0x261)]+_0x15da5a[_0x5b27f6(0x217)];let _0x7974fc=_0x55154e;_0x15da5a[_0x5b27f6(0x1de)]=_0x7974fc-=_0x15da5a[_0x5b27f6(0x17b)],_0x15da5a[_0x5b27f6(0x187)]=_0x7974fc-=_0x15da5a[_0x5b27f6(0x274)],_0x15da5a[_0x5b27f6(0x166)]=_0x7974fc-=_0x15da5a['margin'],_0x15da5a['correctCountLx']=_0x7974fc-=_0x15da5a[_0x5b27f6(0x274)],_0x15da5a['userNameRx']=_0x7974fc,_0x15da5a[_0x5b27f6(0x1aa)]=_0x7974fc-_0x15da5a[_0x5b27f6(0x260)],_0x15da5a[_0x5b27f6(0x20d)]=_0x15da5a[_0x5b27f6(0x2d0)]+_0x15da5a[_0x5b27f6(0x245)],_0x15da5a['actLogTextWidth']=_0x55154e-_0x15da5a[_0x5b27f6(0x245)]-_0x15da5a[_0x5b27f6(0x20d)],_0x15da5a[_0x5b27f6(0x1b7)]=![],_0x15da5a[_0x5b27f6(0x2ac)]=_0x15da5a[_0x5b27f6(0x1be)];}};{_0x15da5a['initSize']=_0x50334b=>{const _0x49ab2c=_0x252d93;if(_0x15da5a[_0x49ab2c(0x1b7)])return;_0x15da5a[_0x49ab2c(0x1b7)]=!![];const _0x8de9c3=0x7+(0x1+_0x15da5a['actLogFontSizeRate'])*_0x50334b[_0x49ab2c(0x2d8)]['length'];_0x15da5a['fontSize']=Math['min']((_0x15da5a[_0x49ab2c(0x198)]-0x2*_0x15da5a[_0x49ab2c(0x17b)])/_0x8de9c3/_0x15da5a[_0x49ab2c(0x1da)],_0x15da5a[_0x49ab2c(0x2ac)]);const _0x4ef062=_0x15da5a[_0x49ab2c(0x1be)]*_0x15da5a[_0x49ab2c(0x2a0)];_0x15da5a[_0x49ab2c(0x256)]=_0x15da5a['fontSize']+_0x49ab2c(0x19b),_0x15da5a[_0x49ab2c(0x229)]=_0x4ef062+'px\x20\x27\x27',_0x15da5a[_0x49ab2c(0x1cd)]=Math[_0x49ab2c(0x24e)](_0x15da5a[_0x49ab2c(0x1be)]*_0x15da5a['lineHeightRate']),_0x15da5a[_0x49ab2c(0x177)]=Math[_0x49ab2c(0x24e)](_0x4ef062*_0x15da5a['lineHeightRate']);},_0x15da5a[_0x252d93(0x2e1)]=(_0x19a386,_0x5982bb=![])=>{const _0x55b5a6=_0x252d93;_0x15da5a[_0x55b5a6(0x1fd)](_0x19a386),_0x388d85[_0x55b5a6(0x22f)](),_0x388d85[_0x55b5a6(0x1d3)]=_0x15da5a['backgroundColor'],_0x388d85['fillRect'](_0x15da5a['offsetX'],_0x15da5a['offsetY'],_0x15da5a[_0x55b5a6(0x217)],_0x15da5a[_0x55b5a6(0x198)]),_0x388d85[_0x55b5a6(0x25a)]=_0x15da5a[_0x55b5a6(0x2e6)],_0x388d85['textBaseline']='top',_0x388d85['font']=_0x15da5a[_0x55b5a6(0x256)],_0x388d85[_0x55b5a6(0x1d3)]=_0x15da5a[_0x55b5a6(0x2da)];let _0x5eb2c5=_0x15da5a['offsetY']+_0x15da5a[_0x55b5a6(0x17b)];_0x388d85[_0x55b5a6(0x268)]=_0x55b5a6(0x2a9),_0x388d85[_0x55b5a6(0x200)](_0x55b5a6(0x29d),_0x15da5a[_0x55b5a6(0x260)],_0x5eb2c5),_0x5eb2c5+=_0x15da5a[_0x55b5a6(0x1cd)],_0x388d85[_0x55b5a6(0x200)](_0x55b5a6(0x2b6)+_0x19a386[_0x55b5a6(0x27e)][_0x55b5a6(0x2db)]+'枚',_0x15da5a['textStartX'],_0x5eb2c5),_0x5eb2c5+=_0x15da5a[_0x55b5a6(0x1cd)],_0x388d85[_0x55b5a6(0x200)](_0x55b5a6(0x297)+_0x19a386[_0x55b5a6(0x27e)][_0x55b5a6(0x2b9)]+'枚',_0x15da5a[_0x55b5a6(0x260)],_0x5eb2c5),_0x5eb2c5+=_0x15da5a[_0x55b5a6(0x1cd)],_0x388d85['strokeRect'](_0x15da5a['textStartX'],_0x5eb2c5+_0x15da5a[_0x55b5a6(0x1cd)]/0x2,_0x15da5a['width']-0x2*_0x15da5a[_0x55b5a6(0x17b)],0x0),_0x5eb2c5+=_0x15da5a['lineHeight'],_0x388d85[_0x55b5a6(0x268)]=_0x55b5a6(0x2a9),_0x388d85[_0x55b5a6(0x200)]('取得',_0x15da5a[_0x55b5a6(0x1f2)],_0x5eb2c5,_0x15da5a[_0x55b5a6(0x274)]),_0x388d85[_0x55b5a6(0x200)](_0x55b5a6(0x15d),_0x15da5a[_0x55b5a6(0x187)],_0x5eb2c5,_0x15da5a[_0x55b5a6(0x274)]),_0x5eb2c5+=_0x15da5a[_0x55b5a6(0x1cd)],_0x19a386[_0x55b5a6(0x2d8)]['forEach'](_0x251986=>{const _0x40bb6b=_0x55b5a6;_0x388d85[_0x40bb6b(0x1d3)]=_0x251986[_0x40bb6b(0x190)]===_0x4ebf34['userName']?_0x15da5a[_0x40bb6b(0x2bc)]:_0x15da5a[_0x40bb6b(0x2e7)],_0x388d85[_0x40bb6b(0x268)]=_0x40bb6b(0x2de),_0x388d85[_0x40bb6b(0x200)](_0x251986[_0x40bb6b(0x190)],_0x15da5a[_0x40bb6b(0x2d0)],_0x5eb2c5,_0x15da5a[_0x40bb6b(0x1aa)]),_0x388d85[_0x40bb6b(0x200)](_0x251986[_0x40bb6b(0x1a1)]['toString'](),_0x15da5a['correctCountRx'],_0x5eb2c5,_0x15da5a[_0x40bb6b(0x274)]),_0x388d85['fillText'](_0x251986['wrong'][_0x40bb6b(0x2f7)](),_0x15da5a['wrongCountRx'],_0x5eb2c5,_0x15da5a[_0x40bb6b(0x274)]),_0x5eb2c5+=_0x15da5a[_0x40bb6b(0x1cd)];}),_0x388d85['strokeRect'](_0x15da5a['textStartX'],_0x5eb2c5+_0x15da5a[_0x55b5a6(0x1cd)]/0x2,_0x15da5a[_0x55b5a6(0x217)]-0x2*_0x15da5a['margin'],0x0),_0x5eb2c5+=_0x15da5a[_0x55b5a6(0x1cd)],_0x388d85[_0x55b5a6(0x1d3)]=_0x15da5a[_0x55b5a6(0x2da)],_0x388d85[_0x55b5a6(0x268)]='left',_0x388d85[_0x55b5a6(0x200)](_0x55b5a6(0x293),_0x15da5a[_0x55b5a6(0x260)],_0x5eb2c5),_0x5eb2c5+=_0x15da5a[_0x55b5a6(0x1cd)],_0x15da5a[_0x55b5a6(0x2ea)]=_0x5eb2c5,_0x5982bb&&_0x15da5a['showActLog'](_0x19a386[_0x55b5a6(0x1dc)]),_0x388d85[_0x55b5a6(0x280)]();},_0x15da5a['showActLog']=_0x5c7266=>{const _0xf67f57=_0x252d93;_0x388d85['save'](),_0x388d85[_0xf67f57(0x1ee)]=_0xf67f57(0x184),_0x388d85[_0xf67f57(0x195)]=_0x15da5a[_0xf67f57(0x229)],_0x388d85[_0xf67f57(0x1d3)]=_0x15da5a[_0xf67f57(0x2cc)],_0x388d85['fillRect'](_0x15da5a[_0xf67f57(0x261)],_0x15da5a[_0xf67f57(0x2ea)],_0x15da5a['width'],_0x15da5a[_0xf67f57(0x2b4)]-_0x15da5a[_0xf67f57(0x2ea)]);let _0x218cbd=_0x15da5a['currentY'];_0x5c7266[_0xf67f57(0x2ae)](_0x13954e=>{const _0x18688c=_0xf67f57,_0x82ad35=_0x13954e['correct']?_0x13954e['takenTimeSec']+_0x18688c(0x278):_0x13954e[_0x18688c(0x29c)]===_0x18688c(0x2a5)?_0x18688c(0x15d):_0x13954e[_0x18688c(0x29c)]==='timeup'?'':'';_0x82ad35&&(_0x388d85[_0x18688c(0x1d3)]=_0x13954e[_0x18688c(0x190)]===_0x4ebf34[_0x18688c(0x190)]?_0x15da5a[_0x18688c(0x2bc)]:_0x15da5a[_0x18688c(0x2e7)],_0x388d85[_0x18688c(0x268)]=_0x18688c(0x2de),_0x388d85[_0x18688c(0x200)](_0x13954e[_0x18688c(0x190)],_0x15da5a[_0x18688c(0x2d0)],_0x218cbd,_0x15da5a[_0x18688c(0x1aa)]),_0x388d85[_0x18688c(0x268)]='left',_0x388d85[_0x18688c(0x200)](_0x82ad35,_0x15da5a['actLogTextLx'],_0x218cbd,_0x15da5a[_0x18688c(0x208)]),_0x218cbd+=_0x15da5a['actLineHeight']);}),_0x388d85['restore']();};}const _0x47a8b6={};{const _0x423af2=_0xe6e3fc=>{const _0x3a096d=_0x252d93,_0xb55b31=_0xe6e3fc[_0x3a096d(0x194)],_0x4c97af=_0x211a7a['cardSettings'][_0x3a096d(0x1a4)],_0x5422b3=_0x211a7a[_0x3a096d(0x213)][_0x3a096d(0x2d6)],[_0x278104,_0x321a54,_0x3b636a,_0xa580ae]=((()=>{const _0x1a740a=_0x3a096d,_0x5e68ac=_0x4da789[_0x1a740a(0x217)]/_0x4c97af/(_0x4da789[_0x1a740a(0x198)]/_0x5422b3);let _0x1ee989,_0xdcb4a6,_0x3e8cd1,_0x461131;if(_0x5e68ac<0x1){const _0x212169=Math[_0x1a740a(0x226)](_0xb55b31*_0x5e68ac);_0x3e8cd1=Math['ceil'](_0x212169),_0x461131=Math[_0x1a740a(0x2cb)](_0x212169),_0x1ee989=Math[_0x1a740a(0x24e)](_0xb55b31/_0x3e8cd1),_0xdcb4a6=Math[_0x1a740a(0x24e)](_0xb55b31/_0x461131);}else{const _0x35767d=Math[_0x1a740a(0x226)](_0xb55b31/_0x5e68ac);_0x1ee989=Math['ceil'](_0x35767d),_0xdcb4a6=Math[_0x1a740a(0x2cb)](_0x35767d),_0x3e8cd1=Math[_0x1a740a(0x24e)](_0xb55b31/_0x1ee989),_0x461131=Math[_0x1a740a(0x24e)](_0xb55b31/_0xdcb4a6);}const _0x48b33b=Math[_0x1a740a(0x221)](_0x4da789['width']/_0x3e8cd1/_0x4c97af,_0x4da789[_0x1a740a(0x198)]/_0x1ee989/_0x5422b3)*_0x211a7a[_0x1a740a(0x213)]['rateForContent'],_0x1d0b00=Math[_0x1a740a(0x221)](_0x4da789[_0x1a740a(0x217)]/_0x461131/_0x4c97af,_0x4da789[_0x1a740a(0x198)]/_0xdcb4a6/_0x5422b3)*_0x211a7a[_0x1a740a(0x213)][_0x1a740a(0x2cf)];return _0x48b33b>_0x1d0b00?[_0x3e8cd1,_0x1ee989,Math[_0x1a740a(0x2cb)](_0x48b33b*_0x4c97af),Math['floor'](_0x48b33b*_0x5422b3)]:[_0x461131,_0xdcb4a6,Math[_0x1a740a(0x2cb)](_0x1d0b00*_0x4c97af),Math[_0x1a740a(0x2cb)](_0x1d0b00*_0x5422b3)];})()),_0x535d40=Math['floor']((_0x4da789['width']-_0x3b636a*_0x278104)/(_0x278104+0x1)),_0x107a40=Math['floor']((_0x4da789[_0x3a096d(0x198)]-_0xa580ae*_0x321a54)/(_0x321a54+0x1));_0x47a8b6['colCount']=_0x278104,_0x47a8b6[_0x3a096d(0x1d1)]=_0x321a54,_0x47a8b6[_0x3a096d(0x290)]=_0x3b636a,_0x47a8b6['cardHeight']=_0xa580ae,_0x47a8b6[_0x3a096d(0x267)]=_0x535d40,_0x47a8b6[_0x3a096d(0x276)]=_0x107a40;};_0x47a8b6[_0x252d93(0x22a)]=_0x520f22=>{const _0x145f6e=_0x252d93;_0x423af2(_0x520f22),_0x520f22[_0x145f6e(0x2ae)]((_0x45df87,_0x3923cd)=>{const _0x43c677=_0x145f6e,_0x5187d1=_0x3923cd%_0x47a8b6[_0x43c677(0x249)],_0x532a4f=Math[_0x43c677(0x2cb)](_0x3923cd/_0x47a8b6[_0x43c677(0x249)]),_0x16ee4b=_0x47a8b6[_0x43c677(0x267)]+_0x5187d1*(_0x47a8b6['cardWidth']+_0x47a8b6[_0x43c677(0x267)]),_0x55f0e4=_0x47a8b6[_0x43c677(0x276)]+_0x532a4f*(_0x47a8b6[_0x43c677(0x1f1)]+_0x47a8b6['cardRowMargin']);_0x45df87['x1']=_0x16ee4b,_0x45df87['x2']=_0x16ee4b+_0x47a8b6['cardWidth'],_0x45df87['y1']=_0x55f0e4,_0x45df87['y2']=_0x55f0e4+_0x47a8b6[_0x43c677(0x1f1)];});},_0x4da789[_0x252d93(0x2e1)]=()=>{const _0x28c6c1=_0x252d93;_0x4da789[_0x28c6c1(0x255)](),_0x5988fc[_0x28c6c1(0x2bb)][_0x28c6c1(0x2ae)]((_0x3671a3,_0x53fb2e)=>{const _0x42563a=_0x28c6c1;_0x3671a3[_0x42563a(0x1f5)]&&_0x388d85[_0x42563a(0x1d4)](_0x3671a3['img'],_0x3671a3['x1'],_0x3671a3['y1'],_0x47a8b6['cardWidth'],_0x47a8b6[_0x42563a(0x1f1)]);});},_0x4da789[_0x252d93(0x255)]=(_0xc6a0dc=null)=>{const _0x5066af=_0x252d93;_0x388d85[_0x5066af(0x1d3)]=_0xc6a0dc??_0x4da789[_0x5066af(0x2cc)],_0x388d85[_0x5066af(0x1ab)](0x0,0x0,_0x4da789[_0x5066af(0x217)],_0x4da789['height']),_0x4da789[_0x5066af(0x203)]=![];},_0x4da789[_0x252d93(0x285)]=()=>{const _0x2be8a8=_0x252d93;if(_0x4da789[_0x2be8a8(0x203)])return;_0x4da789[_0x2be8a8(0x203)]=!![],_0x388d85[_0x2be8a8(0x22f)](),_0x388d85[_0x2be8a8(0x1b8)]=_0x4da789[_0x2be8a8(0x2af)]['maskAreaAlpha'],_0x388d85[_0x2be8a8(0x1d3)]=_0x4da789['notation'][_0x2be8a8(0x181)],_0x388d85['fillRect'](_0x4da789[_0x2be8a8(0x291)],_0x4da789[_0x2be8a8(0x291)],_0x4da789[_0x2be8a8(0x2d5)],_0x4da789['maskHeight']),_0x388d85['restore']();},_0x4da789[_0x252d93(0x2d3)]=_0x162b23=>{const _0x41b734=_0x252d93;_0x388d85[_0x41b734(0x22f)](),_0x388d85[_0x41b734(0x268)]='center',_0x388d85['textBaseline']=_0x41b734(0x1e5);const _0x37ae33={};{const _0x30438c=0x30,_0x5ae265=_0x30438c*0x4,_0x3c7c8d=_0x4da789[_0x41b734(0x2d5)]*0.67;_0x388d85[_0x41b734(0x195)]=_0x30438c+_0x41b734(0x16c);const _0x1e4317=Math[_0x41b734(0x288)](_0x5ae265,_0x388d85['measureText'](_0x162b23)[_0x41b734(0x217)]);_0x37ae33[_0x41b734(0x1be)]=_0x30438c*Math[_0x41b734(0x221)](0x1,_0x3c7c8d/_0x1e4317),_0x37ae33['lineHeight']=_0x37ae33[_0x41b734(0x1be)]*1.8,_0x37ae33[_0x41b734(0x1b6)]=_0x37ae33['fontSize'];const _0x184865=_0x37ae33[_0x41b734(0x1be)];_0x37ae33[_0x41b734(0x217)]=Math[_0x41b734(0x288)](Math[_0x41b734(0x221)](_0x3c7c8d,_0x1e4317))+0x2*_0x184865,_0x37ae33[_0x41b734(0x198)]=_0x37ae33[_0x41b734(0x1cd)]+0x2*_0x184865,_0x37ae33[_0x41b734(0x17e)]=(_0x4da789['maskHeight']-_0x37ae33['lineHeight'])/0x2,_0x37ae33[_0x41b734(0x182)]=_0x4da789[_0x41b734(0x217)]-_0x4da789[_0x41b734(0x291)]-0x2,_0x37ae33['x']=_0x37ae33[_0x41b734(0x182)]-_0x37ae33[_0x41b734(0x217)]-_0x37ae33[_0x41b734(0x1b6)],_0x37ae33['y']=_0x37ae33[_0x41b734(0x17e)]-_0x37ae33['height']/0x2,_0x37ae33['textStartX']=_0x37ae33['x']+_0x37ae33[_0x41b734(0x217)]/0x2,_0x37ae33['textStartY']=_0x37ae33[_0x41b734(0x17e)];}_0x4da789[_0x41b734(0x285)](),_0x388d85['globalAlpha']=0x1,roundedRect(_0x388d85,_0x37ae33['x'],_0x37ae33['y'],_0x37ae33[_0x41b734(0x217)],_0x37ae33[_0x41b734(0x198)],_0x4da789['maskMargin'],_0x4da789[_0x41b734(0x2af)]['messageBackgroundColor']),_0x388d85[_0x41b734(0x1d3)]=_0x4da789['notation'][_0x41b734(0x1d9)],_0x388d85[_0x41b734(0x21d)](),_0x388d85[_0x41b734(0x20f)](_0x37ae33['endX'],_0x37ae33[_0x41b734(0x17e)]),_0x388d85['lineTo'](_0x37ae33[_0x41b734(0x182)]-_0x37ae33[_0x41b734(0x1b6)],_0x37ae33['centerY']-_0x37ae33[_0x41b734(0x1b6)]/0x2),_0x388d85['lineTo'](_0x37ae33[_0x41b734(0x182)]-_0x37ae33[_0x41b734(0x1b6)],_0x37ae33[_0x41b734(0x17e)]+_0x37ae33[_0x41b734(0x1b6)]/0x2),_0x388d85['fill'](),_0x388d85[_0x41b734(0x1d3)]=_0x4da789[_0x41b734(0x2af)][_0x41b734(0x252)],_0x388d85[_0x41b734(0x195)]=_0x37ae33[_0x41b734(0x1be)]+_0x41b734(0x16c),_0x388d85[_0x41b734(0x200)](_0x162b23,_0x37ae33[_0x41b734(0x260)],_0x37ae33[_0x41b734(0x2ce)]),_0x388d85['restore']();},_0x4da789[_0x252d93(0x286)]=()=>{const _0x3db78b=_0x252d93,_0x25a777=_0x4da789[_0x3db78b(0x1d6)]*0.35;_0x388d85[_0x3db78b(0x22f)](),_0x4da789[_0x3db78b(0x285)](),_0x388d85[_0x3db78b(0x1b8)]=_0x4da789['notation']['effectAlpha'],_0x388d85['fillStyle']=_0x4da789[_0x3db78b(0x2af)][_0x3db78b(0x227)],drawDonutsCircle(_0x388d85,_0x4da789[_0x3db78b(0x217)]/0x2,_0x4da789[_0x3db78b(0x198)]/0x2,_0x25a777,_0x4da789[_0x3db78b(0x291)]),_0x388d85[_0x3db78b(0x280)]();},_0x4da789['showNG']=()=>{const _0x22211b=_0x252d93,_0x511f28=_0x4da789['maskShortSize']*0.35;_0x388d85[_0x22211b(0x22f)](),_0x4da789['showMask'](),_0x388d85['globalAlpha']=_0x4da789[_0x22211b(0x2af)]['effectAlpha'],_0x388d85[_0x22211b(0x1d3)]=_0x4da789['notation']['effectNGColor'],drawRoundedXMark(_0x388d85,_0x4da789[_0x22211b(0x217)]/0x2,_0x4da789['height']/0x2,_0x511f28,_0x4da789[_0x22211b(0x291)]),_0x388d85['restore']();};}const _0x519d9a=(_0x58f7c7,_0x449285,_0xe142b5=0x10)=>{const _0x11bb98=_0x252d93,_0x479279=_0x449285['x']+_0x449285['width']/0x2,_0x450bc5=_0x449285['y']+_0x449285[_0x11bb98(0x198)]/0x2-_0xe142b5/0x2;_0x388d85['save'](),_0x388d85['font']=_0xe142b5+_0x11bb98(0x16c),_0x388d85[_0x11bb98(0x268)]='center',_0x388d85['textBaseline']=_0x11bb98(0x184),_0x388d85[_0x11bb98(0x1d3)]=_0x11bb98(0x236),_0x388d85[_0x11bb98(0x200)](_0x58f7c7,_0x479279,_0x450bc5,_0x449285['width']),_0x388d85[_0x11bb98(0x280)]();};_0x492490['on']('prepare_play',async _0x29fc0f=>{const _0x50e0a9=_0x252d93;_0x3563a4[_0x50e0a9(0x233)](),_0x45f502(),_0x3ffaa5(),_0x5988fc[_0x50e0a9(0x2bb)]=_0x29fc0f[_0x50e0a9(0x2c4)][_0x50e0a9(0x1d5)](_0x2b2ec4=>{const _0x420d41=_0x50e0a9,_0x54902c=_0x29fc0f[_0x420d41(0x257)][_0x420d41(0x1c7)](_0x2b2ec4);_0x54902c===-0x1&&console[_0x420d41(0x22b)](_0x420d41(0x199),_0x2b2ec4,_0x29fc0f);const _0x485f5e=_0x5988fc[_0x420d41(0x263)][_0x54902c];return Object[_0x420d41(0x20a)]({'put':!![],'tag':_0x2b2ec4},_0x10b7d3[_0x420d41(0x168)][_0x420d41(0x2b2)](_0x485f5e['id']),_0x485f5e);}),_0x47a8b6[_0x50e0a9(0x22a)](_0x5988fc[_0x50e0a9(0x2bb)]),_0x5988fc[_0x50e0a9(0x1fa)]=null,_0x5988fc['lastShowData']=_0x29fc0f['showData'],_0x492490[_0x50e0a9(0x222)](_0x50e0a9(0x264));}),_0x492490['on'](_0x252d93(0x19d),async()=>{const _0x2fd921=_0x252d93,_0x2189a5=_0x4da789,_0x268f3a=0xf0;let _0x4e7942=_0x4da789[_0x2fd921(0x1dd)];const _0x29a907=generateBlinkingText(_0x388d85,{'x':0x0,'y':0x0,'width':_0x741a6b[_0x2fd921(0x217)],'height':_0x741a6b[_0x2fd921(0x198)],'fontSize':0x40,'backgroundColor':_0x4da789[_0x2fd921(0x2cc)],'fontColor':_0x2fd921(0x236),'halfPeriodMS':0x3e8});while(_0x4e7942>0x0){_0x4da789[_0x2fd921(0x255)](),_0x4da789['playCountdownBlinking']?(_0x10b7d3['playSound'](_0x10b7d3[_0x2fd921(0x202)]),_0x29a907[_0x2fd921(0x1a2)](_0x4e7942[_0x2fd921(0x2f7)](),_0x268f3a),await sleep(0x3b6),_0x29a907['stop'](),await sleep(0x32)):(_0x10b7d3['playSound'](_0x10b7d3[_0x2fd921(0x202)]),_0x519d9a(_0x4e7942['toString'](),_0x2189a5,_0x268f3a),await sleep(0x3e8)),_0x4e7942--;}_0x10b7d3[_0x2fd921(0x279)](_0x10b7d3[_0x2fd921(0x2d7)]),_0x15da5a[_0x2fd921(0x2e1)](_0x5988fc[_0x2fd921(0x238)]),_0x492490['emit'](_0x2fd921(0x201));}),_0x492490['on'](_0x252d93(0x1ce),()=>{});const _0x4d032f='none',_0x182ce1=_0x252d93(0x1c0),_0x1a46c1=_0x252d93(0x2b0);_0x5988fc['getClickedCard']=(_0x29e357,_0x2df940)=>{const _0x4dd87a=_0x252d93;return _0x5988fc[_0x4dd87a(0x2bb)][_0x4dd87a(0x1f3)](_0x56c301=>{return _0x56c301['x1']<=_0x29e357&&_0x29e357<=_0x56c301['x2']&&_0x56c301['y1']<=_0x2df940&&_0x2df940<=_0x56c301['y2'];});},_0x5988fc['cardClickedCallback']=_0x2939e8=>{const _0x40ab92=_0x252d93;if(_0x5988fc[_0x40ab92(0x1fa)]===_0x1a46c1){const _0x3b122b=_0x5988fc['getClickedCard'](_0x2939e8[_0x40ab92(0x261)],_0x2939e8[_0x40ab92(0x2d9)]);if(_0x3b122b){const _0x5190a5=Date[_0x40ab92(0x1c5)]()-_0x5988fc['startTimestamp'];_0x5988fc[_0x40ab92(0x1fa)]=_0x182ce1,_0x741a6b[_0x40ab92(0x1d0)]('click',_0x5988fc[_0x40ab92(0x179)]);const _0x14799d=_0x3b122b['id'],_0x1695f0=_0x3b122b==_0x5988fc[_0x40ab92(0x169)];_0x1695f0?_0x4da789[_0x40ab92(0x285)]():_0x4da789['showNG'](),_0x492490['emit'](_0x40ab92(0x25d),{'currentTag':_0x5988fc[_0x40ab92(0x169)]?.[_0x40ab92(0x167)],'userName':_0x4ebf34[_0x40ab92(0x190)],'action':_0x40ab92(0x2a5),'correct':_0x1695f0,'cardId':_0x14799d,'takenTimeMS':_0x5190a5}),!_0x1695f0&&_0x10b7d3['playSound'](_0x10b7d3['ngSound']);}}else{}},_0x492490['on']('next_card',_0x5ba854=>{const _0x3ff403=_0x252d93,_0x28ba99=_0x5988fc[_0x3ff403(0x2bb)][_0x3ff403(0x1f3)](_0x31e954=>_0x31e954[_0x3ff403(0x167)]===_0x5ba854[_0x3ff403(0x18c)]);_0x5988fc[_0x3ff403(0x169)]=_0x28ba99,_0x5988fc[_0x3ff403(0x2df)]=Date[_0x3ff403(0x1c5)](),_0x5988fc[_0x3ff403(0x1fa)]=_0x1a46c1,_0x15da5a['show'](_0x5988fc[_0x3ff403(0x238)]),_0x4da789['show'](),_0x10b7d3[_0x3ff403(0x279)](_0x5988fc[_0x3ff403(0x169)][_0x3ff403(0x220)]),_0x211a7a[_0x3ff403(0x21c)]&&console[_0x3ff403(0x1e6)]('次',_0x5988fc['currentCard']['id'],_0x5988fc[_0x3ff403(0x169)][_0x3ff403(0x231)],_0x5988fc[_0x3ff403(0x169)]),clearInterval(_0x5988fc[_0x3ff403(0x2ad)]),_0x741a6b[_0x3ff403(0x1d0)](_0x3ff403(0x2a5),_0x5988fc['cardClickedCallback']),_0x741a6b[_0x3ff403(0x1eb)](_0x3ff403(0x2a5),_0x5988fc[_0x3ff403(0x179)]);}),_0x492490['on'](_0x252d93(0x211),_0x18fb2c=>{const _0x38b7db=_0x252d93,_0x41ebef=_0x18fb2c['currentTag'];if(_0x41ebef!==_0x5988fc[_0x38b7db(0x169)]?.[_0x38b7db(0x167)])return;if(_0x5988fc[_0x38b7db(0x1fa)]===_0x1a46c1&&_0x18fb2c['minTakenTimeMS']){const _0x2cfb0e=Date['now']()-_0x5988fc[_0x38b7db(0x2df)];_0x2cfb0e>_0x18fb2c[_0x38b7db(0x1a7)]?(_0x741a6b['removeEventListener'](_0x38b7db(0x2a5),_0x5988fc[_0x38b7db(0x179)]),_0x492490['emit'](_0x38b7db(0x25d),{'currentTag':_0x5988fc[_0x38b7db(0x169)]?.[_0x38b7db(0x167)],'userName':_0x4ebf34[_0x38b7db(0x190)],'action':'timeup'})):_0x5988fc[_0x38b7db(0x2ad)]=setInterval(()=>{const _0x1dff13=_0x38b7db;_0x41ebef===_0x5988fc[_0x1dff13(0x169)]?.[_0x1dff13(0x167)]&&_0x5988fc['cardPhaseAct']===_0x1a46c1&&_0x18fb2c[_0x1dff13(0x1a7)]&&(_0x741a6b[_0x1dff13(0x1d0)](_0x1dff13(0x2a5),_0x5988fc[_0x1dff13(0x179)]),_0x492490[_0x1dff13(0x222)](_0x1dff13(0x25d),{'currentTag':_0x5988fc['currentCard']?.[_0x1dff13(0x167)],'userName':_0x4ebf34[_0x1dff13(0x190)],'action':_0x1dff13(0x1ff)}));},_0x4da789['checkTimeupIntervalMS']);}_0x15da5a[_0x38b7db(0x26e)](_0x18fb2c['actionResults']);}),_0x492490['on'](_0x252d93(0x275),async _0x5c2fc9=>{const _0x6f2247=_0x252d93;if(_0x5c2fc9[_0x6f2247(0x2a2)]['currentTag']!==_0x5988fc[_0x6f2247(0x169)]?.[_0x6f2247(0x167)])return;_0x5988fc[_0x6f2247(0x169)][_0x6f2247(0x220)]['pause']();if(_0x4ebf34[_0x6f2247(0x190)]===_0x5c2fc9[_0x6f2247(0x2a2)][_0x6f2247(0x1f8)])_0x10b7d3[_0x6f2247(0x279)](_0x10b7d3[_0x6f2247(0x1ac)]),_0x4da789['showOK']();else{if(_0x5c2fc9[_0x6f2247(0x2a2)][_0x6f2247(0x1f8)])_0x10b7d3['playSound'](_0x10b7d3['takenSound']),_0x4da789[_0x6f2247(0x2d3)](_0x5c2fc9[_0x6f2247(0x2a2)]['winnerUserName']+_0x6f2247(0x2cd));else _0x5c2fc9['actionResults']['every'](_0x301b75=>_0x301b75[_0x6f2247(0x1a1)]===![])?(_0x10b7d3['playSound'](_0x10b7d3['allngSound']),_0x4da789[_0x6f2247(0x2d3)](_0x6f2247(0x26d))):(_0x10b7d3['playSound'](_0x10b7d3[_0x6f2247(0x20e)]),_0x4da789[_0x6f2247(0x2d3)]('次'));}_0x5988fc[_0x6f2247(0x238)]=_0x5c2fc9,_0x15da5a['show'](_0x5c2fc9,!![]);if(_0x5c2fc9['card']['winnerUserName']){const _0x317d27=_0x5988fc['displayCards'][_0x6f2247(0x2bd)](_0x1db917=>_0x1db917['id']===_0x5c2fc9[_0x6f2247(0x2a2)][_0x6f2247(0x2b5)]);_0x5988fc[_0x6f2247(0x2bb)][_0x6f2247(0x25e)](_0x317d27,0x1);}await sleep(_0x4da789[_0x6f2247(0x298)]),_0x492490['emit'](_0x6f2247(0x201));}),_0x492490['on'](_0x252d93(0x250),_0x55ed7c=>{const _0x2111ba=_0x252d93;{_0x5988fc[_0x2111ba(0x1fa)]=_0x4d032f,_0x5988fc[_0x2111ba(0x169)]={};}{_0x10b7d3[_0x2111ba(0x26c)](_0x10b7d3[_0x2111ba(0x24f)]);}{_0x211a7a[_0x2111ba(0x15f)][_0x2111ba(0x2cc)]&&_0x4da789[_0x2111ba(0x255)](_0x211a7a[_0x2111ba(0x15f)][_0x2111ba(0x2cc)]);const _0x36fd36=_0x10b7d3[_0x2111ba(0x248)];if(_0x36fd36){const _0x179a39=Math[_0x2111ba(0x221)](_0x4da789[_0x2111ba(0x217)]/_0x36fd36['width'],_0x4da789[_0x2111ba(0x198)]/_0x36fd36[_0x2111ba(0x198)]),_0x1450b6=_0x36fd36['width']*_0x179a39,_0xdf8183=_0x36fd36[_0x2111ba(0x198)]*_0x179a39;_0x388d85[_0x2111ba(0x22f)](),_0x388d85[_0x2111ba(0x1b8)]=_0x211a7a[_0x2111ba(0x15f)][_0x2111ba(0x2d2)],_0x388d85['drawImage'](_0x36fd36,(_0x4da789[_0x2111ba(0x217)]-_0x1450b6)/0x2,(_0x4da789['height']-_0xdf8183)/0x2,_0x1450b6,_0xdf8183),_0x388d85[_0x2111ba(0x280)]();}}{const _0x41a28d=_0x55ed7c[_0x2111ba(0x1af)],_0x4e9bc7=_0x211a7a[_0x2111ba(0x1bb)],_0x336ff1={};{const _0x335c1a=0x3,_0x39e897=_0x4e9bc7[_0x2111ba(0x17b)],_0x4408ef=_0x4e9bc7[_0x2111ba(0x2a7)][_0x2111ba(0x239)],_0x4d848b=_0x4e9bc7[_0x2111ba(0x2a7)][_0x2111ba(0x2dc)],_0x50529e=_0x4e9bc7['letterCount'][_0x2111ba(0x1c6)],_0xd00a0c=_0x4e9bc7['letterCount'][_0x2111ba(0x15b)],_0xb68db5=_0x4da789[_0x2111ba(0x217)]*_0x4e9bc7[_0x2111ba(0x2b1)],[_0x3194bd,_0x1ac920,_0x57d0b9,_0x1eab7e]=((()=>{const _0x2946db=_0x2111ba,_0x3b995b=_0x755a20=>{const _0x5937cc=_0x58d7;_0x388d85[_0x5937cc(0x22f)](),_0x388d85[_0x5937cc(0x195)]=_0x755a20+_0x5937cc(0x16c);const _0x2e3a73=_0x41a28d[_0x5937cc(0x1d5)](_0x36ed8c=>_0x388d85[_0x5937cc(0x1bc)](_0x36ed8c[_0x5937cc(0x190)])[_0x5937cc(0x217)])[_0x5937cc(0x19f)]((_0x29588c,_0x116e68)=>Math[_0x5937cc(0x288)](_0x29588c,_0x116e68));_0x388d85['restore']();const _0x13a907=(_0x4408ef+0x1+0x1+_0x4408ef+0x1+_0x4408ef)*_0x755a20+(_0x4d848b+_0x50529e+_0xd00a0c)*_0x755a20*_0x4e9bc7[_0x5937cc(0x241)]+_0x2e3a73+(0x1+_0x335c1a)*_0x39e897,_0x46047a=_0x755a20*_0x4e9bc7['lineHeightRate']*_0x41a28d[_0x5937cc(0x194)]+(0x1+_0x335c1a)*_0x39e897;return{'width':_0x13a907,'height':_0x46047a,'userNameWidth':_0x2e3a73};},_0x1bf91e=_0x4e9bc7[_0x2946db(0x28c)],_0x1b6952=_0x3b995b(_0x1bf91e),_0x275920=Math[_0x2946db(0x221)](_0xb68db5/_0x1b6952[_0x2946db(0x217)],_0x4da789[_0x2946db(0x198)]/_0x1b6952[_0x2946db(0x198)]);if(_0x275920>=0x1)return[_0x1bf91e,_0x1b6952[_0x2946db(0x217)],_0x1b6952[_0x2946db(0x198)],_0x1b6952['userNameWidth']];const _0x5db678=_0x1bf91e*_0x275920,_0x1e8bd6=_0x3b995b(_0x5db678);return[_0x5db678,_0x1e8bd6[_0x2946db(0x217)],_0x1e8bd6[_0x2946db(0x198)],_0x1e8bd6['userNameWidth']];})());_0x336ff1[_0x2111ba(0x1be)]=_0x3194bd,_0x336ff1[_0x2111ba(0x2eb)]=_0x3194bd*_0x4e9bc7[_0x2111ba(0x241)],_0x336ff1[_0x2111ba(0x217)]=_0x1ac920,_0x336ff1[_0x2111ba(0x198)]=_0x57d0b9,_0x336ff1['userNameWidth']=_0x1eab7e,_0x336ff1[_0x2111ba(0x261)]=_0x4da789['x']+(_0x4da789[_0x2111ba(0x217)]-_0x1ac920)/0x2,_0x336ff1[_0x2111ba(0x2d9)]=_0x4da789['y']+(_0x4da789[_0x2111ba(0x198)]-_0x57d0b9)/0x2;const _0xe19976=_0x336ff1[_0x2111ba(0x261)]+_0x39e897;_0x336ff1['textStartY']=_0x336ff1[_0x2111ba(0x2d9)]+_0x39e897*_0x335c1a,_0x336ff1[_0x2111ba(0x1cd)]=_0x3194bd*_0x4e9bc7[_0x2111ba(0x1da)],_0x336ff1[_0x2111ba(0x274)]=_0x4408ef*_0x3194bd,_0x336ff1[_0x2111ba(0x2ab)]=_0x4d848b*_0x336ff1['unitFontSize'],_0x336ff1['correctUnitTextWidth']=_0x50529e*_0x336ff1[_0x2111ba(0x2eb)],_0x336ff1[_0x2111ba(0x1ef)]=_0xd00a0c*_0x336ff1['unitFontSize'];const _0xf0ba57=_0x3194bd,_0x3213e8=_0x3194bd*_0x4e9bc7[_0x2111ba(0x24b)];let _0x38f248=0x0;_0x336ff1[_0x2111ba(0x1f6)]=_0x38f248+=_0xe19976+_0x336ff1['numberTextWidth'],_0x336ff1['rankUnitTextLeftX']=_0x38f248+=_0x3213e8,_0x336ff1['userNameTextLeftX']=_0x38f248+=_0x336ff1['rankUnitTextWidth']+_0xf0ba57,_0x336ff1[_0x2111ba(0x188)]=_0x38f248+=_0x336ff1[_0x2111ba(0x1aa)]+_0xf0ba57+_0x336ff1[_0x2111ba(0x274)],_0x336ff1['correctUnitTextLeftX']=_0x38f248+=_0x3213e8,_0x336ff1['wrongTextRightX']=_0x38f248+=_0x336ff1[_0x2111ba(0x214)]+_0xf0ba57+_0x336ff1[_0x2111ba(0x274)],_0x336ff1[_0x2111ba(0x160)]=_0x38f248+=_0x3213e8;const _0x4e4cc4=0x2*_0x39e897;_0x336ff1[_0x2111ba(0x22c)]=_0x336ff1[_0x2111ba(0x261)]+_0x4e4cc4,_0x336ff1[_0x2111ba(0x189)]=_0x1ac920-0x2*_0x4e4cc4,_0x336ff1[_0x2111ba(0x16e)]=_0x3194bd*(0x1+_0x4e9bc7[_0x2111ba(0x1f7)]);}_0x388d85[_0x2111ba(0x22f)](),_0x388d85['globalAlpha']=_0x4e9bc7[_0x2111ba(0x2e4)],roundedRect(_0x388d85,_0x336ff1['offsetX'],_0x336ff1[_0x2111ba(0x2d9)],_0x336ff1[_0x2111ba(0x217)],_0x336ff1['height'],_0x336ff1['fontSize']*_0x4e9bc7[_0x2111ba(0x183)],_0x4e9bc7[_0x2111ba(0x2cc)]),_0x388d85[_0x2111ba(0x1b8)]=0x1,_0x388d85[_0x2111ba(0x25a)]=_0x4e9bc7[_0x2111ba(0x2e6)],_0x388d85[_0x2111ba(0x1ee)]=_0x2111ba(0x184);let _0x11306d=_0x336ff1[_0x2111ba(0x2ce)];_0x41a28d[_0x2111ba(0x2ae)](_0x5ca351=>{const _0x422412=_0x2111ba;_0x388d85[_0x422412(0x1d3)]=_0x5ca351[_0x422412(0x190)]===_0x4ebf34[_0x422412(0x190)]?_0x4e9bc7[_0x422412(0x2bc)]:_0x4e9bc7[_0x422412(0x2da)],_0x388d85[_0x422412(0x268)]=_0x422412(0x2a9),_0x388d85[_0x422412(0x195)]=_0x336ff1[_0x422412(0x2eb)]+_0x422412(0x16c),_0x388d85['fillText']('位',_0x336ff1[_0x422412(0x1ed)],_0x11306d,_0x336ff1[_0x422412(0x2ab)]),_0x388d85[_0x422412(0x200)]('枚取得',_0x336ff1[_0x422412(0x1c4)],_0x11306d,_0x336ff1[_0x422412(0x214)]),_0x388d85[_0x422412(0x200)](_0x422412(0x15d),_0x336ff1[_0x422412(0x160)],_0x11306d,_0x336ff1[_0x422412(0x1ef)]),_0x388d85['font']=_0x336ff1[_0x422412(0x1be)]+_0x422412(0x16c),_0x388d85[_0x422412(0x200)](_0x5ca351['userName'],_0x336ff1['userNameTextLeftX'],_0x11306d,_0x336ff1[_0x422412(0x1aa)]),_0x388d85[_0x422412(0x195)]=_0x336ff1[_0x422412(0x1be)]+_0x422412(0x16c),_0x388d85['textAlign']=_0x422412(0x2de),_0x388d85[_0x422412(0x200)](''+_0x5ca351[_0x422412(0x1f9)],_0x336ff1[_0x422412(0x1f6)],_0x11306d,_0x336ff1[_0x422412(0x274)]),_0x388d85[_0x422412(0x200)](''+_0x5ca351[_0x422412(0x1a1)],_0x336ff1[_0x422412(0x188)],_0x11306d,_0x336ff1['numberTextWidth']),_0x388d85[_0x422412(0x200)](''+_0x5ca351[_0x422412(0x28d)],_0x336ff1['wrongTextRightX'],_0x11306d,_0x336ff1['numberTextWidth']),_0x388d85[_0x422412(0x292)](_0x336ff1['splitLineStartX'],_0x11306d+_0x336ff1[_0x422412(0x16e)],_0x336ff1[_0x422412(0x189)],0x0),_0x11306d+=_0x336ff1[_0x422412(0x1cd)];}),_0x388d85[_0x2111ba(0x280)]();}{_0x5988fc[_0x2111ba(0x1d2)]=async _0x2d384d=>{const _0x2dfa89=_0x2111ba,_0x123cca=await showConfirmTextDialog('待機部屋へ戻りますか？');_0x123cca&&(clearInterval(_0x5988fc[_0x2dfa89(0x2ad)]),_0x741a6b[_0x2dfa89(0x1d0)](_0x2dfa89(0x2a5),_0x5988fc[_0x2dfa89(0x1d2)]),_0x492490[_0x2dfa89(0x222)](_0x2dfa89(0x23c)));},_0x741a6b[_0x2111ba(0x1eb)](_0x2111ba(0x2a5),_0x5988fc[_0x2111ba(0x1d2)]);}});})(getInitValues());
    
    
    function getInitValues() {
      return {
        defaultValues: {
          userName: '',
          roomName: 'room1',
        },
        
        playmat: {
          marginMax: 40,
          marginTopRate : 0.03,
          marginLeftRate: 0.03,
        },
        rankingArea: {
          maxWidthRate: 0.8,
          margin: 10,
          radiusFontSizeRate: 0.8,
          defaultFontSize: 24,
          unitFontSizeRate: 1, // 値を変えると textBaseline の調整が必要となる
          unitMarginRate: 0.2,
          lineHeightRate: 1.8,
          letterCount: {
            number     : 2,
            rankUnit   : 1,
            correctUnit: 2.5,
            wrongUnit  : 2.5,
          },
          fontColor: '#111111',
          myUserFontColor: '#2222FF',
          backgroundAlpha: 0.925,
          backgroundColor: '#EEEEEE',
          splitLineColor: '#FFFFFF',
          splitLinePaddingRate: 0.3,
        },
        progressArea: {
          // カード枚数が3桁行かないことを前提にしている
          width: 250,
          margin: 8,
          fontSize: 24,
          lineHeightRate: 1.6,
          numberTextWidth: 50,
          actLogFontSizeRate: 0.875,
          actLogMargin: 16,
          fontColor: '#000000',
          myUserFontColor: '#2222FF',
          otherUserFontColor: '#000000',
          backgroundColor: '#cccccc',
          splitLineColor: '#efefef',
        },
        playArea: {
          playCountdownLength: 3,
          playCountdownBlinking: true,
          backgroundColor: '#efefef',
          checkTimeupIntervalMS: 250,
          waitCardResultEffectMS: 1200,
          notation: {
            maskAreaMarginRate: 0.05, // 情報表示のための黒塗りマスクを出す際のマージン。概ね 1 - rate * 2 がマスクの画面に占める割合
            maskAreaAlpha: 0.50,
            maskAreaColor: '#000000',
            messageBackgroundColor: '#FFFFFF',
            messageFontColor: '#000000',
            effectOKColor: '#FF2222',
            effectNGColor: '#CCCC00',
            effectAlpha: 0.80,
          },
        },
        soundSettings: {
          voiceVolume: 1.00,
          effectVolume: 0.50,
          okSoundPath: 'res/ok.mp3',
          ngSoundPath: 'res/ng.mp3',
          allngSoundPath: 'res/allng.mp3',
          takenSoundPath: 'res/taken.mp3',
          nextSoundPath: 'res/next.mp3',
          countdown1SoundPath: 'res/countdown1.mp3',
          countdown2SoundPath: 'res/countdown2.mp3',
        },
        endCardSettings: {
          backgroundColor: '#000000',
        },
        
        cardSettings: {
          rateForContent: 0.9,
          origWidth :  900, // カルタ画像は全てこの origWidth,origHeight の比率と同じものとする
          origHeight: 1200,
          borderSize: 15,
          borderColor: '#660066',
        },
        ///debug: true,
      };
    }
  </script>
</body>
</html>
