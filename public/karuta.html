<!DOCTYPE html>
<html lang='ja'>
<head>
  <meta charset="utf-8">
  <title>かるた 対戦版</title>
  <style>
    body {
      font-size: 1rem;
      margin: 0;
      padding: 0;
    }
    
    h1 {
      font-size: 2.5rem;
    }
    
    #loadingMessage {
      margin: 8px;
    }
    #loginArea {
      margin: 8px;
      display: none;
    }
    #roomArea {
      margin: 8px;
      display: none;
    }
    #mainArea {
      display: none;
    }
    
    
    #loginInputs, #roomInputs {
      margin-left: 2rem;
      margin-bottom: 5rem;
    }
    
    #loginInputs div {
      display: flex;
      padding: 0.5rem;
    }
    #loginInputs label {
      width: 6rem;
      padding-right: 0.5rem;
    }
    #loginInputs button {
      width: 4rem;
    }
    #loginInputs input {
      width: 21rem;
    }
    #loginInputs * {
      font-size: 1.4rem;
      vertical-align: middle;
    }
    
    #roomInputs * {
      font-size: 1.4rem;
    }
    #memberList th {
      min-width: 6rem;
    }
    #memberList th,
    #memberList td {
      height: 2.8rem;
    }
    #memberList td.my-name {
      color: #0000FF;
    }
    #memberList td:nth-child(2) {
      min-width: 21rem;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    #memberList td:nth-child(1),#memberList td:nth-child(3) {
      text-align: center;
    }
    
    #startPlayButtonArea {
      margin-top: 1.4rem;
    }
    
    
    .help-list {
      font-size: 1rem;
    }
    
    #loginButtonMessage {
      color: #FF0000;
      margin-left: 1rem;
    }
    
    input[type='number'] {
      text-align: right;
      width: 6rem;
    }
    
    footer {
      margin-top: 3rem;
      margin-left: 8px;
      padding-top: 0.5rem;
      border-top: solid 2px #cccccc;
    }
  </style>
</head>

<body>
  <div id='loadingMessage'>
    <p>ファイル読み込み中...</p>
    <p>どれだけ待っても読み込みが終了しない場合は、エラーや通信失敗が発生している可能性があります。<br />画面をリロードしたり、時間を置いてやり直すなど試してください</p>
  </div>
  <div id='loginArea'>
    <h1>かるた</h1>
    
    <div id='loginInputs'>
      <div>
        <label for='userName'>ユーザ名</label>
        <input id='userName' type='text' placeholder='' />
      </div>
      <div>
        <label for='roomName'>部屋名</label>
        <input id='roomName' type='text' placeholder='' />
      </div>
      <div>
        <button id='loginButton'>入室</button>
        <span id='loginButtonMessage'></span>
      </div>
    </div>
    
    <ul class='help-list'>
      <li><div>ver: <span id="version"></span></div></li>
      <li>このかるたは対戦ゲーム専用です</li>
      <li>完全に同一の部屋名を指定して入室した、他のユーザと対戦できます</li>
      <li>同じ部屋に同じ名前のユーザは複数入室できません</li>
      <li>ゲームプレイ中の部屋には入室できません</li>
    </ul>
    
    <footer></footer>
  </div>
  <div id='roomArea'>
    <h2>待機部屋</h2>
    
    <div id='roomInputs'>
      <table id='memberList' border='1' cellpadding='4 cellspacing='0'>
        <caption>参加者</caption>
        <thead> <tr> <th>ホスト</th> <th>ユーザ名</th> <th>操作</th> </tr> </thead>
        <tbody></tbody>
      </table>
      <button id='logoutButton'>退室</button>
      <div id='startPlayButtonArea'>
        <label> 使用するカード枚数：<input type='number' id='useCardCount' step='1' /> （<span id='cardCountRange'></span>）</label>
        <br />
        <button id='startPlayButton'>開始</button>
      </div>
    </div>
    
    <ul class='help-list'>
      <li>この画面のヘルプ<ul>
        <li>ホストユーザのみが開始できます</li>
        <li>ホストユーザは同室ユーザ内で一番早くログインしているユーザに自動で切り替わります</li>
        <li>ユーザが２人以上入室していないと開始できません</li>
        <li>ホストユーザのみがゲームで使用するカード枚数を選択できます（2 ～ 存在するカード枚数まで）</li>
      </ul></li>
      <li>ゲーム画面のヘルプ<ul>
        <li>ゲーム開始後は、画面サイズ変更により配置・札の表示サイズの調整などはできません</li>
        <li>ブラウザの表示サイズや参加ユーザ数によっては、表示の乱れやはみ出しが起こる場合があります</li>
        <li>ゲームのプレイにはブラウザからの音声出力が必須です</li>
        <li>ゲーム終了後に画面をクリックで待機部屋に戻れます（ホストユーザの操作では、全ユーザが強制的に戻ります）</li>
        <li>ゲーム中にネットワーク切断などでユーザが退出した場合、強制的にゲーム全体が終了となります</li>
      </ul></li>
      <li>ゲームのルール<ul>
        <li>ネットワーク遅延を考慮し、『各環境で読み上げ開始から最も早く正答したユーザ』が札を取れるものとします</li>
        <li>お手付きした札はそのまま場に置かれたままとなります（お手付きの回数のみ、最終順位に影響します）</li>
        <li>お手付きした際は、次の札に進むまで操作できません</li>
        <li>全員がお手付きした際は、次の札に進みゲームを続けます。誰かが札を取るまで何度も同じ札が読み上げられる場合があります</li>
        <li>最後の 1 枚は連打勝負になってしまうため、残り 1 枚になった時点で終了とします</li>
        <li>最終順位は『手札が多かった順 → 同数ならばお手付きが少なかった順』で決定します</li>
      </ul></li>
      <li>ゲーム観戦機能はサポートしていません。<br />普通に観戦してクリック操作しない、とういやり方で観戦はできますが、自分以外全員お手付きの場合には、操作しないとゲームが進まなくなります。<br />（2 人以上が観戦しているとややこしいことになります）</li>
    </ul>
  </div>
  <div id='mainArea'>
    <canvas id='mainCanvas'></canvas>
  </div>
  <textarea style='display:none;' id='messageLog' cols='80' rows='12'></textarea>
  
  <script type='text/javascript' src='js/socket.io.min.js'></script>
  <script type='text/javascript'>
    const AppVersion = "0.4.0";
    
    // ここから
const _0x30520b=_0x3f7a;(function(_0x1335e4,_0x5c07b6){const _0xb2f5a3=_0x3f7a,_0x512171=_0x1335e4();while(!![]){try{const _0x47193c=parseInt(_0xb2f5a3(0x17f))/0x1*(-parseInt(_0xb2f5a3(0x2a4))/0x2)+parseInt(_0xb2f5a3(0x2b1))/0x3*(parseInt(_0xb2f5a3(0x2cf))/0x4)+-parseInt(_0xb2f5a3(0x19b))/0x5+-parseInt(_0xb2f5a3(0x178))/0x6*(parseInt(_0xb2f5a3(0x2a9))/0x7)+parseInt(_0xb2f5a3(0x2e0))/0x8+-parseInt(_0xb2f5a3(0x1cf))/0x9+parseInt(_0xb2f5a3(0x251))/0xa;if(_0x47193c===_0x5c07b6)break;else _0x512171['push'](_0x512171['shift']());}catch(_0x15b059){_0x512171['push'](_0x512171['shift']());}}}(_0x2ae9,0x5d7d2),(document['querySelector']('#version')??{})[_0x30520b(0x278)]=AppVersion);function loadSyncImage(_0x48b35d){return new Promise((_0x579f5f,_0x1c6789)=>{const _0x4a296b=_0x3f7a;let _0xd24e0b=new Image();_0xd24e0b[_0x4a296b(0x271)]=()=>_0x579f5f(_0xd24e0b),_0xd24e0b[_0x4a296b(0x1f6)]=_0x1053f0=>_0x1c6789(_0x1053f0),_0xd24e0b['src']=_0x48b35d;});}function loadSyncAudio(_0xc8be52){return new Promise((_0x34dba2,_0x2360bb)=>{const _0x4f0ff=_0x3f7a,_0x3ff98d=new Audio();_0x3ff98d['onloadeddata']=()=>_0x34dba2(_0x3ff98d),_0x3ff98d[_0x4f0ff(0x24d)]=_0x4e5a49=>_0x2360bb(_0x4e5a49),_0x3ff98d[_0x4f0ff(0x20a)]=_0xc8be52;});}function newElem(_0x5c5778,_0x307fd9=[],_0x13bec0=[],_0x39b8c3={}){const _0x19ef88=_0x30520b,_0x43e091=document[_0x19ef88(0x2ec)](_0x5c5778);return _0x13bec0[_0x19ef88(0x16f)]>0x0&&_0x43e091[_0x19ef88(0x2e8)][_0x19ef88(0x2ce)](..._0x13bec0),Object[_0x19ef88(0x1eb)](_0x39b8c3)[_0x19ef88(0x309)](_0x2697ac=>{_0x43e091['setAttribute'](_0x2697ac,_0x39b8c3[_0x2697ac]);}),_0x307fd9['forEach'](_0x58fbcb=>{const _0x2791f5=_0x19ef88;typeof _0x58fbcb===_0x2791f5(0x1b8)?_0x43e091[_0x2791f5(0x2ae)](document[_0x2791f5(0x1c1)](_0x58fbcb)):_0x43e091[_0x2791f5(0x2ae)](_0x58fbcb);}),_0x43e091;}function _0x2ae9(){const _0x14048b=['userNameRx','actionResults','start_play','card','createTextNode','click','currentTime','beforeArray','cardId','target','nextSound','lineHeightRate','measureText','borderSize','isOwner','tag','action','correctCountLx','5356818wDWDnS','nextSoundPath','setAttribute','px\x20sans-serif','ownerUserName','showOK','origWidth','parentElement','#mainCanvas','title','winnerUserName','splitLineStartX','reason','finish_play','#useCardCount','#FFFFFF','noLabel','size','userResults','removeEventListener','getBoundingClientRect','beforeObject','toString','checkTimeupIntervalMS','rank','Tab','referenceHTML','textStartY','getOwnPropertyNames','プレイ中の部屋は入室できません...\x27','pageOptions','indexOf','div','maskShortSize','#startPlayButton','onStringValue','#startPlayButtonArea','value','colCount','eonerror','textBaseline','#loadingMessage','altKey','contextmenu','firstChild','onNullOrUndefined','任意のテキスト','object','parse','boolean','effectAlpha','getComputedStyle','trim','不正な入力値...','maskAreaColor','offsetX','userNameTextLeftX','arcTo','card_phase_update_actinfo','src','actLogTextWidth','canvas','playmat','お手付き','footer','showActLog','maskHeight','タグ不整合...tag:','memberList','halfPeriodMS','afterObjectItem','keydown','wrongTextRightX','flex','takenSound','boxSizing','maskMargin','initializeWaitingRoom','fukidashiTailSize','show','middle','splitLineWidth','#mainArea','afterArrayItem','#memberList','#loginArea','takenSoundPath','pause','font','replace','correct','space-around','endCardSettings','shiftKey','onBooleanValue','5px\x2030px\x2010px','modeChangeToLogin','unitMarginRate','actLogTextLx','showNG','shift','unitFontSize','countdown2Sound','has','marginTop','localStorage','beginPath','onSymbolValue','imgAlpha','addEventListener','myUserFontColor','総数：','rankUnitTextLeftX','待機部屋へ戻りますか？','playArea','prepare_play','rankingArea','splitLineColor','keypress','20px','backgroundColor','floor','every','#cardCountRange','voiceVolume','currentCard','onerror','body','setItem','#userName','13504850SJhlZH','style','radiusFontSizeRate','beforeObjectItem','game_end','playCountdownBlinking','strokeRect','all_ready_play','onFunction','showData','mainArea','set','left','waitCardResultEffectMS','allngSound','total','correctUnit','removeAttribute','lineHeight','height','zIndex','#loginButtonMessage','scrollTo','joinroom_duplicated_usename','effectNGColor','log','start\x20loadResources','width','card_phase_card_result','karuta','margin','useCardCount','onload','permitted','maskOn','returnConfirmCallback','ngSound','concat','-lastInputValues','textContent','justifyContent','save','userName','focus','assign','flat','px\x20','paramscript','blur','emit','100%','maxlength','marginBottom','stop','countdown1Sound','arc','modeChangeToPlay','#000000','afterObject','focusable','soundSettings','marginMax','全員お手付き','splice','none','top','next_card','actLogMargin','Enter','correctUnitTextWidth','isNaN','origHeight','maskWidth','connect','beforeArrayItem','playCountdownLength','cardSettings','innerWidth','countdown1SoundPath','lineTo','button','originalCards','paramScript','358Yxujfb','actLogFontSizeRate','stringify','Cancel','modeChangeToRoom','3351145YKJDZt','marginLeft','sqrt','globalAlpha','correctTextRightX','appendChild','defaultIsYes','letterCount','137679cUuAld','rankUnitTextWidth','max','now','user_disconnect_in_game','#logoutButton','maskAreaAlpha','ceil','imgPath','rowCount','endCardImg','key','fontFamily','defaultFontSize','metaKey','opacity','loop','userNameWidth','cardHeight','solid\x20#DDDDDD\x203px','#memberList\x20>\x20tbody','innerHeight','playSound','result','debug','roomArea','wrongUnitTextLeftX','restore','notation','add','4uvAtYG','onValue','cardClickedCallback','同室内でのユーザ名重複...(ユーザ：\x27','stopPropagation','countdown2SoundPath','ready_next_card','joinroom_room_is_full','checkTimeupIntervalID','wrongUnitTextWidth','block','moveTo','pre-line','userNameMaxLength','okSoundPath','correctCountRx','cardRowMargin','4152128wGmfOe','marginTopRate','showLoginErrorMessage','appId','querySelector','displayCards','timeup','wrong','classList','offsetY','from','border','createElement','fontColor','currentY','border-box','splitLineOffsetY','filter','roomName','function','decideCardsSize','endY','bigint','backgroundAlpha','ngSoundPath','progressArea','card_phase_acted','soundPath','correctUnitTextLeftX','right','leave_room','showMask','mode','strokeStyle','isComposing','dataId','parent','test','start','fillStyle','center','forEach','positionElement','allngSoundPath','\x20が札を取得','actLineHeight','startTimestamp','finish\x20loadResources','SQRT2','userNumber','ctrlKey','textAlign','length','cardPhaseAct','count','display','find','onNumberValue','#roomName','unitFontSizeRate','showMessage','6GbMljc','reduce','removeChild','wrongCountRx','\x27,\x20部屋名：\x27','fontSize','loginArea','2239zyUFFC','playOrNop','number','textStartX','volume','okSound','currentTag','tagSeq','fillRect','play','preventDefault','error','initialize','fontText','cards','minTakenTimeMS','all_ready_next_card','centerY','exitUserName','user','cardWidth','rankTextRightX','ready_play','fillText','部屋が満員です...\x27','[sec]','lastShowData','isFinite','288730LjAoaF','sound','fill','placeholder','disabled','onBigIntValue','get','insertAdjacentHTML','messageBackgroundColor','getContext','padding','wrongUnit','0px','undefined','numberTextWidth','borderColor','isArray','clear','残り：','endX','cardColMargin','to_waiting_room','map','join_room','#loginButton','rankUnit','messageFontColor','splitLinePaddingRate','rateForContent','string','maxWidthRate','min','scrollX','all'];_0x2ae9=function(){return _0x14048b;};return _0x2ae9();}const newRandomArray=_0x443edc=>{const _0x1489be=_0x30520b,_0x42f76a=Array[_0x1489be(0x2ea)](_0x443edc);for(let _0x2bede3=_0x42f76a[_0x1489be(0x16f)]-0x1;_0x2bede3>=0x0;_0x2bede3--){const _0x709e60=Math[_0x1489be(0x248)](Math['random']()*(_0x2bede3+0x1));[_0x42f76a[_0x2bede3],_0x42f76a[_0x709e60]]=[_0x42f76a[_0x709e60],_0x42f76a[_0x2bede3]];}return _0x42f76a;},parseFloatOr=(_0x4f9d25,_0x1b3ed5)=>{const _0x135912=_0x30520b,_0x1b0107=parseFloat(_0x4f9d25);return Number[_0x135912(0x297)](_0x1b0107)?_0x1b3ed5:_0x1b0107;},sleep=_0x121bef=>{return new Promise(_0x27cbc5=>setTimeout(_0x27cbc5,_0x121bef));},generateBlinkingText=(_0x153234,_0x4ceb8c)=>{let _0x51aa52=![];const _0x456898=(_0xbbffd2,_0x2b986b,_0x5b010c)=>{const _0x52a9a5=_0x3f7a,_0x216a87=Number[_0x52a9a5(0x19a)](_0x5b010c)&&_0x5b010c>0x0?_0x5b010c:_0x4ceb8c[_0x52a9a5(0x17d)];let _0xa42761=_0x216a87+_0x52a9a5(0x1d2);const _0x58432a=Math[_0x52a9a5(0x248)](_0x4ceb8c['x']+_0x4ceb8c['width']/0x2),_0x44f2fc=Math[_0x52a9a5(0x248)](_0x4ceb8c['y']+_0x4ceb8c[_0x52a9a5(0x264)]/0x2),_0x2bfeb9=_0x28ae90=>{const _0x308911=_0x52a9a5,_0x22d90c=Math['floor'](_0x28ae90/_0x4ceb8c[_0x308911(0x214)]),_0x1a330e=(_0x28ae90-_0x22d90c*_0x4ceb8c[_0x308911(0x214)])/_0x4ceb8c['halfPeriodMS'],_0xb82b1c=_0x22d90c%0x2===0x0;_0xbbffd2[_0x308911(0x27a)](),_0xbbffd2['globalAlpha']=0x1,_0xbbffd2[_0x308911(0x307)]=_0x4ceb8c[_0x308911(0x247)],_0xbbffd2['fillRect'](_0x4ceb8c['x'],_0x4ceb8c['y'],_0x4ceb8c[_0x308911(0x26c)],_0x4ceb8c[_0x308911(0x264)]),_0xbbffd2[_0x308911(0x227)]=_0xa42761,_0xbbffd2['textAlign']=_0x308911(0x308),_0xbbffd2['textBaseline']=_0x308911(0x21f),_0xbbffd2[_0x308911(0x307)]=_0x4ceb8c['fontColor'],_0xbbffd2[_0x308911(0x2ac)]=_0xb82b1c?_0x1a330e:0x1-_0x1a330e,_0xbbffd2[_0x308911(0x196)](_0x2b986b,_0x58432a,_0x44f2fc),_0xbbffd2['restore'](),_0x51aa52&&requestAnimationFrame(_0x2bfeb9);};return _0x2bfeb9;};return{'start':(_0x3113ef,_0x302189)=>{_0x51aa52=!![],requestAnimationFrame(_0x456898(_0x153234,_0x3113ef,_0x302189));},'stop':()=>{_0x51aa52=![];}};};function showConfirmTextDialog(_0x4dd75a,_0x41daed){const _0x4b398f=_0x30520b,_0x29c191=newElem('p',[_0x4dd75a]);return _0x29c191['style']['whiteSpace']=_0x4b398f(0x2db),showConfirmDialog(_0x29c191,_0x41daed);}function showConfirmDialog(_0x3ca6ea,_0x5732e0){const _0x51156e=_0x30520b;_0x5732e0=Object[_0x51156e(0x27d)]({'baseElement':document[_0x51156e(0x24e)],'focusable':![],'yesLabel':'OK','noLabel':_0x51156e(0x2a7),'defaultIsYes':!![],'positionElement':window},_0x5732e0);const _0x4891a0=_0x5732e0['baseElement'],_0x1b6fdf=_0x5732e0[_0x51156e(0x28c)],_0x41ede9=_0x5732e0['yesLabel'],_0x3d6078=_0x5732e0[_0x51156e(0x1df)],_0x2e4aa8=_0x5732e0[_0x51156e(0x2af)],_0x57eced=_0x5732e0[_0x51156e(0x30a)],_0x32ec80=_0x3d6078==='',_0x3d782e=newElem(_0x51156e(0x2a1),[_0x41ede9]),_0x153998=newElem(_0x51156e(0x2a1),[_0x3d6078]);_0x32ec80&&(_0x153998['style'][_0x51156e(0x172)]=_0x51156e(0x291));const _0x4fb8a4=_0x32ec80?[_0x3d782e]:[_0x3d782e,_0x153998],_0x49ada1=newElem('div',_0x4fb8a4),_0x392211=newElem(_0x51156e(0x1ef),[_0x3ca6ea,newElem('hr'),_0x49ada1],['confirmDialog']),_0x5dcbbd=newElem('div'),_0x52622d=0xf423f;_0x392211[_0x51156e(0x252)]['position']='fixed',_0x392211[_0x51156e(0x252)][_0x51156e(0x265)]=_0x52622d,_0x392211[_0x51156e(0x252)]['minWidth']='240px',_0x392211[_0x51156e(0x252)][_0x51156e(0x21a)]=_0x51156e(0x2ef),_0x392211[_0x51156e(0x252)][_0x51156e(0x2eb)]=_0x51156e(0x2c4),_0x392211[_0x51156e(0x252)]['borderRadius']=_0x51156e(0x246),_0x392211[_0x51156e(0x252)]['margin']=0x0,_0x392211[_0x51156e(0x252)][_0x51156e(0x1a5)]=_0x51156e(0x22e),_0x392211[_0x51156e(0x252)][_0x51156e(0x247)]='#FFFFFF',_0x49ada1[_0x51156e(0x252)]['display']=_0x51156e(0x218),_0x49ada1['style'][_0x51156e(0x279)]=_0x51156e(0x22a),_0x5dcbbd[_0x51156e(0x252)]['position']='fixed',_0x5dcbbd[_0x51156e(0x252)][_0x51156e(0x265)]=_0x52622d-0x1,_0x5dcbbd[_0x51156e(0x252)]['top']=0x0,_0x5dcbbd[_0x51156e(0x252)][_0x51156e(0x25d)]=0x0,_0x5dcbbd['style'][_0x51156e(0x26c)]=_0x51156e(0x283),_0x5dcbbd[_0x51156e(0x252)][_0x51156e(0x264)]=_0x51156e(0x283),_0x5dcbbd[_0x51156e(0x252)][_0x51156e(0x2eb)]='0px',_0x5dcbbd[_0x51156e(0x252)][_0x51156e(0x1a5)]=_0x51156e(0x1a7),_0x5dcbbd['style'][_0x51156e(0x26f)]='0px',_0x5dcbbd['style'][_0x51156e(0x247)]=_0x51156e(0x28a),_0x5dcbbd[_0x51156e(0x252)][_0x51156e(0x2c0)]=0.3;!_0x3ca6ea[_0x51156e(0x252)][_0x51156e(0x26f)]&&!_0x3ca6ea[_0x51156e(0x252)]['marginTop']&&!_0x3ca6ea['style'][_0x51156e(0x285)]&&(_0x3ca6ea[_0x51156e(0x252)][_0x51156e(0x26f)]='12px\x200');const _0x2a3dc8=function(_0x4b9d0d){const _0x5952c1=_0x51156e,_0x4f5518=_0x4b9d0d[0x0],_0x51fa11=_0x4b9d0d[_0x4b9d0d[_0x5952c1(0x16f)]-0x1],_0x4f594f=[_0x51fa11,_0x4b9d0d,_0x4f5518][_0x5952c1(0x27e)]();return _0x26582c=>{const _0x1c4284=_0x5952c1;if(_0x26582c[_0x1c4284(0x2bc)]===_0x1c4284(0x1e8)&&!_0x26582c[_0x1c4284(0x1f9)]&&!_0x26582c[_0x1c4284(0x16d)]&&!_0x26582c['metaKey']){_0x26582c[_0x1c4284(0x2d3)](),_0x26582c[_0x1c4284(0x189)]();const _0x26b97f=_0x4f594f[_0x1c4284(0x1ee)](_0x26582c[_0x1c4284(0x1c6)],0x1);_0x26b97f===-0x1?(_0x26582c[_0x1c4284(0x22c)]?_0x51fa11:_0x4f5518)[_0x1c4284(0x27c)]():_0x4f594f[_0x26b97f+(_0x26582c[_0x1c4284(0x22c)]?-0x1:0x1)][_0x1c4284(0x27c)]();}else _0x26582c[_0x1c4284(0x2bc)]==='Escape'&&!_0x26582c['altKey']&&!_0x26582c[_0x1c4284(0x16d)]&&!_0x26582c[_0x1c4284(0x22c)]&&!_0x26582c[_0x1c4284(0x2bf)]&&(_0x26582c[_0x1c4284(0x2d3)](),_0x26582c[_0x1c4284(0x189)](),_0x153998[_0x1c4284(0x1c2)]());};},_0x48285d=Array[_0x51156e(0x1ab)](_0x1b6fdf)?_0x1b6fdf[_0x51156e(0x276)](_0x4fb8a4):_0x4fb8a4,_0x54b5ff=_0x2a3dc8(_0x48285d);_0x48285d['concat'](_0x392211,_0x5dcbbd)[_0x51156e(0x309)](_0x1bfb80=>{const _0x1e5720=_0x51156e;_0x1bfb80[_0x1e5720(0x23c)]('keydown',_0x54b5ff),_0x1bfb80[_0x1e5720(0x23c)](_0x1e5720(0x245),_0x54b5ff);}),_0x4891a0['appendChild'](_0x5dcbbd),_0x4891a0[_0x51156e(0x2ae)](_0x392211);const _0x44ff96=window[_0x51156e(0x202)](_0x392211),_0x4f7827=_0x57eced===window?{'width':window[_0x51156e(0x29e)],'height':window[_0x51156e(0x2c6)]}:_0x57eced[_0x51156e(0x1e3)]();return _0x392211[_0x51156e(0x252)][_0x51156e(0x292)]=(_0x4f7827[_0x51156e(0x264)]-parseInt(_0x44ff96[_0x51156e(0x264)],0xa))/0x2+'px',_0x392211['style'][_0x51156e(0x25d)]=(_0x4f7827['width']-parseInt(_0x44ff96[_0x51156e(0x26c)],0xa))/0x2+'px',_0x32ec80||_0x2e4aa8?_0x3d782e[_0x51156e(0x27c)]():_0x153998[_0x51156e(0x27c)](),new Promise((_0x280570,_0x9b1a3e)=>{const _0x1961b2=_0x51156e;_0x3d782e['addEventListener'](_0x1961b2(0x1c2),()=>{const _0x1b1ebb=_0x1961b2;_0x4fb8a4[_0x1b1ebb(0x309)](_0x13b876=>_0x13b876['setAttribute']('disabled',_0x1b1ebb(0x19f))),_0x4891a0[_0x1b1ebb(0x17a)](_0x5dcbbd),_0x4891a0[_0x1b1ebb(0x17a)](_0x392211),_0x280570(!![]);}),_0x153998[_0x1961b2(0x23c)](_0x1961b2(0x1c2),()=>{const _0x26145e=_0x1961b2;_0x4fb8a4[_0x26145e(0x309)](_0x4f0b80=>_0x4f0b80[_0x26145e(0x1d1)](_0x26145e(0x19f),_0x26145e(0x19f))),_0x4891a0[_0x26145e(0x17a)](_0x5dcbbd),_0x4891a0[_0x26145e(0x17a)](_0x392211),_0x280570(![]);});});}function drawDonutsCircle(_0x32757b,_0x34f3a1,_0x2ebdbb,_0x8f8012,_0x36429e){const _0x51fe9=_0x30520b;_0x32757b[_0x51fe9(0x27a)](),_0x32757b[_0x51fe9(0x239)](),_0x32757b[_0x51fe9(0x288)](_0x34f3a1,_0x2ebdbb,_0x8f8012-0x2*_0x36429e,0x0,0x2*Math['PI'],!![]),_0x32757b[_0x51fe9(0x288)](_0x34f3a1,_0x2ebdbb,_0x8f8012,0x0,0x2*Math['PI'],![]),_0x32757b[_0x51fe9(0x19d)](),_0x32757b[_0x51fe9(0x2cc)]();}function drawRoundedXMark(_0x4f4832,_0xd30d47,_0x52d762,_0x2cb3e5,_0x56ac41){const _0x4e44bc=_0x30520b,_0x20df49=_0x56ac41,_0x5ee141=_0x20df49/Math[_0x4e44bc(0x16b)],_0x24397f=_0x5ee141*0x2,_0x22368b=_0xd30d47-_0x2cb3e5,_0x250173=_0xd30d47,_0x549795=_0xd30d47+_0x2cb3e5,_0x6fce6=_0x52d762-_0x2cb3e5,_0x30e222=_0x52d762,_0x421ff2=_0x52d762+_0x2cb3e5;_0x4f4832[_0x4e44bc(0x27a)](),_0x4f4832['beginPath'](),_0x4f4832[_0x4e44bc(0x2da)](_0x22368b+_0x24397f,_0x6fce6),_0x4f4832['lineTo'](_0x250173,_0x30e222-_0x24397f),_0x4f4832['lineTo'](_0x549795-_0x24397f,_0x6fce6),_0x4f4832['arc'](_0x549795-_0x5ee141,_0x6fce6+_0x5ee141,_0x20df49,Math['PI']*0x5/0x4,Math['PI']*0x9/0x4),_0x4f4832[_0x4e44bc(0x2a0)](_0x549795,_0x6fce6+_0x24397f),_0x4f4832[_0x4e44bc(0x2a0)](_0x250173+_0x24397f,_0x30e222),_0x4f4832[_0x4e44bc(0x2a0)](_0x549795,_0x421ff2-_0x24397f),_0x4f4832['arc'](_0x549795-_0x5ee141,_0x421ff2-_0x5ee141,_0x20df49,Math['PI']*0x7/0x4,Math['PI']*0xb/0x4),_0x4f4832[_0x4e44bc(0x2a0)](_0x549795-_0x24397f,_0x421ff2),_0x4f4832[_0x4e44bc(0x2a0)](_0x250173,_0x30e222+_0x24397f),_0x4f4832[_0x4e44bc(0x2a0)](_0x22368b+_0x24397f,_0x421ff2),_0x4f4832[_0x4e44bc(0x288)](_0x22368b+_0x5ee141,_0x421ff2-_0x5ee141,_0x20df49,Math['PI']*0x1/0x4,Math['PI']*0x5/0x4),_0x4f4832['lineTo'](_0x22368b,_0x421ff2-_0x24397f),_0x4f4832[_0x4e44bc(0x2a0)](_0x250173-_0x24397f,_0x30e222),_0x4f4832['lineTo'](_0x22368b,_0x6fce6+_0x24397f),_0x4f4832[_0x4e44bc(0x288)](_0x22368b+_0x5ee141,_0x6fce6+_0x5ee141,_0x20df49,Math['PI']*0x3/0x4,Math['PI']*0x7/0x4),_0x4f4832[_0x4e44bc(0x19d)](),_0x4f4832[_0x4e44bc(0x2cc)]();}function roundedRect(_0xba42b8,_0x6a8e50,_0x4ea905,_0x1d0675,_0x286f62,_0x5a06a2,_0x2d9179=_0x30520b(0x1de)){const _0x382f7b=_0x30520b;_0xba42b8[_0x382f7b(0x27a)](),_0xba42b8[_0x382f7b(0x301)]=_0x2d9179,_0xba42b8[_0x382f7b(0x307)]=_0x2d9179,_0xba42b8[_0x382f7b(0x239)](),_0xba42b8[_0x382f7b(0x2da)](_0x6a8e50,_0x4ea905+_0x5a06a2),_0xba42b8[_0x382f7b(0x2a0)](_0x6a8e50,_0x4ea905+_0x286f62-_0x5a06a2),_0xba42b8[_0x382f7b(0x208)](_0x6a8e50,_0x4ea905+_0x286f62,_0x6a8e50+_0x5a06a2,_0x4ea905+_0x286f62,_0x5a06a2),_0xba42b8['lineTo'](_0x6a8e50+_0x1d0675-_0x5a06a2,_0x4ea905+_0x286f62),_0xba42b8[_0x382f7b(0x208)](_0x6a8e50+_0x1d0675,_0x4ea905+_0x286f62,_0x6a8e50+_0x1d0675,_0x4ea905+_0x286f62-_0x5a06a2,_0x5a06a2),_0xba42b8[_0x382f7b(0x2a0)](_0x6a8e50+_0x1d0675,_0x4ea905+_0x5a06a2),_0xba42b8[_0x382f7b(0x208)](_0x6a8e50+_0x1d0675,_0x4ea905,_0x6a8e50+_0x1d0675-_0x5a06a2,_0x4ea905,_0x5a06a2),_0xba42b8[_0x382f7b(0x2a0)](_0x6a8e50+_0x5a06a2,_0x4ea905),_0xba42b8[_0x382f7b(0x208)](_0x6a8e50,_0x4ea905,_0x6a8e50,_0x4ea905+_0x5a06a2,_0x5a06a2),_0xba42b8['fill'](),_0xba42b8[_0x382f7b(0x2cc)]();}function toRelativeName(_0xcf09d){const _0x3cb13d=_0x30520b;return/:\/\//['test'](_0xcf09d)?_0xcf09d:/^[.\/]/[_0x3cb13d(0x305)](_0xcf09d)?_0xcf09d:'./'+_0xcf09d;}function _0x3f7a(_0x105dac,_0x38fba2){const _0x2ae9d8=_0x2ae9();return _0x3f7a=function(_0x3f7afa,_0x4005d5){_0x3f7afa=_0x3f7afa-0x167;let _0x4ada3a=_0x2ae9d8[_0x3f7afa];return _0x4ada3a;},_0x3f7a(_0x105dac,_0x38fba2);}function getDir(_0x4212a9){const _0x50e764=_0x30520b;return _0x4212a9[_0x50e764(0x228)](/[^/]+$/,'');}const treatObjectRec=(_0x2f9a78,_0x42974f)=>{const _0x5579ef=_0x30520b,_0x51c56d=_0x1c9dab=>_0x1c9dab!==null&&typeof _0x1c9dab===_0x5579ef(0x1fe)&&!Array[_0x5579ef(0x1ab)](_0x1c9dab);if(_0x51c56d(_0x2f9a78)){const _0x5026fb={'parent':_0x2f9a78};return _0x42974f[_0x5579ef(0x1e4)]?.(_0x2f9a78,_0x5026fb),Object['getOwnPropertyNames'](_0x2f9a78)[_0x5579ef(0x309)](_0x236c19=>{const _0x22d5ba=_0x5579ef;_0x42974f[_0x22d5ba(0x254)]?.(_0x2f9a78[_0x236c19],_0x236c19,_0x5026fb);const _0x1e8086=treatObjectRec(_0x2f9a78[_0x236c19],_0x42974f);_0x42974f[_0x22d5ba(0x215)]?.(_0x2f9a78[_0x236c19],_0x236c19,_0x5026fb,_0x1e8086);}),_0x42974f[_0x5579ef(0x28b)]?.(_0x2f9a78,_0x5026fb)??_0x2f9a78;}else{if(Array[_0x5579ef(0x1ab)](_0x2f9a78)){const _0x30ac88={'parent':_0x2f9a78};return _0x42974f[_0x5579ef(0x1c4)]?.(_0x2f9a78,_0x30ac88),_0x2f9a78[_0x5579ef(0x309)]((_0x5bdfa2,_0x1b962e)=>{const _0x588eb1=_0x5579ef;_0x42974f[_0x588eb1(0x29b)]?.(_0x5bdfa2,_0x1b962e,_0x30ac88);const _0x35e58c=treatObjectRec(_0x5bdfa2,_0x42974f);_0x42974f[_0x588eb1(0x222)]?.(_0x5bdfa2,_0x1b962e,_0x30ac88,_0x35e58c);}),_0x42974f['afterArray']?.(_0x2f9a78,_0x30ac88)??_0x2f9a78;}else{if(typeof _0x2f9a78===_0x5579ef(0x2f3))return _0x42974f[_0x5579ef(0x259)]?.(_0x2f9a78)??_0x2f9a78;else{if(typeof _0x2f9a78===_0x5579ef(0x200))return(_0x42974f[_0x5579ef(0x22d)]??_0x42974f[_0x5579ef(0x2d0)])?.(_0x2f9a78)??_0x2f9a78;else{if(typeof _0x2f9a78===_0x5579ef(0x181))return(_0x42974f[_0x5579ef(0x174)]??_0x42974f[_0x5579ef(0x2d0)])?.(_0x2f9a78)??_0x2f9a78;else{if(typeof _0x2f9a78===_0x5579ef(0x2f6))return(_0x42974f[_0x5579ef(0x1a0)]??_0x42974f[_0x5579ef(0x2d0)])?.(_0x2f9a78)??_0x2f9a78;else{if(typeof _0x2f9a78===_0x5579ef(0x1b8))return(_0x42974f[_0x5579ef(0x1f2)]??_0x42974f[_0x5579ef(0x2d0)])?.(_0x2f9a78)??_0x2f9a78;else{if(typeof _0x2f9a78==='symbol')return(_0x42974f[_0x5579ef(0x23a)]??_0x42974f[_0x5579ef(0x2d0)])?.(_0x2f9a78)??_0x2f9a78;else{if(typeof _0x2f9a78===_0x5579ef(0x1a8)||_0x2f9a78===null)return(_0x42974f[_0x5579ef(0x1fc)]??_0x42974f[_0x5579ef(0x2d0)])?.(_0x2f9a78)??_0x2f9a78;}}}}}}}}},deepAssign=(_0x44cc19,..._0x3eddc0)=>{const _0x200703=_0x30520b,_0x1ea27e=(_0xb743a3,_0xa8cfba)=>{let _0xc1f436=_0xb743a3;return treatObjectRec(_0xa8cfba,{'beforeObject':(_0x2135f0,_0xc46049)=>{const _0x19c02a=_0x3f7a;_0xc46049[_0x19c02a(0x2c8)]=_0xc1f436??{};},'beforeObjectItem':(_0x59343c,_0x156822,_0x92a2fd,_0x1dd97d)=>{const _0x3de631=_0x3f7a;_0xc1f436=_0x92a2fd[_0x3de631(0x2c8)][_0x156822];},'afterObjectItem':(_0x59c5e3,_0x3370b9,_0x36e2ae,_0x57c942)=>{const _0x17616e=_0x3f7a;_0x36e2ae[_0x17616e(0x2c8)][_0x3370b9]=_0x57c942;},'afterObject':(_0x5ae5bd,_0xf5509d)=>{const _0x15af39=_0x3f7a;return _0xf5509d[_0x15af39(0x2c8)];},'beforeArray':(_0xbf89e,_0x41f1f7)=>{_0x41f1f7['result']=[];},'beforeArrayItem':(_0x4e842b,_0x999306,_0x53a8a5)=>{_0xc1f436={};},'afterArrayItem':(_0x40e57f,_0x15258f,_0x209f6e,_0x15c563)=>{const _0x2f8fdd=_0x3f7a;_0x209f6e[_0x2f8fdd(0x2c8)][_0x15258f]=_0x15c563;},'afterArray':(_0x58f8f7,_0x97bceb)=>{const _0x126ab9=_0x3f7a;return _0x97bceb[_0x126ab9(0x2c8)];}});},_0x394d16=_0x559fff=>_0x559fff!==null&&typeof _0x559fff===_0x200703(0x1fe)&&!Array['isArray'](_0x559fff);return(_0x3eddc0??[])[_0x200703(0x179)]((_0xf9b299,_0x3e6691)=>{return _0x394d16(_0x3e6691)?_0x1ea27e(_0xf9b299,_0x3e6691):_0xf9b299;},_0x44cc19);};(async _0x1d07c1=>{const _0x4ecef5=_0x30520b;{const _0x4dee43=new URL(window['location'])['searchParams'];_0x4dee43[_0x4ecef5(0x236)](_0x4ecef5(0x2c9))&&(_0x1d07c1[_0x4ecef5(0x2c9)]=!![]);{const _0x23cc24=[_0x4ecef5(0x2a3),_0x4ecef5(0x280),'ps']['map'](_0x21c55b=>_0x4dee43[_0x4ecef5(0x1a1)](_0x21c55b))['find'](_0x11d39a=>_0x11d39a)||_0x1d07c1['paramScriptName'];if(_0x23cc24){const _0x527336=(await import(toRelativeName(_0x23cc24)))['default'],_0x414c0c=getDir(_0x23cc24);/\/$/[_0x4ecef5(0x305)](_0x414c0c)&&treatObjectRec(_0x527336,{'afterObjectItem':(_0x528152,_0x2add17,_0x3e7463)=>{const _0x50a6f3=_0x4ecef5;typeof _0x528152==='string'&&/path$/i[_0x50a6f3(0x305)](_0x2add17)&&(_0x3e7463[_0x50a6f3(0x304)][_0x2add17]=_0x414c0c+_0x528152);}}),_0x1d07c1=deepAssign({},_0x1d07c1,_0x527336);}}_0x1d07c1[_0x4ecef5(0x2c9)]&&console['log']('初期パラメータ',_0x1d07c1);}const _0x5d39be=(_0x1d07c1[_0x4ecef5(0x2e3)]??_0x4ecef5(0x26e))+_0x4ecef5(0x277),_0x4bb6b3={'isOwner':![],'mode':_0x4ecef5(0x17e),'userName':null,'roomName':null},_0x41adba={'originalCards':_0x1d07c1[_0x4ecef5(0x18d)]},_0x5c6523={'loaded':![],'playOrNop':_0x3323e5=>{const _0x1ac485=_0x4ecef5;_0x3323e5&&(_0x3323e5[_0x1ac485(0x1c3)]=0x0,_0x3323e5[_0x1ac485(0x188)]?.());},'playSound':_0x1b414a=>{const _0x59eda4=_0x4ecef5;_0x1b414a['currentTime']=0x0,_0x1b414a[_0x59eda4(0x188)]?.();}},_0x333584={};{_0x1d07c1[_0x4ecef5(0x1ed)][_0x4ecef5(0x1d8)]&&(document[_0x4ecef5(0x1d8)]=_0x1d07c1[_0x4ecef5(0x1ed)]['title'],(document[_0x4ecef5(0x2e4)]('h1')??{})[_0x4ecef5(0x278)]=_0x1d07c1[_0x4ecef5(0x1ed)][_0x4ecef5(0x1d8)]),_0x1d07c1['pageOptions'][_0x4ecef5(0x1e9)]&&document['querySelector'](_0x4ecef5(0x20f))[_0x4ecef5(0x1a2)]('afterbegin',_0x1d07c1[_0x4ecef5(0x1ed)][_0x4ecef5(0x1e9)]);}{const _0x4d39a8=window[_0x4ecef5(0x238)]?JSON[_0x4ecef5(0x1ff)](window[_0x4ecef5(0x238)]['getItem'](_0x5d39be)):null,_0x496399=(_0x49b498,_0x42c9ea)=>_0x4d39a8?.[_0x49b498]??_0x42c9ea,_0x5e73c1=document[_0x4ecef5(0x2e4)](_0x4ecef5(0x1f8)),_0x54d528=document[_0x4ecef5(0x2e4)](_0x4ecef5(0x224)),_0x7ae752=document[_0x4ecef5(0x2e4)]('#roomArea'),_0x74275f=document['querySelector'](_0x4ecef5(0x221)),_0x51dada=document['querySelector'](_0x4ecef5(0x1f3));_0x333584[_0x4ecef5(0x22f)]=()=>{const _0x2a270f=_0x4ecef5;_0x4bb6b3['mode']='loginArea',_0x5e73c1[_0x2a270f(0x252)][_0x2a270f(0x172)]=_0x2a270f(0x291),_0x54d528[_0x2a270f(0x252)][_0x2a270f(0x172)]=_0x2a270f(0x2d9),_0x7ae752[_0x2a270f(0x252)][_0x2a270f(0x172)]=_0x2a270f(0x291),_0x74275f['style'][_0x2a270f(0x172)]='none',_0xc979dd[_0x2a270f(0x27c)]();},_0x333584['modeChangeToRoom']=()=>{const _0x47ad27=_0x4ecef5;_0x4bb6b3[_0x47ad27(0x300)]='roomArea',_0x5e73c1[_0x47ad27(0x252)]['display']=_0x47ad27(0x291),_0x54d528[_0x47ad27(0x252)][_0x47ad27(0x172)]=_0x47ad27(0x291),_0x7ae752[_0x47ad27(0x252)][_0x47ad27(0x172)]=_0x47ad27(0x2d9),_0x74275f[_0x47ad27(0x252)][_0x47ad27(0x172)]=_0x47ad27(0x291),_0x122ca4[_0x47ad27(0x278)]='';},_0x333584[_0x4ecef5(0x289)]=()=>{const _0x33dda4=_0x4ecef5;_0x4bb6b3['mode']=_0x33dda4(0x25b),_0x5e73c1[_0x33dda4(0x252)]['display']='none',_0x54d528[_0x33dda4(0x252)]['display']='none',_0x7ae752[_0x33dda4(0x252)]['display']='none',_0x74275f[_0x33dda4(0x252)][_0x33dda4(0x172)]=_0x33dda4(0x2d9);};const _0x380f31=document[_0x4ecef5(0x2e4)](_0x4ecef5(0x223)),_0x26d4e3=document[_0x4ecef5(0x2e4)](_0x4ecef5(0x2c5)),_0x34429c=document[_0x4ecef5(0x2e4)](_0x4ecef5(0x1b3)),_0x1dce78=document[_0x4ecef5(0x2e4)](_0x4ecef5(0x2b6)),_0x3f9236=document[_0x4ecef5(0x2e4)](_0x4ecef5(0x1dd)),_0x50e679=document[_0x4ecef5(0x2e4)](_0x4ecef5(0x24a)),_0x17d252=document['querySelector'](_0x4ecef5(0x1f1)),_0xc979dd=document[_0x4ecef5(0x2e4)](_0x4ecef5(0x250)),_0x3a4db9=document[_0x4ecef5(0x2e4)](_0x4ecef5(0x175)),_0x122ca4=document[_0x4ecef5(0x2e4)](_0x4ecef5(0x266));_0xc979dd['setAttribute'](_0x4ecef5(0x19e),_0x4ecef5(0x1fd)),_0x3a4db9[_0x4ecef5(0x1d1)](_0x4ecef5(0x19e),_0x4ecef5(0x1fd)),_0xc979dd[_0x4ecef5(0x23c)](_0x4ecef5(0x216),_0x34bc55=>{const _0x5c6650=_0x4ecef5;!_0x34bc55['isComposing']&&_0x34bc55[_0x5c6650(0x2bc)]==='Enter'&&_0x3a4db9['focus']();}),_0x3a4db9[_0x4ecef5(0x23c)](_0x4ecef5(0x216),_0x5d84c5=>{const _0x593252=_0x4ecef5;!_0x5d84c5[_0x593252(0x302)]&&_0x5d84c5[_0x593252(0x22c)]&&_0x5d84c5['key']===_0x593252(0x295)&&_0xc979dd['focus'](),!_0x5d84c5[_0x593252(0x302)]&&!_0x5d84c5[_0x593252(0x22c)]&&_0x5d84c5[_0x593252(0x2bc)]===_0x593252(0x295)&&_0x34429c['focus']();}),_0xc979dd['value']=_0x496399(_0x4ecef5(0x27b),_0x1d07c1['defaultValues'][_0x4ecef5(0x27b)]),_0x3a4db9[_0x4ecef5(0x1f4)]=_0x496399(_0x4ecef5(0x2f2),_0x1d07c1['defaultValues'][_0x4ecef5(0x2f2)]);const _0x5b6f15=_0x48f9f2=>{const _0x4425ed=_0x4ecef5;_0x4bb6b3[_0x4425ed(0x2f2)]=_0x3a4db9['value'][_0x4425ed(0x203)](),_0x4bb6b3[_0x4425ed(0x27b)]=_0xc979dd['value'][_0x4425ed(0x203)](),window[_0x4425ed(0x238)]&&window['localStorage'][_0x4425ed(0x24f)](_0x5d39be,JSON[_0x4425ed(0x2a6)]({'roomName':_0x4bb6b3[_0x4425ed(0x2f2)],'userName':_0x4bb6b3[_0x4425ed(0x27b)]})),_0x1ad675['emit'](_0x4425ed(0x1b2),{'appId':_0x1d07c1[_0x4425ed(0x2e3)],'dataId':_0x1d07c1[_0x4425ed(0x303)],'roomName':_0x4bb6b3[_0x4425ed(0x2f2)],'userName':_0x4bb6b3[_0x4425ed(0x27b)]});};_0x34429c[_0x4ecef5(0x23c)]('click',_0x5b6f15),_0x1dce78[_0x4ecef5(0x23c)](_0x4ecef5(0x1c2),_0x46949c=>{const _0x21f5e9=_0x4ecef5;_0x1ad675[_0x21f5e9(0x282)](_0x21f5e9(0x2fe),{});});const _0x26747b=0x2;_0x3f9236['addEventListener'](_0x4ecef5(0x281),()=>{const _0x2d284f=_0x4ecef5,_0x193ed6=_0x5c6523[_0x2d284f(0x18d)][_0x2d284f(0x1e0)],_0x5e05ab=parseInt(_0x3f9236[_0x2d284f(0x1f4)],0x0),_0x4962e3=!Number['isInteger'](_0x5e05ab)?_0x193ed6:_0x5e05ab>_0x193ed6?_0x193ed6:_0x5e05ab<_0x26747b?_0x26747b:_0x5e05ab;_0x3f9236[_0x2d284f(0x1f4)]=_0x4962e3,_0x333584[_0x2d284f(0x270)]=_0x4962e3;}),_0x17d252[_0x4ecef5(0x23c)]('click',_0x167ed1=>{const _0xb9aff6=_0x4ecef5;_0x1ad675[_0xb9aff6(0x282)](_0xb9aff6(0x1bf),{'cards':_0x41adba['originalCards'],'useCardCount':_0x333584[_0xb9aff6(0x270)]});}),_0x333584[_0x4ecef5(0x21c)]=_0x122c73=>{const _0x122892=_0x4ecef5;_0x41adba[_0x122892(0x24c)]&&_0x41adba[_0x122892(0x24c)][_0x122892(0x19c)]?.[_0x122892(0x226)]?.();_0x1dce78[_0x122892(0x1d6)][_0x122892(0x17a)](_0x1dce78);while(_0x26d4e3[_0x122892(0x1fb)]){_0x26d4e3[_0x122892(0x17a)](_0x26d4e3[_0x122892(0x1fb)]);}const _0x24d674=_0x122c73[_0x122892(0x213)][_0x122892(0x1b1)](_0x4c4233=>{const _0x3a6c37=_0x122892;return newElem('tr',[newElem('td',_0x4c4233===_0x122c73[_0x3a6c37(0x1d3)]?['✔']:[]),newElem('td',[_0x4c4233],_0x4c4233===_0x4bb6b3[_0x3a6c37(0x27b)]?['my-name']:[]),newElem('td',_0x4c4233===_0x4bb6b3['userName']?[_0x1dce78]:[])]);})[_0x122892(0x179)]((_0xf633bf,_0x275d09)=>{const _0x2557bc=_0x122892;return _0xf633bf[_0x2557bc(0x2ae)](_0x275d09),_0xf633bf;},document['createDocumentFragment']());;_0x26d4e3[_0x122892(0x2ae)](_0x24d674),_0x4bb6b3['isOwner']=_0x122c73['ownerUserName']===_0x4bb6b3['userName'],_0x51dada['style'][_0x122892(0x172)]=_0x4bb6b3[_0x122892(0x1cb)]?_0x122892(0x2d9):'none';if(_0x4bb6b3[_0x122892(0x1cb)]){_0x3f9236[_0x122892(0x1ba)]=_0x26747b,_0x3f9236[_0x122892(0x2b3)]=_0x5c6523[_0x122892(0x18d)][_0x122892(0x1e0)];!_0x3f9236[_0x122892(0x1f4)]&&(_0x3f9236[_0x122892(0x1f4)]=_0x333584[_0x122892(0x270)]??_0x5c6523[_0x122892(0x18d)][_0x122892(0x1e0)]);const _0x3cd0cc=_0x3f9236[_0x122892(0x1ba)]+'～'+_0x3f9236['max'];_0x3f9236[_0x122892(0x19e)]=_0x3cd0cc,_0x50e679[_0x122892(0x278)]=_0x3cd0cc;}_0x122c73['memberList'][_0x122892(0x16f)]>=0x2?_0x17d252[_0x122892(0x262)](_0x122892(0x19f)):_0x17d252['setAttribute']('disabled',!![]),clearInterval(_0x41adba[_0x122892(0x2d7)]),_0x136a2e[_0x122892(0x1e2)](_0x122892(0x1c2),_0x41adba[_0x122892(0x2d1)]),_0x136a2e[_0x122892(0x1e2)]('click',_0x41adba[_0x122892(0x274)]);},_0x333584[_0x4ecef5(0x2e2)]=_0x3b7f0c=>{const _0x2658eb=_0x4ecef5;_0x122ca4[_0x2658eb(0x278)]=_0x3b7f0c;},_0x333584['onInitialize']=_0x1893cd=>{const _0x5f4f99=_0x4ecef5;_0xc979dd[_0x5f4f99(0x1d1)](_0x5f4f99(0x284),_0x1893cd[_0x5f4f99(0x2dc)]),_0xc979dd[_0x5f4f99(0x1d1)]('placeholder',_0x1893cd[_0x5f4f99(0x2dc)]+'文字以内の任意のテキスト'),_0x1d07c1[_0x5f4f99(0x2c9)]&&(_0xc979dd[_0x5f4f99(0x1f4)]=_0x5f4f99(0x192)+_0x1893cd[_0x5f4f99(0x16c)]);};}const _0x534fdb=async()=>{const _0x28a137=_0x4ecef5;if(_0x5c6523['loaded'])return;console[_0x28a137(0x26a)](_0x28a137(0x26b));const _0x33e2f5=await Promise[_0x28a137(0x1bc)]([_0x1d07c1['soundSettings'][_0x28a137(0x2dd)],_0x1d07c1[_0x28a137(0x28d)][_0x28a137(0x2f8)],_0x1d07c1['soundSettings'][_0x28a137(0x225)],_0x1d07c1[_0x28a137(0x28d)][_0x28a137(0x30b)],_0x1d07c1[_0x28a137(0x28d)][_0x28a137(0x1d0)],_0x1d07c1[_0x28a137(0x28d)][_0x28a137(0x29f)],_0x1d07c1[_0x28a137(0x28d)][_0x28a137(0x2d4)]]['map'](loadSyncAudio));_0x33e2f5[_0x28a137(0x309)](_0x216e81=>{const _0x2cdf50=_0x28a137;_0x216e81[_0x2cdf50(0x183)]=_0x1d07c1[_0x2cdf50(0x28d)]['effectVolume'];}),_0x5c6523[_0x28a137(0x184)]=_0x33e2f5[_0x28a137(0x233)](),_0x5c6523[_0x28a137(0x275)]=_0x33e2f5[_0x28a137(0x233)](),_0x5c6523[_0x28a137(0x219)]=_0x33e2f5[_0x28a137(0x233)](),_0x5c6523[_0x28a137(0x25f)]=_0x33e2f5[_0x28a137(0x233)](),_0x5c6523['nextSound']=_0x33e2f5[_0x28a137(0x233)](),_0x5c6523[_0x28a137(0x287)]=_0x33e2f5[_0x28a137(0x233)](),_0x5c6523['countdown2Sound']=_0x33e2f5['shift'](),_0x5c6523['endCardSound']=_0x1d07c1['endCardSettings'][_0x28a137(0x2fb)]?await loadSyncAudio(_0x1d07c1[_0x28a137(0x22b)][_0x28a137(0x2fb)]):null,_0x5c6523[_0x28a137(0x2bb)]=_0x1d07c1[_0x28a137(0x22b)][_0x28a137(0x2b9)]?await loadSyncImage(_0x1d07c1[_0x28a137(0x22b)]['imgPath']):null;const _0x55566c=_0x1d07c1[_0x28a137(0x18d)][_0x28a137(0x2f1)](_0x21c9fc=>_0x21c9fc[_0x28a137(0x2b9)]&&_0x21c9fc['soundPath']),_0x264a26=await Promise['all'](_0x55566c[_0x28a137(0x1b1)](_0x28c0a9=>_0x28c0a9[_0x28a137(0x2b9)])[_0x28a137(0x1b1)](loadSyncImage)),_0x2556b3=_0x264a26['map'](_0x42fc22=>{const _0x189433=_0x28a137,_0x5f03d7=document[_0x189433(0x2ec)](_0x189433(0x20c));_0x5f03d7[_0x189433(0x26c)]=_0x1d07c1[_0x189433(0x29d)]['origWidth']+0x2*_0x1d07c1[_0x189433(0x29d)][_0x189433(0x1ca)],_0x5f03d7[_0x189433(0x264)]=_0x1d07c1['cardSettings']['origHeight']+0x2*_0x1d07c1[_0x189433(0x29d)][_0x189433(0x1ca)];const _0x124369=_0x5f03d7[_0x189433(0x1a4)]('2d');return _0x124369[_0x189433(0x307)]=_0x1d07c1['cardSettings'][_0x189433(0x1aa)],_0x124369[_0x189433(0x187)](0x0,0x0,_0x5f03d7[_0x189433(0x26c)],_0x5f03d7[_0x189433(0x264)]),_0x124369['drawImage'](_0x42fc22,_0x1d07c1[_0x189433(0x29d)][_0x189433(0x1ca)],_0x1d07c1[_0x189433(0x29d)][_0x189433(0x1ca)],_0x1d07c1[_0x189433(0x29d)]['origWidth'],_0x1d07c1['cardSettings'][_0x189433(0x298)]),_0x5f03d7;}),_0x236ab2=await Promise[_0x28a137(0x1bc)](_0x55566c['map'](_0x34eb7a=>_0x34eb7a['soundPath'])[_0x28a137(0x1b1)](loadSyncAudio));_0x236ab2[_0x28a137(0x309)](_0x1d8d44=>{const _0x4a18ec=_0x28a137;_0x1d8d44[_0x4a18ec(0x2c1)]=!![],_0x1d8d44[_0x4a18ec(0x183)]=_0x1d07c1[_0x4a18ec(0x28d)][_0x4a18ec(0x24b)];}),_0x5c6523[_0x28a137(0x18d)]=new Map(),_0x55566c[_0x28a137(0x309)]((_0x3f5af0,_0x3a6ce0)=>{const _0x107264=_0x28a137;_0x5c6523[_0x107264(0x18d)][_0x107264(0x25c)](_0x3f5af0['id'],{'img':_0x2556b3[_0x3a6ce0],'sound':_0x236ab2[_0x3a6ce0]});}),_0x5c6523['loaded']=!![],_0x1d07c1['debug']?console[_0x28a137(0x26a)](_0x28a137(0x16a),_0x5c6523):console[_0x28a137(0x26a)](_0x28a137(0x16a));};await _0x534fdb();const _0x1ad675=io[_0x4ecef5(0x29a)]();_0x1ad675['on'](_0x4ecef5(0x18b),_0x2f4e67=>{_0x333584['onInitialize'](_0x2f4e67),_0x333584['modeChangeToLogin']();}),_0x1ad675['on']('joinroom_playing_now',_0x2c005a=>{const _0x18c568=_0x4ecef5;_0x333584['showLoginErrorMessage'](_0x18c568(0x1ec)+_0x2c005a[_0x18c568(0x2f2)]+'\x27');}),_0x1ad675['on'](_0x4ecef5(0x268),_0x3352cb=>{const _0x2da42a=_0x4ecef5;_0x333584['showLoginErrorMessage'](_0x2da42a(0x2d2)+_0x3352cb[_0x2da42a(0x27b)]+_0x2da42a(0x17c)+_0x3352cb[_0x2da42a(0x2f2)]+'\x27)');}),_0x1ad675['on'](_0x4ecef5(0x2d6),_0x1bbb6b=>{const _0x1fc00d=_0x4ecef5;_0x333584[_0x1fc00d(0x2e2)](_0x1fc00d(0x197)+_0x1bbb6b[_0x1fc00d(0x2f2)]+'\x27');}),_0x1ad675['on']('joinroom_invaid_parameter',_0x17a178=>{const _0x14cf6a=_0x4ecef5;_0x333584['showLoginErrorMessage'](_0x14cf6a(0x204)+_0x17a178[_0x14cf6a(0x1db)]);}),_0x1ad675['on']('room_member_list',_0x21388c=>{const _0x3bac60=_0x4ecef5;if(_0x4bb6b3['mode']==='loginArea')_0x333584[_0x3bac60(0x2a8)]();else{if(_0x4bb6b3[_0x3bac60(0x300)]===_0x3bac60(0x2ca)){}}_0x333584['initializeWaitingRoom'](_0x21388c);}),_0x1ad675['on']('leave_room_ok',_0x39f228=>{_0x333584['modeChangeToLogin']();}),_0x1ad675['on'](_0x4ecef5(0x2b5),async _0x1cc664=>{const _0x287f29=_0x4ecef5;await showConfirmTextDialog(_0x1cc664[_0x287f29(0x191)]+'\x20が部屋を抜けました。ゲームを終了します',{'noLabel':''}),_0x333584[_0x287f29(0x2a8)](),_0x333584['initializeWaitingRoom'](_0x1cc664);}),_0x1ad675['on'](_0x4ecef5(0x1b0),_0x48d1d5=>{const _0x44005c=_0x4ecef5;if(_0x4bb6b3[_0x44005c(0x300)]===_0x44005c(0x2ca))return;_0x333584['modeChangeToRoom'](),_0x333584[_0x44005c(0x21c)](_0x48d1d5);});const _0x136a2e=document[_0x4ecef5(0x2e4)](_0x4ecef5(0x1d7)),_0x3a9f9f=_0x136a2e[_0x4ecef5(0x1a4)]('2d'),_0x9d7f55=Object[_0x4ecef5(0x27d)]({},_0x1d07c1[_0x4ecef5(0x2f9)]),_0x2a693e=Object[_0x4ecef5(0x27d)]({},_0x1d07c1[_0x4ecef5(0x241)]),_0x2c71c6=_0x1d07c1[_0x4ecef5(0x20d)][_0x4ecef5(0x2bd)],_0x407ed8=()=>{const _0x3e64aa=_0x4ecef5;_0x3a9f9f[_0x3e64aa(0x307)]=_0x2a693e['backgroundColor'],_0x3a9f9f[_0x3e64aa(0x187)](0x0,0x0,_0x136a2e['width'],_0x136a2e['height']);},_0x4876dc={'progressAreaFontSize':_0x9d7f55[_0x4ecef5(0x17d)]},_0x1b933e=_0x5ee506=>{const _0x2cf444=_0x4ecef5;{const _0x18a3b3=Math[_0x2cf444(0x1ba)](Math[_0x2cf444(0x248)](window[_0x2cf444(0x29e)]*_0x1d07c1[_0x2cf444(0x20d)]['marginLeftRate']),_0x1d07c1[_0x2cf444(0x20d)][_0x2cf444(0x28e)]),_0x391901=Math[_0x2cf444(0x1ba)](Math[_0x2cf444(0x248)](window['innerHeight']*_0x1d07c1[_0x2cf444(0x20d)][_0x2cf444(0x2e1)]),_0x1d07c1[_0x2cf444(0x20d)][_0x2cf444(0x28e)]);_0x136a2e['x']=0x0,_0x136a2e['y']=0x0,_0x136a2e[_0x2cf444(0x26c)]=window['innerWidth']-0x2*_0x18a3b3,_0x136a2e[_0x2cf444(0x264)]=window['innerHeight']-0x2*_0x391901,_0x136a2e[_0x2cf444(0x252)][_0x2cf444(0x2aa)]=_0x18a3b3+'px',_0x136a2e[_0x2cf444(0x252)][_0x2cf444(0x237)]=_0x391901+'px',_0x136a2e[_0x2cf444(0x23c)](_0x2cf444(0x1fa),_0x3cbf93=>{const _0x55aa33=_0x2cf444;_0x3cbf93[_0x55aa33(0x189)]();});}{_0x2a693e['x']=0x0,_0x2a693e['y']=0x0,_0x2a693e[_0x2cf444(0x26c)]=_0x136a2e[_0x2cf444(0x26c)]-_0x9d7f55['width'],_0x2a693e[_0x2cf444(0x264)]=_0x136a2e[_0x2cf444(0x264)],_0x2a693e[_0x2cf444(0x273)]=![],_0x2a693e[_0x2cf444(0x1f0)]=Math['min'](_0x2a693e[_0x2cf444(0x26c)],_0x2a693e[_0x2cf444(0x264)]),_0x2a693e[_0x2cf444(0x21b)]=_0x2a693e['maskShortSize']*_0x2a693e[_0x2cf444(0x2cd)]['maskAreaMarginRate'],_0x2a693e[_0x2cf444(0x299)]=_0x2a693e['width']-0x2*_0x2a693e[_0x2cf444(0x21b)],_0x2a693e[_0x2cf444(0x211)]=_0x2a693e['height']-0x2*_0x2a693e[_0x2cf444(0x21b)];}{_0x9d7f55[_0x2cf444(0x264)]=_0x136a2e[_0x2cf444(0x264)],_0x9d7f55[_0x2cf444(0x206)]=_0x2a693e['width'],_0x9d7f55['offsetY']=0x0,_0x9d7f55[_0x2cf444(0x2f5)]=_0x9d7f55['height']-_0x9d7f55[_0x2cf444(0x2e9)],_0x9d7f55[_0x2cf444(0x182)]=_0x9d7f55[_0x2cf444(0x206)]+_0x9d7f55['margin'];const _0x228e6c=_0x9d7f55[_0x2cf444(0x206)]+_0x9d7f55[_0x2cf444(0x26c)];let _0x9ff509=_0x228e6c;_0x9d7f55[_0x2cf444(0x17b)]=_0x9ff509-=_0x9d7f55[_0x2cf444(0x26f)],_0x9d7f55['wrongCountLx']=_0x9ff509-=_0x9d7f55[_0x2cf444(0x1a9)],_0x9d7f55[_0x2cf444(0x2de)]=_0x9ff509-=_0x9d7f55[_0x2cf444(0x26f)],_0x9d7f55[_0x2cf444(0x1ce)]=_0x9ff509-=_0x9d7f55[_0x2cf444(0x1a9)],_0x9d7f55[_0x2cf444(0x1bd)]=_0x9ff509,_0x9d7f55[_0x2cf444(0x2c2)]=_0x9ff509-_0x9d7f55[_0x2cf444(0x182)],_0x9d7f55[_0x2cf444(0x231)]=_0x9d7f55[_0x2cf444(0x1bd)]+_0x9d7f55[_0x2cf444(0x294)],_0x9d7f55['actLogTextWidth']=_0x228e6c-_0x9d7f55[_0x2cf444(0x294)]-_0x9d7f55[_0x2cf444(0x231)];const _0x335bd3=0x7,_0x92662c=_0x335bd3+(0x1+_0x9d7f55[_0x2cf444(0x2a5)])*_0x5ee506;_0x9d7f55[_0x2cf444(0x17d)]=Math['min']((_0x9d7f55[_0x2cf444(0x264)]-0x2*_0x9d7f55['margin'])/_0x92662c/_0x9d7f55[_0x2cf444(0x1c8)],_0x4876dc['progressAreaFontSize']);const _0x2aa93a=_0x9d7f55[_0x2cf444(0x17d)]*_0x9d7f55[_0x2cf444(0x2a5)];_0x9d7f55[_0x2cf444(0x18c)]=_0x9d7f55[_0x2cf444(0x17d)]+_0x2cf444(0x27f)+_0x2c71c6,_0x9d7f55['actLogFontText']=_0x2aa93a+_0x2cf444(0x27f)+_0x2c71c6,_0x9d7f55[_0x2cf444(0x263)]=Math[_0x2cf444(0x2b8)](_0x9d7f55['fontSize']*_0x9d7f55[_0x2cf444(0x1c8)]),_0x9d7f55[_0x2cf444(0x168)]=Math[_0x2cf444(0x2b8)](_0x2aa93a*_0x9d7f55[_0x2cf444(0x1c8)]);}};{_0x9d7f55[_0x4ecef5(0x21e)]=(_0x4f1196,_0x5e38c8=![])=>{const _0x551236=_0x4ecef5;_0x3a9f9f['save'](),_0x3a9f9f[_0x551236(0x307)]=_0x9d7f55[_0x551236(0x247)],_0x3a9f9f[_0x551236(0x187)](_0x9d7f55['offsetX'],_0x9d7f55[_0x551236(0x2e9)],_0x9d7f55[_0x551236(0x26c)],_0x9d7f55[_0x551236(0x264)]),_0x3a9f9f['strokeStyle']=_0x9d7f55[_0x551236(0x244)],_0x3a9f9f[_0x551236(0x1f7)]=_0x551236(0x292),_0x3a9f9f[_0x551236(0x227)]=_0x9d7f55[_0x551236(0x18c)],_0x3a9f9f[_0x551236(0x307)]=_0x9d7f55[_0x551236(0x2ed)];let _0x42fdd5=_0x9d7f55[_0x551236(0x2e9)]+_0x9d7f55[_0x551236(0x26f)];_0x3a9f9f[_0x551236(0x16e)]='left',_0x3a9f9f[_0x551236(0x196)]('【枚数】',_0x9d7f55[_0x551236(0x182)],_0x42fdd5),_0x42fdd5+=_0x9d7f55[_0x551236(0x263)],_0x3a9f9f[_0x551236(0x196)](_0x551236(0x23e)+_0x4f1196['count'][_0x551236(0x260)]+'枚',_0x9d7f55[_0x551236(0x182)],_0x42fdd5),_0x42fdd5+=_0x9d7f55['lineHeight'],_0x3a9f9f[_0x551236(0x196)](_0x551236(0x1ad)+_0x4f1196[_0x551236(0x171)]['rest']+'枚',_0x9d7f55[_0x551236(0x182)],_0x42fdd5),_0x42fdd5+=_0x9d7f55[_0x551236(0x263)],_0x3a9f9f[_0x551236(0x257)](_0x9d7f55[_0x551236(0x182)],_0x42fdd5+_0x9d7f55[_0x551236(0x263)]/0x2,_0x9d7f55[_0x551236(0x26c)]-0x2*_0x9d7f55[_0x551236(0x26f)],0x0),_0x42fdd5+=_0x9d7f55[_0x551236(0x263)],_0x3a9f9f[_0x551236(0x16e)]='left',_0x3a9f9f[_0x551236(0x196)]('取得',_0x9d7f55['correctCountLx'],_0x42fdd5,_0x9d7f55[_0x551236(0x1a9)]),_0x3a9f9f[_0x551236(0x196)](_0x551236(0x20e),_0x9d7f55['wrongCountLx'],_0x42fdd5,_0x9d7f55[_0x551236(0x1a9)]),_0x42fdd5+=_0x9d7f55[_0x551236(0x263)],_0x4f1196[_0x551236(0x1e1)][_0x551236(0x309)](_0x2a51b6=>{const _0x1a02e5=_0x551236;_0x3a9f9f[_0x1a02e5(0x307)]=_0x2a51b6['userName']===_0x4bb6b3[_0x1a02e5(0x27b)]?_0x9d7f55[_0x1a02e5(0x23d)]:_0x9d7f55['otherUserFontColor'],_0x3a9f9f[_0x1a02e5(0x16e)]=_0x1a02e5(0x2fd),_0x3a9f9f[_0x1a02e5(0x196)](_0x2a51b6[_0x1a02e5(0x27b)],_0x9d7f55['userNameRx'],_0x42fdd5,_0x9d7f55[_0x1a02e5(0x2c2)]),_0x3a9f9f[_0x1a02e5(0x196)](_0x2a51b6[_0x1a02e5(0x229)][_0x1a02e5(0x1e5)](),_0x9d7f55['correctCountRx'],_0x42fdd5,_0x9d7f55['numberTextWidth']),_0x3a9f9f[_0x1a02e5(0x196)](_0x2a51b6['wrong']['toString'](),_0x9d7f55['wrongCountRx'],_0x42fdd5,_0x9d7f55[_0x1a02e5(0x1a9)]),_0x42fdd5+=_0x9d7f55['lineHeight'];}),_0x3a9f9f[_0x551236(0x257)](_0x9d7f55[_0x551236(0x182)],_0x42fdd5+_0x9d7f55['lineHeight']/0x2,_0x9d7f55[_0x551236(0x26c)]-0x2*_0x9d7f55[_0x551236(0x26f)],0x0),_0x42fdd5+=_0x9d7f55['lineHeight'],_0x3a9f9f[_0x551236(0x307)]=_0x9d7f55[_0x551236(0x2ed)],_0x3a9f9f[_0x551236(0x16e)]=_0x551236(0x25d),_0x3a9f9f[_0x551236(0x196)]('【最新の操作結果】',_0x9d7f55[_0x551236(0x182)],_0x42fdd5),_0x42fdd5+=_0x9d7f55['lineHeight'],_0x9d7f55[_0x551236(0x2ee)]=_0x42fdd5,_0x5e38c8&&_0x9d7f55[_0x551236(0x210)](_0x4f1196[_0x551236(0x1be)]),_0x3a9f9f[_0x551236(0x2cc)]();},_0x9d7f55[_0x4ecef5(0x210)]=_0x4be72e=>{const _0xd135ba=_0x4ecef5;_0x3a9f9f[_0xd135ba(0x27a)](),_0x3a9f9f[_0xd135ba(0x1f7)]=_0xd135ba(0x292),_0x3a9f9f['font']=_0x9d7f55['actLogFontText'],_0x3a9f9f[_0xd135ba(0x307)]=_0x9d7f55[_0xd135ba(0x247)],_0x3a9f9f[_0xd135ba(0x187)](_0x9d7f55[_0xd135ba(0x206)],_0x9d7f55[_0xd135ba(0x2ee)],_0x9d7f55[_0xd135ba(0x26c)],_0x9d7f55[_0xd135ba(0x2f5)]-_0x9d7f55[_0xd135ba(0x2ee)]);let _0x68970d=_0x9d7f55['currentY'];_0x4be72e[_0xd135ba(0x309)](_0x183586=>{const _0x3258aa=_0xd135ba,_0x5ba355=_0x183586[_0x3258aa(0x229)]?_0x183586['takenTimeSec']+_0x3258aa(0x198):_0x183586['action']===_0x3258aa(0x1c2)?'お手付き':_0x183586[_0x3258aa(0x1cd)]===_0x3258aa(0x2e6)?'':'';_0x5ba355&&(_0x3a9f9f[_0x3258aa(0x307)]=_0x183586['userName']===_0x4bb6b3[_0x3258aa(0x27b)]?_0x9d7f55['myUserFontColor']:_0x9d7f55['otherUserFontColor'],_0x3a9f9f[_0x3258aa(0x16e)]=_0x3258aa(0x2fd),_0x3a9f9f[_0x3258aa(0x196)](_0x183586['userName'],_0x9d7f55[_0x3258aa(0x1bd)],_0x68970d,_0x9d7f55[_0x3258aa(0x2c2)]),_0x3a9f9f[_0x3258aa(0x16e)]=_0x3258aa(0x25d),_0x3a9f9f[_0x3258aa(0x196)](_0x5ba355,_0x9d7f55[_0x3258aa(0x231)],_0x68970d,_0x9d7f55[_0x3258aa(0x20b)]),_0x68970d+=_0x9d7f55[_0x3258aa(0x168)]);}),_0x3a9f9f[_0xd135ba(0x2cc)]();};}const _0x44ed21={};{const _0x5f1687=_0x218059=>{const _0x30a7be=_0x4ecef5,_0x47a642=_0x218059[_0x30a7be(0x16f)],_0x36061f=_0x1d07c1[_0x30a7be(0x29d)][_0x30a7be(0x1d5)],_0x4fd91b=_0x1d07c1[_0x30a7be(0x29d)]['origHeight'],[_0x3b3d4f,_0x389b27,_0x269b13,_0x5241d1]=((()=>{const _0x25c8a7=_0x30a7be,_0x4a6bf0=_0x2a693e['width']/_0x36061f/(_0x2a693e[_0x25c8a7(0x264)]/_0x4fd91b);let _0x2b1d86,_0x4b2d40,_0x5e2803,_0x5e8eff;if(_0x4a6bf0<0x1){const _0x461550=Math[_0x25c8a7(0x2ab)](_0x47a642*_0x4a6bf0);_0x5e2803=Math[_0x25c8a7(0x2b8)](_0x461550),_0x5e8eff=Math['floor'](_0x461550),_0x2b1d86=Math['ceil'](_0x47a642/_0x5e2803),_0x4b2d40=Math['ceil'](_0x47a642/_0x5e8eff);}else{const _0x1fc272=Math[_0x25c8a7(0x2ab)](_0x47a642/_0x4a6bf0);_0x2b1d86=Math[_0x25c8a7(0x2b8)](_0x1fc272),_0x4b2d40=Math[_0x25c8a7(0x248)](_0x1fc272),_0x5e2803=Math[_0x25c8a7(0x2b8)](_0x47a642/_0x2b1d86),_0x5e8eff=Math[_0x25c8a7(0x2b8)](_0x47a642/_0x4b2d40);}const _0x503ec8=Math['min'](_0x2a693e['width']/_0x5e2803/_0x36061f,_0x2a693e[_0x25c8a7(0x264)]/_0x2b1d86/_0x4fd91b)*_0x1d07c1['cardSettings']['rateForContent'],_0x26e812=Math[_0x25c8a7(0x1ba)](_0x2a693e[_0x25c8a7(0x26c)]/_0x5e8eff/_0x36061f,_0x2a693e['height']/_0x4b2d40/_0x4fd91b)*_0x1d07c1[_0x25c8a7(0x29d)][_0x25c8a7(0x1b7)];return _0x503ec8>_0x26e812?[_0x5e2803,_0x2b1d86,Math[_0x25c8a7(0x248)](_0x503ec8*_0x36061f),Math[_0x25c8a7(0x248)](_0x503ec8*_0x4fd91b)]:[_0x5e8eff,_0x4b2d40,Math[_0x25c8a7(0x248)](_0x26e812*_0x36061f),Math[_0x25c8a7(0x248)](_0x26e812*_0x4fd91b)];})()),_0x204ebc=Math[_0x30a7be(0x248)]((_0x2a693e[_0x30a7be(0x26c)]-_0x269b13*_0x3b3d4f)/(_0x3b3d4f+0x1)),_0x31e6e9=Math[_0x30a7be(0x248)]((_0x2a693e['height']-_0x5241d1*_0x389b27)/(_0x389b27+0x1));_0x44ed21[_0x30a7be(0x1f5)]=_0x3b3d4f,_0x44ed21[_0x30a7be(0x2ba)]=_0x389b27,_0x44ed21[_0x30a7be(0x193)]=_0x269b13,_0x44ed21[_0x30a7be(0x2c3)]=_0x5241d1,_0x44ed21[_0x30a7be(0x1af)]=_0x204ebc,_0x44ed21[_0x30a7be(0x2df)]=_0x31e6e9;};_0x44ed21[_0x4ecef5(0x2f4)]=_0x123d97=>{const _0x25e3ef=_0x4ecef5;_0x5f1687(_0x123d97),_0x123d97[_0x25e3ef(0x309)]((_0x506278,_0x2d955e)=>{const _0x51e3cc=_0x25e3ef,_0x2db64d=_0x2d955e%_0x44ed21[_0x51e3cc(0x1f5)],_0x4ec9b1=Math[_0x51e3cc(0x248)](_0x2d955e/_0x44ed21['colCount']),_0x5f3b73=_0x44ed21[_0x51e3cc(0x1af)]+_0x2db64d*(_0x44ed21[_0x51e3cc(0x193)]+_0x44ed21['cardColMargin']),_0x29238f=_0x44ed21[_0x51e3cc(0x2df)]+_0x4ec9b1*(_0x44ed21[_0x51e3cc(0x2c3)]+_0x44ed21[_0x51e3cc(0x2df)]);_0x506278['x1']=_0x5f3b73,_0x506278['x2']=_0x5f3b73+_0x44ed21[_0x51e3cc(0x193)],_0x506278['y1']=_0x29238f,_0x506278['y2']=_0x29238f+_0x44ed21[_0x51e3cc(0x2c3)];});},_0x2a693e[_0x4ecef5(0x21e)]=()=>{const _0x373e31=_0x4ecef5;_0x2a693e[_0x373e31(0x1ac)](),_0x41adba[_0x373e31(0x2e5)][_0x373e31(0x309)]((_0x179845,_0x292d43)=>{const _0x3d7d21=_0x373e31;_0x179845['put']&&_0x3a9f9f['drawImage'](_0x179845['img'],_0x179845['x1'],_0x179845['y1'],_0x44ed21[_0x3d7d21(0x193)],_0x44ed21[_0x3d7d21(0x2c3)]);});},_0x2a693e[_0x4ecef5(0x1ac)]=(_0x4d075d=null)=>{const _0x201676=_0x4ecef5;_0x3a9f9f[_0x201676(0x307)]=_0x4d075d??_0x2a693e['backgroundColor'],_0x3a9f9f[_0x201676(0x187)](0x0,0x0,_0x2a693e[_0x201676(0x26c)],_0x2a693e[_0x201676(0x264)]),_0x2a693e[_0x201676(0x273)]=![];},_0x2a693e['showMask']=()=>{const _0x2a99ba=_0x4ecef5;if(_0x2a693e['maskOn'])return;_0x2a693e['maskOn']=!![],_0x3a9f9f[_0x2a99ba(0x27a)](),_0x3a9f9f[_0x2a99ba(0x2ac)]=_0x2a693e['notation'][_0x2a99ba(0x2b7)],_0x3a9f9f['fillStyle']=_0x2a693e[_0x2a99ba(0x2cd)][_0x2a99ba(0x205)],_0x3a9f9f[_0x2a99ba(0x187)](_0x2a693e[_0x2a99ba(0x21b)],_0x2a693e['maskMargin'],_0x2a693e[_0x2a99ba(0x299)],_0x2a693e[_0x2a99ba(0x211)]),_0x3a9f9f[_0x2a99ba(0x2cc)]();},_0x2a693e[_0x4ecef5(0x177)]=_0x41eb6a=>{const _0x27c214=_0x4ecef5;_0x3a9f9f['save'](),_0x3a9f9f['textAlign']=_0x27c214(0x308),_0x3a9f9f['textBaseline']=_0x27c214(0x21f);const _0x437fb6={};{const _0xbb1a04=0x30,_0x116041=_0xbb1a04*0x4,_0x5e7ab9=_0x2a693e[_0x27c214(0x299)]*0.67;_0x3a9f9f[_0x27c214(0x227)]=_0xbb1a04+_0x27c214(0x27f)+_0x2c71c6;const _0xe174a8=Math['max'](_0x116041,_0x3a9f9f[_0x27c214(0x1c9)](_0x41eb6a)[_0x27c214(0x26c)]);_0x437fb6[_0x27c214(0x17d)]=_0xbb1a04*Math[_0x27c214(0x1ba)](0x1,_0x5e7ab9/_0xe174a8),_0x437fb6[_0x27c214(0x263)]=_0x437fb6[_0x27c214(0x17d)]*1.8,_0x437fb6['fukidashiTailSize']=_0x437fb6[_0x27c214(0x17d)];const _0x3e1c60=_0x437fb6[_0x27c214(0x17d)];_0x437fb6[_0x27c214(0x26c)]=Math[_0x27c214(0x2b3)](Math[_0x27c214(0x1ba)](_0x5e7ab9,_0xe174a8))+0x2*_0x3e1c60,_0x437fb6[_0x27c214(0x264)]=_0x437fb6[_0x27c214(0x263)]+0x2*_0x3e1c60,_0x437fb6[_0x27c214(0x190)]=(_0x2a693e[_0x27c214(0x211)]-_0x437fb6[_0x27c214(0x263)])/0x2,_0x437fb6[_0x27c214(0x1ae)]=_0x2a693e[_0x27c214(0x26c)]-_0x2a693e[_0x27c214(0x21b)]-0x2,_0x437fb6['x']=_0x437fb6[_0x27c214(0x1ae)]-_0x437fb6[_0x27c214(0x26c)]-_0x437fb6[_0x27c214(0x21d)],_0x437fb6['y']=_0x437fb6[_0x27c214(0x190)]-_0x437fb6[_0x27c214(0x264)]/0x2,_0x437fb6[_0x27c214(0x182)]=_0x437fb6['x']+_0x437fb6[_0x27c214(0x26c)]/0x2,_0x437fb6[_0x27c214(0x1ea)]=_0x437fb6[_0x27c214(0x190)];}_0x2a693e['showMask'](),_0x3a9f9f[_0x27c214(0x2ac)]=0x1,roundedRect(_0x3a9f9f,_0x437fb6['x'],_0x437fb6['y'],_0x437fb6['width'],_0x437fb6[_0x27c214(0x264)],_0x2a693e['maskMargin'],_0x2a693e[_0x27c214(0x2cd)][_0x27c214(0x1a3)]),_0x3a9f9f['fillStyle']=_0x2a693e['notation']['messageBackgroundColor'],_0x3a9f9f['beginPath'](),_0x3a9f9f[_0x27c214(0x2da)](_0x437fb6['endX'],_0x437fb6[_0x27c214(0x190)]),_0x3a9f9f[_0x27c214(0x2a0)](_0x437fb6['endX']-_0x437fb6[_0x27c214(0x21d)],_0x437fb6[_0x27c214(0x190)]-_0x437fb6['fukidashiTailSize']/0x2),_0x3a9f9f[_0x27c214(0x2a0)](_0x437fb6['endX']-_0x437fb6[_0x27c214(0x21d)],_0x437fb6[_0x27c214(0x190)]+_0x437fb6[_0x27c214(0x21d)]/0x2),_0x3a9f9f['fill'](),_0x3a9f9f['fillStyle']=_0x2a693e[_0x27c214(0x2cd)][_0x27c214(0x1b5)],_0x3a9f9f['font']=_0x437fb6[_0x27c214(0x17d)]+_0x27c214(0x27f)+_0x2c71c6,_0x3a9f9f[_0x27c214(0x196)](_0x41eb6a,_0x437fb6[_0x27c214(0x182)],_0x437fb6['textStartY']),_0x3a9f9f[_0x27c214(0x2cc)]();},_0x2a693e[_0x4ecef5(0x1d4)]=()=>{const _0x52536d=_0x4ecef5,_0x264224=_0x2a693e[_0x52536d(0x1f0)]*0.35;_0x3a9f9f[_0x52536d(0x27a)](),_0x2a693e[_0x52536d(0x2ff)](),_0x3a9f9f[_0x52536d(0x2ac)]=_0x2a693e[_0x52536d(0x2cd)][_0x52536d(0x201)],_0x3a9f9f[_0x52536d(0x307)]=_0x2a693e[_0x52536d(0x2cd)]['effectOKColor'],drawDonutsCircle(_0x3a9f9f,_0x2a693e['width']/0x2,_0x2a693e['height']/0x2,_0x264224,_0x2a693e[_0x52536d(0x21b)]),_0x3a9f9f[_0x52536d(0x2cc)]();},_0x2a693e[_0x4ecef5(0x232)]=()=>{const _0x3edc42=_0x4ecef5,_0x2ac695=_0x2a693e[_0x3edc42(0x1f0)]*0.35;_0x3a9f9f[_0x3edc42(0x27a)](),_0x2a693e[_0x3edc42(0x2ff)](),_0x3a9f9f[_0x3edc42(0x2ac)]=_0x2a693e[_0x3edc42(0x2cd)][_0x3edc42(0x201)],_0x3a9f9f[_0x3edc42(0x307)]=_0x2a693e[_0x3edc42(0x2cd)][_0x3edc42(0x269)],drawRoundedXMark(_0x3a9f9f,_0x2a693e[_0x3edc42(0x26c)]/0x2,_0x2a693e['height']/0x2,_0x2ac695,_0x2a693e[_0x3edc42(0x21b)]),_0x3a9f9f[_0x3edc42(0x2cc)]();};}const _0x499c5f=(_0x545706,_0x118b52,_0x3018db=0x10)=>{const _0x481a6a=_0x4ecef5,_0x4152ef=_0x118b52['x']+_0x118b52[_0x481a6a(0x26c)]/0x2,_0x5273df=_0x118b52['y']+_0x118b52[_0x481a6a(0x264)]/0x2-_0x3018db/0x2;_0x3a9f9f[_0x481a6a(0x27a)](),_0x3a9f9f[_0x481a6a(0x227)]=_0x3018db+_0x481a6a(0x27f)+_0x2c71c6,_0x3a9f9f['textAlign']=_0x481a6a(0x308),_0x3a9f9f['textBaseline']=_0x481a6a(0x292),_0x3a9f9f[_0x481a6a(0x307)]='#000000',_0x3a9f9f['fillText'](_0x545706,_0x4152ef,_0x5273df,_0x118b52[_0x481a6a(0x26c)]),_0x3a9f9f['restore']();};_0x1ad675['on'](_0x4ecef5(0x242),async _0x34ac46=>{const _0x324c15=_0x4ecef5;_0x333584[_0x324c15(0x289)](),_0x407ed8(),_0x1b933e(_0x34ac46[_0x324c15(0x25a)][_0x324c15(0x1e1)][_0x324c15(0x16f)]),_0x41adba[_0x324c15(0x2e5)]=_0x34ac46['displaySeq']['map'](_0x37b06f=>{const _0x459cb6=_0x324c15,_0x5b3f6c=_0x34ac46[_0x459cb6(0x186)][_0x459cb6(0x1ee)](_0x37b06f);_0x5b3f6c===-0x1&&console[_0x459cb6(0x18a)](_0x459cb6(0x212),_0x37b06f,_0x34ac46);const _0x2739b7=_0x41adba[_0x459cb6(0x2a2)][_0x5b3f6c];return Object[_0x459cb6(0x27d)]({'put':!![],'tag':_0x37b06f},_0x5c6523[_0x459cb6(0x18d)][_0x459cb6(0x1a1)](_0x2739b7['id']),_0x2739b7);}),_0x44ed21[_0x324c15(0x2f4)](_0x41adba['displayCards']),window[_0x324c15(0x267)](window[_0x324c15(0x1bb)],_0x136a2e[_0x324c15(0x1e3)]()[_0x324c15(0x292)]),_0x41adba[_0x324c15(0x170)]=null,_0x41adba[_0x324c15(0x199)]=_0x34ac46[_0x324c15(0x25a)],_0x1ad675[_0x324c15(0x282)](_0x324c15(0x195));}),_0x1ad675['on'](_0x4ecef5(0x258),async()=>{const _0x432e3a=_0x4ecef5,_0x9f324d=_0x2a693e,_0x5dd519=0xf0;let _0x4231e6=_0x2a693e[_0x432e3a(0x29c)];const _0x47e67f=generateBlinkingText(_0x3a9f9f,{'x':0x0,'y':0x0,'width':_0x136a2e[_0x432e3a(0x26c)],'height':_0x136a2e[_0x432e3a(0x264)],'fontSize':0x40,'backgroundColor':_0x2a693e[_0x432e3a(0x247)],'fontColor':_0x432e3a(0x28a),'halfPeriodMS':0x3e8});while(_0x4231e6>0x0){_0x2a693e[_0x432e3a(0x1ac)](),_0x2a693e[_0x432e3a(0x256)]?(_0x5c6523[_0x432e3a(0x2c7)](_0x5c6523[_0x432e3a(0x287)]),_0x47e67f[_0x432e3a(0x306)](_0x4231e6[_0x432e3a(0x1e5)](),_0x5dd519),await sleep(0x3b6),_0x47e67f[_0x432e3a(0x286)](),await sleep(0x32)):(_0x5c6523[_0x432e3a(0x2c7)](_0x5c6523[_0x432e3a(0x287)]),_0x499c5f(_0x4231e6[_0x432e3a(0x1e5)](),_0x9f324d,_0x5dd519),await sleep(0x3e8)),_0x4231e6--;}_0x5c6523['playSound'](_0x5c6523[_0x432e3a(0x235)]),_0x9d7f55['show'](_0x41adba['lastShowData']),_0x1ad675[_0x432e3a(0x282)](_0x432e3a(0x2d5));}),_0x1ad675['on'](_0x4ecef5(0x18f),()=>{});const _0x2fb702=_0x4ecef5(0x291),_0x230179='done',_0x452eb6=_0x4ecef5(0x272);_0x41adba['getClickedCard']=(_0x5128ee,_0x58c1a6)=>{const _0x35b723=_0x4ecef5;return _0x41adba[_0x35b723(0x2e5)][_0x35b723(0x173)](_0x4110b3=>{return _0x4110b3['x1']<=_0x5128ee&&_0x5128ee<=_0x4110b3['x2']&&_0x4110b3['y1']<=_0x58c1a6&&_0x58c1a6<=_0x4110b3['y2'];});},_0x41adba['cardClickedCallback']=_0x5ccc24=>{const _0x3b5209=_0x4ecef5;if(_0x41adba['cardPhaseAct']===_0x452eb6){const _0x5e3443=_0x41adba['getClickedCard'](_0x5ccc24[_0x3b5209(0x206)],_0x5ccc24[_0x3b5209(0x2e9)]);if(_0x5e3443){const _0x2d8c49=Date[_0x3b5209(0x2b4)]()-_0x41adba[_0x3b5209(0x169)];_0x41adba[_0x3b5209(0x170)]=_0x230179,_0x136a2e[_0x3b5209(0x1e2)](_0x3b5209(0x1c2),_0x41adba[_0x3b5209(0x2d1)]);const _0x4382fb=_0x5e3443['id'],_0x291a15=_0x5e3443==_0x41adba[_0x3b5209(0x24c)];_0x291a15?_0x2a693e['showMask']():_0x2a693e['showNG'](),_0x1ad675[_0x3b5209(0x282)](_0x3b5209(0x2fa),{'currentTag':_0x41adba[_0x3b5209(0x24c)]?.['tag'],'userName':_0x4bb6b3[_0x3b5209(0x27b)],'action':_0x3b5209(0x1c2),'correct':_0x291a15,'cardId':_0x4382fb,'takenTimeMS':_0x2d8c49}),!_0x291a15&&_0x5c6523[_0x3b5209(0x2c7)](_0x5c6523[_0x3b5209(0x275)]);}}else{}},_0x1ad675['on'](_0x4ecef5(0x293),_0x4f62ca=>{const _0x1449e3=_0x4ecef5,_0x5a17f6=_0x41adba[_0x1449e3(0x2e5)][_0x1449e3(0x173)](_0x413cf6=>_0x413cf6['tag']===_0x4f62ca[_0x1449e3(0x185)]);_0x41adba[_0x1449e3(0x24c)]=_0x5a17f6,_0x41adba[_0x1449e3(0x169)]=Date[_0x1449e3(0x2b4)](),_0x41adba[_0x1449e3(0x170)]=_0x452eb6,_0x9d7f55[_0x1449e3(0x21e)](_0x41adba[_0x1449e3(0x199)]),_0x2a693e[_0x1449e3(0x21e)](),_0x5c6523[_0x1449e3(0x2c7)](_0x41adba[_0x1449e3(0x24c)][_0x1449e3(0x19c)]),_0x1d07c1[_0x1449e3(0x2c9)]&&console[_0x1449e3(0x26a)]('次',_0x41adba['currentCard']['id'],_0x41adba['currentCard']['label'],_0x41adba['currentCard']),clearInterval(_0x41adba[_0x1449e3(0x2d7)]),_0x136a2e[_0x1449e3(0x1e2)]('click',_0x41adba['cardClickedCallback']),_0x136a2e[_0x1449e3(0x23c)](_0x1449e3(0x1c2),_0x41adba[_0x1449e3(0x2d1)]);}),_0x1ad675['on'](_0x4ecef5(0x209),_0x582a17=>{const _0x28635b=_0x4ecef5,_0x3702f0=_0x582a17[_0x28635b(0x185)];if(_0x3702f0!==_0x41adba[_0x28635b(0x24c)]?.['tag'])return;if(_0x41adba['cardPhaseAct']===_0x452eb6&&_0x582a17['minTakenTimeMS']){const _0x10f89d=Date[_0x28635b(0x2b4)]()-_0x41adba[_0x28635b(0x169)];_0x10f89d>_0x582a17[_0x28635b(0x18e)]?(_0x136a2e[_0x28635b(0x1e2)](_0x28635b(0x1c2),_0x41adba[_0x28635b(0x2d1)]),_0x1ad675[_0x28635b(0x282)](_0x28635b(0x2fa),{'currentTag':_0x41adba[_0x28635b(0x24c)]?.[_0x28635b(0x1cc)],'userName':_0x4bb6b3[_0x28635b(0x27b)],'action':_0x28635b(0x2e6)})):_0x41adba['checkTimeupIntervalID']=setInterval(()=>{const _0x31b701=_0x28635b;_0x3702f0===_0x41adba[_0x31b701(0x24c)]?.['tag']&&_0x41adba['cardPhaseAct']===_0x452eb6&&_0x582a17[_0x31b701(0x18e)]&&(_0x136a2e[_0x31b701(0x1e2)](_0x31b701(0x1c2),_0x41adba[_0x31b701(0x2d1)]),_0x1ad675[_0x31b701(0x282)]('card_phase_acted',{'currentTag':_0x41adba[_0x31b701(0x24c)]?.['tag'],'userName':_0x4bb6b3[_0x31b701(0x27b)],'action':_0x31b701(0x2e6)}));},_0x2a693e[_0x28635b(0x1e6)]);}_0x9d7f55[_0x28635b(0x210)](_0x582a17['actionResults']);}),_0x1ad675['on'](_0x4ecef5(0x26d),async _0x519a8a=>{const _0x53ae23=_0x4ecef5;if(_0x519a8a[_0x53ae23(0x1c0)][_0x53ae23(0x185)]!==_0x41adba[_0x53ae23(0x24c)]?.['tag'])return;_0x41adba[_0x53ae23(0x24c)][_0x53ae23(0x19c)][_0x53ae23(0x226)]();if(_0x4bb6b3[_0x53ae23(0x27b)]===_0x519a8a[_0x53ae23(0x1c0)][_0x53ae23(0x1d9)])_0x5c6523[_0x53ae23(0x2c7)](_0x5c6523['okSound']),_0x2a693e[_0x53ae23(0x1d4)]();else{if(_0x519a8a[_0x53ae23(0x1c0)][_0x53ae23(0x1d9)])_0x5c6523[_0x53ae23(0x2c7)](_0x5c6523[_0x53ae23(0x219)]),_0x2a693e[_0x53ae23(0x177)](_0x519a8a[_0x53ae23(0x1c0)][_0x53ae23(0x1d9)]+_0x53ae23(0x167));else _0x519a8a[_0x53ae23(0x1be)][_0x53ae23(0x249)](_0x1709ce=>_0x1709ce[_0x53ae23(0x229)]===![])?(_0x5c6523[_0x53ae23(0x2c7)](_0x5c6523[_0x53ae23(0x25f)]),_0x2a693e[_0x53ae23(0x177)](_0x53ae23(0x28f))):(_0x5c6523[_0x53ae23(0x2c7)](_0x5c6523[_0x53ae23(0x1c7)]),_0x2a693e[_0x53ae23(0x177)]('次'));}_0x41adba['lastShowData']=_0x519a8a,_0x9d7f55[_0x53ae23(0x21e)](_0x519a8a,!![]);if(_0x519a8a[_0x53ae23(0x1c0)][_0x53ae23(0x1d9)]){const _0xff1544=_0x41adba['displayCards']['findIndex'](_0x13e59e=>_0x13e59e['id']===_0x519a8a[_0x53ae23(0x1c0)][_0x53ae23(0x1c5)]);_0x41adba[_0x53ae23(0x2e5)][_0x53ae23(0x290)](_0xff1544,0x1);}await sleep(_0x2a693e[_0x53ae23(0x25e)]),_0x1ad675[_0x53ae23(0x282)](_0x53ae23(0x2d5));}),_0x1ad675['on'](_0x4ecef5(0x255),_0x519483=>{const _0x460907=_0x4ecef5;{_0x41adba[_0x460907(0x170)]=_0x2fb702,_0x41adba[_0x460907(0x24c)]={};}{_0x5c6523[_0x460907(0x180)](_0x5c6523['endCardSound']);}{_0x1d07c1[_0x460907(0x22b)][_0x460907(0x247)]&&_0x2a693e['clear'](_0x1d07c1[_0x460907(0x22b)]['backgroundColor']);const _0x1474c8=_0x5c6523['endCardImg'];if(_0x1474c8){const _0x3419f1=Math[_0x460907(0x1ba)](_0x2a693e[_0x460907(0x26c)]/_0x1474c8['width'],_0x2a693e[_0x460907(0x264)]/_0x1474c8[_0x460907(0x264)]),_0x50336f=_0x1474c8[_0x460907(0x26c)]*_0x3419f1,_0xcacaa1=_0x1474c8[_0x460907(0x264)]*_0x3419f1;_0x3a9f9f['save'](),_0x3a9f9f[_0x460907(0x2ac)]=_0x1d07c1[_0x460907(0x22b)][_0x460907(0x23b)],_0x3a9f9f['drawImage'](_0x1474c8,(_0x2a693e['width']-_0x50336f)/0x2,(_0x2a693e[_0x460907(0x264)]-_0xcacaa1)/0x2,_0x50336f,_0xcacaa1),_0x3a9f9f['restore']();}}{const _0x3a25a2=_0x519483['rankedUserResults'],_0x447ad6=_0x1d07c1[_0x460907(0x243)],_0x2e58b0={};{const _0x5847a6=0x3,_0xe260d2=_0x447ad6['margin'],_0x41dc33=_0x447ad6[_0x460907(0x2b0)][_0x460907(0x181)],_0x298947=_0x447ad6[_0x460907(0x2b0)][_0x460907(0x1b4)],_0x5957e1=_0x447ad6['letterCount'][_0x460907(0x261)],_0x588a8c=_0x447ad6[_0x460907(0x2b0)][_0x460907(0x1a6)],_0x4a9fbc=_0x2a693e[_0x460907(0x26c)]*_0x447ad6[_0x460907(0x1b9)],[_0x1a86cb,_0x5e882c,_0x4ebfb3,_0x2e5f69]=((()=>{const _0x4e3a13=_0x460907,_0x44a2a3=_0x588f9b=>{const _0xea04e1=_0x3f7a;_0x3a9f9f['save'](),_0x3a9f9f['font']=_0x588f9b+'px\x20'+_0x2c71c6;const _0x365446=_0x3a25a2[_0xea04e1(0x1b1)](_0x280d0b=>_0x3a9f9f[_0xea04e1(0x1c9)](_0x280d0b[_0xea04e1(0x27b)])[_0xea04e1(0x26c)])['reduce']((_0x30ec2c,_0x137ddd)=>Math[_0xea04e1(0x2b3)](_0x30ec2c,_0x137ddd));_0x3a9f9f['restore']();const _0xe556be=(_0x41dc33+0x1+0x1+_0x41dc33+0x1+_0x41dc33)*_0x588f9b+(_0x298947+_0x5957e1+_0x588a8c)*_0x588f9b*_0x447ad6[_0xea04e1(0x176)]+_0x365446+(0x1+_0x5847a6)*_0xe260d2,_0xb1f6d0=_0x588f9b*_0x447ad6[_0xea04e1(0x1c8)]*_0x3a25a2['length']+(0x1+_0x5847a6)*_0xe260d2;return{'width':_0xe556be,'height':_0xb1f6d0,'userNameWidth':_0x365446};},_0x6deb9e=_0x447ad6[_0x4e3a13(0x2be)],_0x2bf150=_0x44a2a3(_0x6deb9e),_0x119fae=Math['min'](_0x4a9fbc/_0x2bf150[_0x4e3a13(0x26c)],_0x2a693e[_0x4e3a13(0x264)]/_0x2bf150[_0x4e3a13(0x264)]);if(_0x119fae>=0x1)return[_0x6deb9e,_0x2bf150[_0x4e3a13(0x26c)],_0x2bf150['height'],_0x2bf150['userNameWidth']];const _0x236ab5=_0x6deb9e*_0x119fae,_0xe21b34=_0x44a2a3(_0x236ab5);return[_0x236ab5,_0xe21b34[_0x4e3a13(0x26c)],_0xe21b34[_0x4e3a13(0x264)],_0xe21b34[_0x4e3a13(0x2c2)]];})());_0x2e58b0[_0x460907(0x17d)]=_0x1a86cb,_0x2e58b0[_0x460907(0x234)]=_0x1a86cb*_0x447ad6['unitFontSizeRate'],_0x2e58b0[_0x460907(0x26c)]=_0x5e882c,_0x2e58b0['height']=_0x4ebfb3,_0x2e58b0['userNameWidth']=_0x2e5f69,_0x2e58b0['offsetX']=_0x2a693e['x']+(_0x2a693e[_0x460907(0x26c)]-_0x5e882c)/0x2,_0x2e58b0['offsetY']=_0x2a693e['y']+(_0x2a693e[_0x460907(0x264)]-_0x4ebfb3)/0x2;const _0x116610=_0x2e58b0[_0x460907(0x206)]+_0xe260d2;_0x2e58b0[_0x460907(0x1ea)]=_0x2e58b0[_0x460907(0x2e9)]+_0xe260d2*_0x5847a6,_0x2e58b0['lineHeight']=_0x1a86cb*_0x447ad6['lineHeightRate'],_0x2e58b0['numberTextWidth']=_0x41dc33*_0x1a86cb,_0x2e58b0[_0x460907(0x2b2)]=_0x298947*_0x2e58b0['unitFontSize'],_0x2e58b0['correctUnitTextWidth']=_0x5957e1*_0x2e58b0[_0x460907(0x234)],_0x2e58b0[_0x460907(0x2d8)]=_0x588a8c*_0x2e58b0[_0x460907(0x234)];const _0x5b8783=_0x1a86cb,_0xdba077=_0x1a86cb*_0x447ad6[_0x460907(0x230)];let _0x4d9e91=0x0;_0x2e58b0[_0x460907(0x194)]=_0x4d9e91+=_0x116610+_0x2e58b0[_0x460907(0x1a9)],_0x2e58b0[_0x460907(0x23f)]=_0x4d9e91+=_0xdba077,_0x2e58b0[_0x460907(0x207)]=_0x4d9e91+=_0x2e58b0[_0x460907(0x2b2)]+_0x5b8783,_0x2e58b0[_0x460907(0x2ad)]=_0x4d9e91+=_0x2e58b0[_0x460907(0x2c2)]+_0x5b8783+_0x2e58b0[_0x460907(0x1a9)],_0x2e58b0[_0x460907(0x2fc)]=_0x4d9e91+=_0xdba077,_0x2e58b0[_0x460907(0x217)]=_0x4d9e91+=_0x2e58b0[_0x460907(0x296)]+_0x5b8783+_0x2e58b0[_0x460907(0x1a9)],_0x2e58b0[_0x460907(0x2cb)]=_0x4d9e91+=_0xdba077;const _0x192cb1=0x2*_0xe260d2;_0x2e58b0['splitLineStartX']=_0x2e58b0[_0x460907(0x206)]+_0x192cb1,_0x2e58b0[_0x460907(0x220)]=_0x5e882c-0x2*_0x192cb1,_0x2e58b0[_0x460907(0x2f0)]=_0x1a86cb*(0x1+_0x447ad6[_0x460907(0x1b6)]);}_0x3a9f9f[_0x460907(0x27a)](),_0x3a9f9f[_0x460907(0x2ac)]=_0x447ad6[_0x460907(0x2f7)],roundedRect(_0x3a9f9f,_0x2e58b0['offsetX'],_0x2e58b0[_0x460907(0x2e9)],_0x2e58b0[_0x460907(0x26c)],_0x2e58b0[_0x460907(0x264)],_0x2e58b0[_0x460907(0x17d)]*_0x447ad6[_0x460907(0x253)],_0x447ad6['backgroundColor']),_0x3a9f9f['globalAlpha']=0x1,_0x3a9f9f[_0x460907(0x301)]=_0x447ad6[_0x460907(0x244)],_0x3a9f9f[_0x460907(0x1f7)]=_0x460907(0x292);let _0x1c29e8=_0x2e58b0[_0x460907(0x1ea)];_0x3a25a2[_0x460907(0x309)](_0x164d3f=>{const _0x288492=_0x460907;_0x3a9f9f['fillStyle']=_0x164d3f[_0x288492(0x27b)]===_0x4bb6b3['userName']?_0x447ad6[_0x288492(0x23d)]:_0x447ad6['fontColor'],_0x3a9f9f[_0x288492(0x16e)]=_0x288492(0x25d),_0x3a9f9f[_0x288492(0x227)]=_0x2e58b0[_0x288492(0x234)]+_0x288492(0x27f)+_0x2c71c6,_0x3a9f9f['fillText']('位',_0x2e58b0[_0x288492(0x23f)],_0x1c29e8,_0x2e58b0[_0x288492(0x2b2)]),_0x3a9f9f[_0x288492(0x196)]('枚取得',_0x2e58b0[_0x288492(0x2fc)],_0x1c29e8,_0x2e58b0[_0x288492(0x296)]),_0x3a9f9f[_0x288492(0x196)](_0x288492(0x20e),_0x2e58b0[_0x288492(0x2cb)],_0x1c29e8,_0x2e58b0['wrongUnitTextWidth']),_0x3a9f9f['font']=_0x2e58b0['fontSize']+'px\x20'+_0x2c71c6,_0x3a9f9f['fillText'](_0x164d3f[_0x288492(0x27b)],_0x2e58b0[_0x288492(0x207)],_0x1c29e8,_0x2e58b0[_0x288492(0x2c2)]),_0x3a9f9f[_0x288492(0x227)]=_0x2e58b0[_0x288492(0x17d)]+_0x288492(0x27f)+_0x2c71c6,_0x3a9f9f['textAlign']='right',_0x3a9f9f[_0x288492(0x196)](''+_0x164d3f[_0x288492(0x1e7)],_0x2e58b0[_0x288492(0x194)],_0x1c29e8,_0x2e58b0[_0x288492(0x1a9)]),_0x3a9f9f[_0x288492(0x196)](''+_0x164d3f[_0x288492(0x229)],_0x2e58b0[_0x288492(0x2ad)],_0x1c29e8,_0x2e58b0[_0x288492(0x1a9)]),_0x3a9f9f[_0x288492(0x196)](''+_0x164d3f[_0x288492(0x2e7)],_0x2e58b0[_0x288492(0x217)],_0x1c29e8,_0x2e58b0[_0x288492(0x1a9)]),_0x3a9f9f[_0x288492(0x257)](_0x2e58b0[_0x288492(0x1da)],_0x1c29e8+_0x2e58b0[_0x288492(0x2f0)],_0x2e58b0[_0x288492(0x220)],0x0),_0x1c29e8+=_0x2e58b0['lineHeight'];}),_0x3a9f9f[_0x460907(0x2cc)]();}{_0x41adba[_0x460907(0x274)]=async _0x2f477f=>{const _0x43c335=_0x460907,_0x29f44b=await showConfirmTextDialog(_0x43c335(0x240));_0x29f44b&&(clearInterval(_0x41adba['checkTimeupIntervalID']),_0x136a2e['removeEventListener'](_0x43c335(0x1c2),_0x41adba['returnConfirmCallback']),_0x1ad675[_0x43c335(0x282)](_0x43c335(0x1dc)));},_0x136a2e[_0x460907(0x23c)](_0x460907(0x1c2),_0x41adba[_0x460907(0x274)]);}});})(getInitValues());
    
    
    function getInitValues() {
      return {
        defaultValues: {
          userName: '',
          roomName: 'room1',
        },
        
        playmat: {
          marginMax: 40,
          marginTopRate : 0.03,
          marginLeftRate: 0.03,
          fontFamily: `sans-serif`,
        },
        rankingArea: {
          maxWidthRate: 0.8,
          margin: 10,
          radiusFontSizeRate: 0.8,
          defaultFontSize: 24,
          unitFontSizeRate: 1, // 値を変えると textBaseline の調整が必要となる
          unitMarginRate: 0.2,
          lineHeightRate: 1.8,
          letterCount: {
            number     : 2,
            rankUnit   : 1,
            correctUnit: 2.5,
            wrongUnit  : 2.5,
          },
          fontColor: '#111111',
          myUserFontColor: '#2222FF',
          backgroundAlpha: 0.925,
          backgroundColor: '#EEEEEE',
          splitLineColor: '#FFFFFF',
          splitLinePaddingRate: 0.3,
        },
        progressArea: {
          // カード枚数が3桁行かないことを前提にしている
          width: 250,
          margin: 8,
          fontSize: 24,
          lineHeightRate: 1.6,
          numberTextWidth: 50,
          actLogFontSizeRate: 0.875,
          actLogMargin: 16,
          fontColor: '#000000',
          myUserFontColor: '#2222FF',
          otherUserFontColor: '#000000',
          backgroundColor: '#cccccc',
          splitLineColor: '#efefef',
        },
        playArea: {
          playCountdownLength: 3,
          playCountdownBlinking: true,
          backgroundColor: '#efefef',
          checkTimeupIntervalMS: 250,
          waitCardResultEffectMS: 1200,
          notation: {
            maskAreaMarginRate: 0.05, // 情報表示のための黒塗りマスクを出す際のマージン。概ね 1 - rate * 2 がマスクの画面に占める割合
            maskAreaAlpha: 0.50,
            maskAreaColor: '#000000',
            messageBackgroundColor: '#FFFFFF',
            messageFontColor: '#000000',
            effectOKColor: '#FF2222',
            effectNGColor: '#CCCC00',
            effectAlpha: 0.80,
          },
        },
        soundSettings: {
          voiceVolume: 1.00,
          effectVolume: 0.50,
          okSoundPath: 'res/ok.mp3',
          ngSoundPath: 'res/ng.mp3',
          allngSoundPath: 'res/allng.mp3',
          takenSoundPath: 'res/taken.mp3',
          nextSoundPath: 'res/next.mp3',
          countdown1SoundPath: 'res/countdown1.mp3',
          countdown2SoundPath: 'res/countdown2.mp3',
        },
        endCardSettings: {
          backgroundColor: '#000000',
        },
        
        cardSettings: {
          rateForContent: 0.9,
          origWidth :  900, // カルタ画像は全てこの origWidth,origHeight の比率と同じものとする
          origHeight: 1200,
          borderSize: 15,
          borderColor: '#660066',
        },
        ///debug: true,
      };
    }
  </script>
</body>
</html>
