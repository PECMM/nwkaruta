<!DOCTYPE html>
<html lang='ja'>
<head>
  <meta charset="utf-8">
  <title>かるた 対戦版</title>
  <style>
    body {
      font-size: 1rem;
      margin: 0;
      padding: 0;
    }
    
    h1 {
      font-size: 2.5rem;
    }
    
    #loadingMessage {
      margin: 8px;
    }
    #loginArea {
      margin: 8px;
      display: none;
    }
    #roomArea {
      margin: 8px;
      display: none;
    }
    #mainArea {
      display: none;
    }
    
    
    #loginInputs, #roomInputs {
      margin-left: 2rem;
      margin-bottom: 5rem;
    }
    
    #loginInputs div {
      display: flex;
      padding: 0.5rem;
    }
    #loginInputs label {
      width: 6rem;
      padding-right: 0.5rem;
    }
    #loginInputs button {
      width: 4rem;
    }
    #loginInputs input {
      width: 21rem;
    }
    #loginInputs * {
      font-size: 1.4rem;
      vertical-align: middle;
    }
    
    #roomInputs * {
      font-size: 1.4rem;
    }
    #memberList th {
      min-width: 6rem;
    }
    #memberList th,
    #memberList td {
      height: 2.8rem;
    }
    #memberList td.my-name {
      color: #0000FF;
    }
    #memberList td:nth-child(2) {
      min-width: 21rem;
      padding-left: 0.5rem;
      padding-right: 0.5rem;
    }
    #memberList td:nth-child(1),#memberList td:nth-child(3) {
      text-align: center;
    }
    
    #startPlayButtonArea {
      margin-top: 1.4rem;
    }
    
    
    .help-list {
      font-size: 1rem;
    }
    
    #loginButtonMessage {
      color: #FF0000;
      margin-left: 1rem;
    }
    
    input[type='number'] {
      text-align: right;
      width: 6rem;
    }
    
    footer {
      margin-top: 3rem;
      margin-left: 8px;
      padding-top: 0.5rem;
      border-top: solid 2px #cccccc;
    }
    .footerItem {
      white-space: pre;
    }
  </style>
</head>

<body>
  <div id='loadingMessage'>
    <p>ファイル読み込み中...</p>
    <p>どれだけ待っても読み込みが終了しない場合は、エラーや通信失敗が発生している可能性があります。<br />画面をリロードしたり、時間を置いてやり直すなど試してください</p>
  </div>
  <div id='loginArea'>
    <h1>かるた</h1>
    
    <div id='loginInputs'>
      <div>
        <label for='userName'>ユーザ名</label>
        <input id='userName' type='text' placeholder='' />
      </div>
      <div>
        <label for='roomName'>部屋名</label>
        <input id='roomName' type='text' placeholder='' />
      </div>
      <div>
        <button id='loginButton'>入室</button>
        <span id='loginButtonMessage'></span>
      </div>
    </div>
    
    <ul class='help-list'>
      <li><div>ver: <span id="version"></span></div></li>
      <li>このかるたは対戦ゲーム専用です</li>
      <li>完全に同一の部屋名を指定して入室した、他のユーザと対戦できます</li>
      <li>同じ部屋に同じ名前のユーザは複数入室できません</li>
      <li>ゲームプレイ中の部屋には入室できません</li>
    </ul>
    
    <footer></footer>
  </div>
  <div id='roomArea'>
    <h2>待機部屋</h2>
    
    <div id='roomInputs'>
      <table id='memberList' border='1' cellpadding='4 cellspacing='0'>
        <caption>参加者</caption>
        <thead> <tr> <th>ホスト</th> <th>ユーザ名</th> <th>操作</th> </tr> </thead>
        <tbody></tbody>
      </table>
      <button id='logoutButton'>退室</button>
      <div id='startPlayButtonArea'>
        <label> 使用するカード枚数：<input type='number' id='useCardCount' step='1' /> （<span id='cardCountRange'></span>）</label>
        <br />
        <button id='startPlayButton'>開始</button>
      </div>
    </div>
    
    <ul class='help-list'>
      <li>この画面のヘルプ<ul>
        <li>ホストユーザのみが開始できます</li>
        <li>ホストユーザは同室ユーザ内で一番早くログインしているユーザに自動で切り替わります</li>
        <li>ユーザが２人以上入室していないと開始できません</li>
        <li>ホストユーザのみがゲームで使用するカード枚数を選択できます（2 ～ 存在するカード枚数まで）</li>
      </ul></li>
      <li>ゲーム画面のヘルプ<ul>
        <li>ゲーム開始後は、画面サイズ変更により配置・札の表示サイズの調整などはできません</li>
        <li>ブラウザの表示サイズや参加ユーザ数によっては、表示の乱れやはみ出しが起こる場合があります</li>
        <li>ゲームのプレイにはブラウザからの音声出力が必須です</li>
        <li>ゲーム終了後に画面をクリックで待機部屋に戻れます（ホストユーザの操作では、全ユーザが強制的に戻ります）</li>
        <li>ゲーム中にネットワーク切断などでユーザが退出した場合、強制的にゲーム全体が終了となります</li>
      </ul></li>
      <li>ゲームのルール<ul>
        <li>ネットワーク遅延を考慮し、『各環境で読み上げ開始から最も早く正答したユーザ』が札を取れるものとします</li>
        <li>お手付きした札はそのまま場に置かれたままとなります（お手付きの回数のみ、最終順位に影響します）</li>
        <li>お手付きした際は、次の札に進むまで操作できません</li>
        <li>全員がお手付きした際は、次の札に進みゲームを続けます。誰かが札を取るまで何度も同じ札が読み上げられる場合があります</li>
        <li>最後の 1 枚は連打勝負になってしまうため、残り 1 枚になった時点で終了とします</li>
        <li>最終順位は『手札が多かった順 → 同数ならばお手付きが少なかった順』で決定します</li>
      </ul></li>
      <li>ゲーム観戦機能はサポートしていません。<br />普通に観戦してクリック操作しない、とういやり方で観戦はできますが、自分以外全員お手付きの場合には、操作しないとゲームが進まなくなります。<br />（2 人以上が観戦しているとややこしいことになります）</li>
    </ul>
  </div>
  <div id='mainArea'>
    <canvas id='mainCanvas'></canvas>
  </div>
  <textarea style='display:none;' id='messageLog' cols='80' rows='12'></textarea>
  
  <script type='text/javascript' src='js/socket.io.min.js'></script>
  <script type='text/javascript'>
    const AppVersion = "0.5.0";
    
    // ここから
const _0x22d604=_0x59d3;(function(_0x43d5f4,_0x3c8d41){const _0x52d7c2=_0x59d3,_0x463a2b=_0x43d5f4();while(!![]){try{const _0x4cb5d0=-parseInt(_0x52d7c2(0x383))/0x1*(parseInt(_0x52d7c2(0x2b5))/0x2)+-parseInt(_0x52d7c2(0x38c))/0x3*(parseInt(_0x52d7c2(0x318))/0x4)+-parseInt(_0x52d7c2(0x2e8))/0x5+parseInt(_0x52d7c2(0x378))/0x6*(-parseInt(_0x52d7c2(0x27b))/0x7)+parseInt(_0x52d7c2(0x1f1))/0x8*(parseInt(_0x52d7c2(0x365))/0x9)+parseInt(_0x52d7c2(0x2da))/0xa*(-parseInt(_0x52d7c2(0x2c2))/0xb)+parseInt(_0x52d7c2(0x1e1))/0xc*(parseInt(_0x52d7c2(0x2ec))/0xd);if(_0x4cb5d0===_0x3c8d41)break;else _0x463a2b['push'](_0x463a2b['shift']());}catch(_0x47c60c){_0x463a2b['push'](_0x463a2b['shift']());}}}(_0x4866,0xdfb01),(document[_0x22d604(0x1ed)](_0x22d604(0x2e0))??{})[_0x22d604(0x283)]=AppVersion);const getRandomRanged=(_0x290b80,_0x3651f9)=>{const _0x57a3de=_0x22d604;return Math[_0x57a3de(0x232)](_0x290b80+Math['random']()*(_0x3651f9-_0x290b80));};function loadSyncImage(_0x306be0){return new Promise((_0x167ad9,_0x5424c0)=>{const _0x3c3af0=_0x59d3;let _0x27288e=new Image();_0x27288e[_0x3c3af0(0x29a)]=()=>_0x167ad9(_0x27288e),_0x27288e[_0x3c3af0(0x2a8)]=_0x397ff3=>_0x5424c0(_0x397ff3),_0x27288e[_0x3c3af0(0x234)]=_0x306be0;});}function loadSyncAudio(_0xbea513){return new Promise((_0x524738,_0x386381)=>{const _0x44c2cc=_0x59d3,_0x21085e=new Audio();_0x21085e['onloadeddata']=()=>_0x524738(_0x21085e),_0x21085e[_0x44c2cc(0x303)]=_0x33ab01=>_0x386381(_0x33ab01),_0x21085e[_0x44c2cc(0x234)]=_0xbea513;});}function _0x59d3(_0xef796d,_0x5d2af1){const _0x486605=_0x4866();return _0x59d3=function(_0x59d3f6,_0x9de78c){_0x59d3f6=_0x59d3f6-0x1d1;let _0x39a039=_0x486605[_0x59d3f6];return _0x39a039;},_0x59d3(_0xef796d,_0x5d2af1);}function newElem(_0x22ed17,_0x38be37=[],_0x35911d=[],_0x3609b8={}){const _0x25ebe8=_0x22d604,_0x6386e6=document[_0x25ebe8(0x2d7)](_0x22ed17);return _0x35911d[_0x25ebe8(0x30b)]>0x0&&_0x6386e6[_0x25ebe8(0x27c)][_0x25ebe8(0x37f)](..._0x35911d),Object[_0x25ebe8(0x217)](_0x3609b8)[_0x25ebe8(0x202)](_0x1805a2=>{_0x6386e6['setAttribute'](_0x1805a2,_0x3609b8[_0x1805a2]);}),_0x38be37[_0x25ebe8(0x202)](_0x4a93b2=>{const _0x46ae38=_0x25ebe8;typeof _0x4a93b2===_0x46ae38(0x1d8)?_0x6386e6[_0x46ae38(0x2d6)](document['createTextNode'](_0x4a93b2)):_0x6386e6['appendChild'](_0x4a93b2);}),_0x6386e6;}const newRandomArray=_0xe3795f=>{const _0x2ffbb4=_0x22d604,_0x33167c=Array[_0x2ffbb4(0x35f)](_0xe3795f);for(let _0x2c4f99=_0x33167c[_0x2ffbb4(0x30b)]-0x1;_0x2c4f99>=0x0;_0x2c4f99--){const _0x203b63=Math[_0x2ffbb4(0x232)](Math['random']()*(_0x2c4f99+0x1));[_0x33167c[_0x2c4f99],_0x33167c[_0x203b63]]=[_0x33167c[_0x203b63],_0x33167c[_0x2c4f99]];}return _0x33167c;},parseFloatOr=(_0x47d8c8,_0x3190ab)=>{const _0x17763b=_0x22d604,_0x4d84be=parseFloat(_0x47d8c8);return Number[_0x17763b(0x220)](_0x4d84be)?_0x3190ab:_0x4d84be;},sleep=_0x38b236=>{return new Promise(_0x58387d=>setTimeout(_0x58387d,_0x38b236));},generateBlinkingText=(_0x563d54,_0x354ddc)=>{let _0x4e7219=![];const _0x5374ec=(_0x2d3c79,_0x10a9d6,_0x3d9f26)=>{const _0x48e6f9=_0x59d3,_0xee6c85=Number[_0x48e6f9(0x2b8)](_0x3d9f26)&&_0x3d9f26>0x0?_0x3d9f26:_0x354ddc['fontSize'];let _0x4bdd12=_0xee6c85+'px\x20sans-serif';const _0x134f89=Math['floor'](_0x354ddc['x']+_0x354ddc['width']/0x2),_0x88f504=Math[_0x48e6f9(0x232)](_0x354ddc['y']+_0x354ddc[_0x48e6f9(0x2b6)]/0x2),_0xab0659=_0x45f6ea=>{const _0x430c74=_0x48e6f9,_0x6f4402=Math[_0x430c74(0x232)](_0x45f6ea/_0x354ddc[_0x430c74(0x312)]),_0x2f8103=(_0x45f6ea-_0x6f4402*_0x354ddc[_0x430c74(0x312)])/_0x354ddc[_0x430c74(0x312)],_0x2f1af8=_0x6f4402%0x2===0x0;_0x2d3c79[_0x430c74(0x204)](),_0x2d3c79[_0x430c74(0x258)]=0x1,_0x2d3c79[_0x430c74(0x278)]=_0x354ddc[_0x430c74(0x238)],_0x2d3c79[_0x430c74(0x320)](_0x354ddc['x'],_0x354ddc['y'],_0x354ddc[_0x430c74(0x300)],_0x354ddc[_0x430c74(0x2b6)]),_0x2d3c79[_0x430c74(0x2a4)]=_0x4bdd12,_0x2d3c79[_0x430c74(0x327)]=_0x430c74(0x377),_0x2d3c79[_0x430c74(0x2ee)]='middle',_0x2d3c79[_0x430c74(0x278)]=_0x354ddc[_0x430c74(0x255)],_0x2d3c79[_0x430c74(0x258)]=_0x2f1af8?_0x2f8103:0x1-_0x2f8103,_0x2d3c79[_0x430c74(0x26d)](_0x10a9d6,_0x134f89,_0x88f504),_0x2d3c79[_0x430c74(0x225)](),_0x4e7219&&requestAnimationFrame(_0xab0659);};return _0xab0659;};return{'start':(_0x5d8d13,_0x44d9bc)=>{_0x4e7219=!![],requestAnimationFrame(_0x5374ec(_0x563d54,_0x5d8d13,_0x44d9bc));},'stop':()=>{_0x4e7219=![];}};};function showConfirmTextDialog(_0x3f1309,_0x319594){const _0x2a50c2=_0x22d604,_0x58208f=newElem('p',[_0x3f1309]);return _0x58208f[_0x2a50c2(0x210)][_0x2a50c2(0x37c)]=_0x2a50c2(0x263),showConfirmDialog(_0x58208f,_0x319594);}function showConfirmDialog(_0xe3618a,_0x339da9){const _0x13060b=_0x22d604;_0x339da9=Object[_0x13060b(0x1f6)]({'baseElement':document[_0x13060b(0x282)],'focusable':![],'yesLabel':'OK','noLabel':_0x13060b(0x323),'defaultIsYes':!![],'positionElement':window},_0x339da9);const _0x1cb9ce=_0x339da9[_0x13060b(0x317)],_0x3bbe8=_0x339da9[_0x13060b(0x22e)],_0x38825c=_0x339da9['yesLabel'],_0x54564b=_0x339da9[_0x13060b(0x1f8)],_0x40bb68=_0x339da9['defaultIsYes'],_0x3f719f=_0x339da9[_0x13060b(0x2ae)],_0x1d2cea=_0x54564b==='',_0x518d08=newElem('button',[_0x38825c]),_0x4fb6e8=newElem(_0x13060b(0x29b),[_0x54564b]);_0x1d2cea&&(_0x4fb6e8[_0x13060b(0x210)]['display']=_0x13060b(0x2c6));const _0x7b2bda=_0x1d2cea?[_0x518d08]:[_0x518d08,_0x4fb6e8],_0x3a261b=newElem(_0x13060b(0x351),_0x7b2bda),_0x42c7bd=newElem(_0x13060b(0x351),[_0xe3618a,newElem('hr'),_0x3a261b],[_0x13060b(0x20a)]),_0x183b1d=newElem(_0x13060b(0x351)),_0x106e6f=0xf423f;_0x42c7bd['style'][_0x13060b(0x37e)]=_0x13060b(0x261),_0x42c7bd['style']['zIndex']=_0x106e6f,_0x42c7bd[_0x13060b(0x210)][_0x13060b(0x23f)]='240px',_0x42c7bd[_0x13060b(0x210)][_0x13060b(0x357)]=_0x13060b(0x34d),_0x42c7bd[_0x13060b(0x210)][_0x13060b(0x1d4)]='solid\x20#DDDDDD\x203px',_0x42c7bd[_0x13060b(0x210)]['borderRadius']=_0x13060b(0x33d),_0x42c7bd[_0x13060b(0x210)][_0x13060b(0x2d9)]=0x0,_0x42c7bd[_0x13060b(0x210)][_0x13060b(0x1d7)]=_0x13060b(0x359),_0x42c7bd[_0x13060b(0x210)][_0x13060b(0x238)]=_0x13060b(0x216),_0x3a261b['style']['display']=_0x13060b(0x24b),_0x3a261b[_0x13060b(0x210)][_0x13060b(0x2ac)]=_0x13060b(0x1ee),_0x183b1d[_0x13060b(0x210)]['position']=_0x13060b(0x261),_0x183b1d[_0x13060b(0x210)][_0x13060b(0x1e5)]=_0x106e6f-0x1,_0x183b1d[_0x13060b(0x210)][_0x13060b(0x1da)]=0x0,_0x183b1d[_0x13060b(0x210)]['left']=0x0,_0x183b1d[_0x13060b(0x210)]['width']='100%',_0x183b1d[_0x13060b(0x210)]['height']=_0x13060b(0x2df),_0x183b1d['style'][_0x13060b(0x1d4)]=_0x13060b(0x337),_0x183b1d[_0x13060b(0x210)]['padding']=_0x13060b(0x337),_0x183b1d['style'][_0x13060b(0x2d9)]=_0x13060b(0x337),_0x183b1d[_0x13060b(0x210)]['backgroundColor']=_0x13060b(0x215),_0x183b1d[_0x13060b(0x210)][_0x13060b(0x353)]=0.3;!_0xe3618a[_0x13060b(0x210)]['margin']&&!_0xe3618a[_0x13060b(0x210)][_0x13060b(0x2a0)]&&!_0xe3618a[_0x13060b(0x210)][_0x13060b(0x288)]&&(_0xe3618a[_0x13060b(0x210)][_0x13060b(0x2d9)]=_0x13060b(0x371));const _0x16fbc6=function(_0x3178db){const _0x57f8c7=_0x13060b,_0x128835=_0x3178db[0x0],_0x590c1d=_0x3178db[_0x3178db[_0x57f8c7(0x30b)]-0x1],_0x3af492=[_0x590c1d,_0x3178db,_0x128835][_0x57f8c7(0x35a)]();return _0x5f0093=>{const _0x5dbfb3=_0x57f8c7;if(_0x5f0093['key']===_0x5dbfb3(0x294)&&!_0x5f0093['altKey']&&!_0x5f0093[_0x5dbfb3(0x24f)]&&!_0x5f0093[_0x5dbfb3(0x22a)]){_0x5f0093[_0x5dbfb3(0x291)](),_0x5f0093['preventDefault']();const _0x36767a=_0x3af492[_0x5dbfb3(0x338)](_0x5f0093[_0x5dbfb3(0x354)],0x1);_0x36767a===-0x1?(_0x5f0093[_0x5dbfb3(0x244)]?_0x590c1d:_0x128835)[_0x5dbfb3(0x290)]():_0x3af492[_0x36767a+(_0x5f0093[_0x5dbfb3(0x244)]?-0x1:0x1)]['focus']();}else _0x5f0093['key']===_0x5dbfb3(0x362)&&!_0x5f0093[_0x5dbfb3(0x2d3)]&&!_0x5f0093[_0x5dbfb3(0x24f)]&&!_0x5f0093[_0x5dbfb3(0x244)]&&!_0x5f0093[_0x5dbfb3(0x22a)]&&(_0x5f0093[_0x5dbfb3(0x291)](),_0x5f0093[_0x5dbfb3(0x1e9)](),_0x4fb6e8[_0x5dbfb3(0x248)]());};},_0x5e29bf=Array[_0x13060b(0x289)](_0x3bbe8)?_0x3bbe8['concat'](_0x7b2bda):_0x7b2bda,_0x4f95ea=_0x16fbc6(_0x5e29bf);_0x5e29bf[_0x13060b(0x262)](_0x42c7bd,_0x183b1d)[_0x13060b(0x202)](_0x3f6bc2=>{const _0x40e939=_0x13060b;_0x3f6bc2[_0x40e939(0x374)](_0x40e939(0x295),_0x4f95ea),_0x3f6bc2['addEventListener']('keypress',_0x4f95ea);}),_0x1cb9ce['appendChild'](_0x183b1d),_0x1cb9ce[_0x13060b(0x2d6)](_0x42c7bd);const _0x3d0c9f=window[_0x13060b(0x1e2)](_0x42c7bd),_0x521394=_0x3f719f===window?{'width':window[_0x13060b(0x228)],'height':window[_0x13060b(0x2fc)]}:_0x3f719f[_0x13060b(0x29d)]();return _0x42c7bd['style'][_0x13060b(0x1da)]=(_0x521394[_0x13060b(0x2b6)]-parseInt(_0x3d0c9f[_0x13060b(0x2b6)],0xa))/0x2+'px',_0x42c7bd[_0x13060b(0x210)][_0x13060b(0x243)]=(_0x521394[_0x13060b(0x300)]-parseInt(_0x3d0c9f['width'],0xa))/0x2+'px',_0x1d2cea||_0x40bb68?_0x518d08['focus']():_0x4fb6e8['focus'](),new Promise((_0x488e75,_0x247143)=>{const _0x98f03c=_0x13060b;_0x518d08[_0x98f03c(0x374)]('click',()=>{const _0xb93da7=_0x98f03c;_0x7b2bda[_0xb93da7(0x202)](_0xd83a5b=>_0xd83a5b[_0xb93da7(0x325)]('disabled',_0xb93da7(0x1eb))),_0x1cb9ce[_0xb93da7(0x36c)](_0x183b1d),_0x1cb9ce[_0xb93da7(0x36c)](_0x42c7bd),_0x488e75(!![]);}),_0x4fb6e8[_0x98f03c(0x374)](_0x98f03c(0x248),()=>{const _0x1c1c7f=_0x98f03c;_0x7b2bda['forEach'](_0xeb26cd=>_0xeb26cd[_0x1c1c7f(0x325)](_0x1c1c7f(0x1eb),_0x1c1c7f(0x1eb))),_0x1cb9ce[_0x1c1c7f(0x36c)](_0x183b1d),_0x1cb9ce[_0x1c1c7f(0x36c)](_0x42c7bd),_0x488e75(![]);});});}function drawDonutsCircle(_0x291a37,_0x3a6b36,_0x25d114,_0x10d10f,_0x21a95d){const _0x1180af=_0x22d604;_0x291a37[_0x1180af(0x204)](),_0x291a37[_0x1180af(0x386)](),_0x291a37['arc'](_0x3a6b36,_0x25d114,_0x10d10f-0x2*_0x21a95d,0x0,0x2*Math['PI'],!![]),_0x291a37[_0x1180af(0x26a)](_0x3a6b36,_0x25d114,_0x10d10f,0x0,0x2*Math['PI'],![]),_0x291a37[_0x1180af(0x331)](),_0x291a37['restore']();}function drawRoundedXMark(_0xf0f0da,_0x3554ce,_0x4f0d43,_0x2f302f,_0x2d0709){const _0x4c3dea=_0x22d604,_0x172ec6=_0x2d0709,_0xc83d2e=_0x172ec6/Math['SQRT2'],_0x2e4506=_0xc83d2e*0x2,_0x3d1053=_0x3554ce-_0x2f302f,_0x2dc3d6=_0x3554ce,_0x8268ef=_0x3554ce+_0x2f302f,_0x21958b=_0x4f0d43-_0x2f302f,_0x11c379=_0x4f0d43,_0x58b566=_0x4f0d43+_0x2f302f;_0xf0f0da[_0x4c3dea(0x204)](),_0xf0f0da['beginPath'](),_0xf0f0da[_0x4c3dea(0x38e)](_0x3d1053+_0x2e4506,_0x21958b),_0xf0f0da[_0x4c3dea(0x1d5)](_0x2dc3d6,_0x11c379-_0x2e4506),_0xf0f0da['lineTo'](_0x8268ef-_0x2e4506,_0x21958b),_0xf0f0da[_0x4c3dea(0x26a)](_0x8268ef-_0xc83d2e,_0x21958b+_0xc83d2e,_0x172ec6,Math['PI']*0x5/0x4,Math['PI']*0x9/0x4),_0xf0f0da[_0x4c3dea(0x1d5)](_0x8268ef,_0x21958b+_0x2e4506),_0xf0f0da[_0x4c3dea(0x1d5)](_0x2dc3d6+_0x2e4506,_0x11c379),_0xf0f0da[_0x4c3dea(0x1d5)](_0x8268ef,_0x58b566-_0x2e4506),_0xf0f0da[_0x4c3dea(0x26a)](_0x8268ef-_0xc83d2e,_0x58b566-_0xc83d2e,_0x172ec6,Math['PI']*0x7/0x4,Math['PI']*0xb/0x4),_0xf0f0da[_0x4c3dea(0x1d5)](_0x8268ef-_0x2e4506,_0x58b566),_0xf0f0da[_0x4c3dea(0x1d5)](_0x2dc3d6,_0x11c379+_0x2e4506),_0xf0f0da['lineTo'](_0x3d1053+_0x2e4506,_0x58b566),_0xf0f0da[_0x4c3dea(0x26a)](_0x3d1053+_0xc83d2e,_0x58b566-_0xc83d2e,_0x172ec6,Math['PI']*0x1/0x4,Math['PI']*0x5/0x4),_0xf0f0da[_0x4c3dea(0x1d5)](_0x3d1053,_0x58b566-_0x2e4506),_0xf0f0da[_0x4c3dea(0x1d5)](_0x2dc3d6-_0x2e4506,_0x11c379),_0xf0f0da['lineTo'](_0x3d1053,_0x21958b+_0x2e4506),_0xf0f0da[_0x4c3dea(0x26a)](_0x3d1053+_0xc83d2e,_0x21958b+_0xc83d2e,_0x172ec6,Math['PI']*0x3/0x4,Math['PI']*0x7/0x4),_0xf0f0da[_0x4c3dea(0x331)](),_0xf0f0da[_0x4c3dea(0x225)]();}function roundedRect(_0x5da7e4,_0x1a9713,_0x5a23b9,_0x4210ee,_0x342ade,_0x42bbfa,_0x42572c=_0x22d604(0x216)){const _0x272939=_0x22d604;_0x5da7e4[_0x272939(0x204)](),_0x5da7e4['strokeStyle']=_0x42572c,_0x5da7e4[_0x272939(0x278)]=_0x42572c,_0x5da7e4[_0x272939(0x386)](),_0x5da7e4[_0x272939(0x38e)](_0x1a9713,_0x5a23b9+_0x42bbfa),_0x5da7e4[_0x272939(0x1d5)](_0x1a9713,_0x5a23b9+_0x342ade-_0x42bbfa),_0x5da7e4[_0x272939(0x2de)](_0x1a9713,_0x5a23b9+_0x342ade,_0x1a9713+_0x42bbfa,_0x5a23b9+_0x342ade,_0x42bbfa),_0x5da7e4['lineTo'](_0x1a9713+_0x4210ee-_0x42bbfa,_0x5a23b9+_0x342ade),_0x5da7e4[_0x272939(0x2de)](_0x1a9713+_0x4210ee,_0x5a23b9+_0x342ade,_0x1a9713+_0x4210ee,_0x5a23b9+_0x342ade-_0x42bbfa,_0x42bbfa),_0x5da7e4['lineTo'](_0x1a9713+_0x4210ee,_0x5a23b9+_0x42bbfa),_0x5da7e4['arcTo'](_0x1a9713+_0x4210ee,_0x5a23b9,_0x1a9713+_0x4210ee-_0x42bbfa,_0x5a23b9,_0x42bbfa),_0x5da7e4[_0x272939(0x1d5)](_0x1a9713+_0x42bbfa,_0x5a23b9),_0x5da7e4[_0x272939(0x2de)](_0x1a9713,_0x5a23b9,_0x1a9713,_0x5a23b9+_0x42bbfa,_0x42bbfa),_0x5da7e4['fill'](),_0x5da7e4[_0x272939(0x225)]();}function _0x4866(){const _0x481830=['waitCardResultEffectMS','部屋が満員です...\x27','#000000','#FFFFFF','getOwnPropertyNames','fukidashiTailSize','fontSize','finish\x20loadResources','[sec]','ownerUserName','文字以内の任意のテキスト','nextSound','rateForContent','isNaN','任意のテキスト','createDocumentFragment','cardColMargin','play','restore','otherUserFontColor','rankUnitTextWidth','innerWidth','permitted','metaKey','endX','originalCards','cardClickedCallback','focusable','unitFontSizeRate','get','userName','floor','finish_play','src','entries','onFunction','#memberList\x20>\x20tbody','backgroundColor','stringify','minTakenTimeMS','correctUnitTextWidth','playCountdownLength','progressAreaFontSize','sqrt','minWidth','put','joinroom_room_is_full','findIndex','left','shiftKey','defaultValues','cardPhaseAct','object','click','key','wrongUnitTextWidth','flex','#cardCountRange','game_end','showMask','ctrlKey','afterObjectItem','origWidth','textY','emit','onSymbolValue','fontColor','showLoginErrorMessage','imgAlpha','globalAlpha','px\x20','marginMax','user_disconnect_in_game','ceil','toString','\x27,\x20部屋名：\x27','ngSound','effectHalfWidth','fixed','concat','pre-line','soundSettings','actLogTextLx','#loginButtonMessage','countdownImageItems','loaded','userNameRx','arc','defaultFontSize','imgPath','fillText','value','splitLineWidth','scrollTo','effectHalfSize','#loginButton','wrongCountRx','effectAlpha','お手付き','getHours','currentCard','fillStyle','okImage','letterCount','17899MJjbcq','classList','afterObject','radiusFontSizeRate','showActLog','全員お手付き','fontFamily','body','textContent','splitLinePaddingRate','isComposing','borderSize','firstChild','marginBottom','isArray','beforeObject','maskAreaMarginRate','number','currentTime','filter','useCardCount','focus','stopPropagation','actionResults','displaySeq','Tab','keydown','title','measureText','result','colCount','onload','button','location','getBoundingClientRect','endCardImg','removeEventListener','marginTop','showData','afterArrayItem','onBooleanValue','font','done','timeup','playmat','eonerror','correctUnitTextLeftX','#loginArea','currentTag','justifyContent','不正な入力値...','positionElement','volume','marginLeftRate','ngImage','URL内の設定ファイルパス指定が不足しているようです。','test','bigint','3058178NWqChN','height','wrong','isFinite','parent','modeChangeToPlay','origHeight','onBigIntValue','playCountdownBlinking','paramscript','joinroom_duplicated_usename','href','showMessage','99cvFgdU','effectOKColor','endCardSound','endCardSettings','none','afterbegin','user','textStartY','progressArea','referenceHTML','start\x20loadResources','playArea','nextSoundPath','cardId','total','offsetX','leave_room_ok','altKey','right','actLogTextWidth','appendChild','createElement','maskHeight','margin','1653650zsOnMV','textX','room_member_list','cardRowMargin','arcTo','100%','#version','待機部屋へ戻りますか？','okSound','<br\x20/><a\x20href=\x27./\x27>トップページからアクセスし直してください。</a>','centerY','Enter','wrongTextRightX','actLogMargin','1820125gjbMNP','rankedUserResults','actLogFontText','unitMarginRate','73490222GYmmVw','#startPlayButton','textBaseline','tagSeq','beforeObjectItem','lastShowData','splitLineStartX','find','beforeArray','soundPath','rank','correctCountLx','userNumber','wrongCountLx','every','actLogFontSizeRate','innerHeight','maxlength','playCountdownBackgroundColor','roomArea','width','onInitialize','to_waiting_room','onerror','userResults','trim','voiceVolume','showCountdownImage','onValue','splice','isOwner','length','userNameTextLeftX','decideCardsSize','lineHeightRate','allngSoundPath','wrongUnitTextLeftX','effectNGColor','halfPeriodMS','initializeWaitingRoom','sound','size','log','baseElement','523496leknyI','shift','img','winnerUserName','startTimestamp','maskAreaColor','#roomArea','playCountdownImageItems','fillRect','onStringValue','userNameWidth','Cancel','countdown2Sound','setAttribute','onNumberValue','textAlign','#memberList','modeChangeToRoom','strokeStyle','endY','lineHeight','showOK','tag','all_ready_play','clear','fill','?cb=','appId','cardSettings','notation','残り：','0px','indexOf','initialize','枚取得','unitFontSize','roomName','20px','playSound','allngSound','fontText','offsetY','#loadingMessage','currentY','#logoutButton','error','checkTimeupIntervalID','ready_play','reduce','countdown2SoundPath','messageBackgroundColor','marginTopRate','function','border-box','rest','cards','rankUnitTextLeftX','div','userNameMaxLength','opacity','target','playOrNop','symbol','boxSizing','okSoundPath','5px\x2030px\x2010px','flat','ready_next_card','maskWidth','max','getContext','from','maxWidthRate','#mainArea','Escape','modeChangeToLogin','#useCardCount','17244tywkOb','maskMargin','map','contextmenu','splitLineColor','checkTimeupIntervalMS','getSeconds','removeChild','set','-lastInputValues','playCountdownImageMarginRate','actLineHeight','12px\x200','countdown1Sound','push','addEventListener','debug','correctTextRightX','center','3984nNAnBA','effectMarginRate','rankUnit','join_room','whiteSpace','start_play','position','add','タグ不整合...tag:','【最新の操作結果】','correctCountRx','1TMMfOE','rowCount','countdown1SoundPath','beginPath','footer','displayCards','correct','onNullOrUndefined','numberTextWidth','3rdiezV','all_ready_next_card','moveTo','has','fontSizeRate','splitLineOffsetY','display','returnConfirmCallback','card','border','lineTo','#roomName','padding','string','getDate','top','cardHeight','cardWidth','#startPlayButtonArea','drawImage','card_phase_acted','includes','12ZkJaUn','getComputedStyle','paramScript','correctUnit','zIndex','myUserFontColor','takenTimeSec','loginArea','preventDefault','blur','disabled','setItem','querySelector','space-around','maskOn','takenSound','1976HrHHhL','action','block','leave_room','all','assign','joinroom_playing_now','noLabel','dataId','image','rankTextRightX','【枚数】','show','mode','初期パラメータ','strokeRect','localStorage','forEach','同室内でのユーザ名重複...(ユーザ：\x27','save','textStartX','borderColor','joinroom_invaid_parameter','showNG','memberList','confirmDialog','count','getItem','pageOptions','undefined','getMonth','style','pause','min'];_0x4866=function(){return _0x481830;};return _0x4866();}function getDir(_0x2ee063){return _0x2ee063['replace'](/[^/]+$/,'');}const treatObjectRec=(_0x1e7143,_0x2635d3)=>{const _0x4732bb=_0x22d604,_0x1d324f=_0x18f9a5=>_0x18f9a5!==null&&typeof _0x18f9a5===_0x4732bb(0x247)&&!Array['isArray'](_0x18f9a5);if(_0x1d324f(_0x1e7143)){const _0x4e826e={'parent':_0x1e7143};return _0x2635d3[_0x4732bb(0x28a)]?.(_0x1e7143,_0x4e826e),Object[_0x4732bb(0x217)](_0x1e7143)[_0x4732bb(0x202)](_0x47d2aa=>{const _0x3e88ed=_0x4732bb;_0x2635d3[_0x3e88ed(0x2f0)]?.(_0x1e7143[_0x47d2aa],_0x47d2aa,_0x4e826e);const _0xea4f98=treatObjectRec(_0x1e7143[_0x47d2aa],_0x2635d3);_0x2635d3[_0x3e88ed(0x250)]?.(_0x1e7143[_0x47d2aa],_0x47d2aa,_0x4e826e,_0xea4f98);}),_0x2635d3[_0x4732bb(0x27d)]?.(_0x1e7143,_0x4e826e)??_0x1e7143;}else{if(Array[_0x4732bb(0x289)](_0x1e7143)){const _0x2b9836={'parent':_0x1e7143};return _0x2635d3[_0x4732bb(0x2f4)]?.(_0x1e7143,_0x2b9836),_0x1e7143[_0x4732bb(0x202)]((_0x68dde4,_0x1569c0)=>{const _0x5a1b01=_0x4732bb;_0x2635d3['beforeArrayItem']?.(_0x68dde4,_0x1569c0,_0x2b9836);const _0x14c04d=treatObjectRec(_0x68dde4,_0x2635d3);_0x2635d3[_0x5a1b01(0x2a2)]?.(_0x68dde4,_0x1569c0,_0x2b9836,_0x14c04d);}),_0x2635d3['afterArray']?.(_0x1e7143,_0x2b9836)??_0x1e7143;}else{if(typeof _0x1e7143===_0x4732bb(0x34c))return _0x2635d3[_0x4732bb(0x236)]?.(_0x1e7143)??_0x1e7143;else{if(typeof _0x1e7143==='boolean')return(_0x2635d3[_0x4732bb(0x2a3)]??_0x2635d3['onValue'])?.(_0x1e7143)??_0x1e7143;else{if(typeof _0x1e7143==='number')return(_0x2635d3[_0x4732bb(0x326)]??_0x2635d3[_0x4732bb(0x308)])?.(_0x1e7143)??_0x1e7143;else{if(typeof _0x1e7143===_0x4732bb(0x2b4))return(_0x2635d3[_0x4732bb(0x2bc)]??_0x2635d3[_0x4732bb(0x308)])?.(_0x1e7143)??_0x1e7143;else{if(typeof _0x1e7143===_0x4732bb(0x1d8))return(_0x2635d3[_0x4732bb(0x321)]??_0x2635d3[_0x4732bb(0x308)])?.(_0x1e7143)??_0x1e7143;else{if(typeof _0x1e7143===_0x4732bb(0x356))return(_0x2635d3[_0x4732bb(0x254)]??_0x2635d3['onValue'])?.(_0x1e7143)??_0x1e7143;else{if(typeof _0x1e7143===_0x4732bb(0x20e)||_0x1e7143===null)return(_0x2635d3[_0x4732bb(0x38a)]??_0x2635d3[_0x4732bb(0x308)])?.(_0x1e7143)??_0x1e7143;}}}}}}}}},deepAssign=(_0x49c54d,..._0x4692ca)=>{const _0x6c07aa=_0x22d604,_0xa86df7=(_0x2e172a,_0x5bd36e)=>{let _0x11cddf=_0x2e172a;return treatObjectRec(_0x5bd36e,{'beforeObject':(_0x1cc8bb,_0x3eed51)=>{const _0x3282a3=_0x59d3;_0x3eed51[_0x3282a3(0x298)]=_0x11cddf??{};},'beforeObjectItem':(_0x4743e1,_0x31cc40,_0x48db37,_0x1f7b34)=>{const _0x3ba1ed=_0x59d3;_0x11cddf=_0x48db37[_0x3ba1ed(0x298)][_0x31cc40];},'afterObjectItem':(_0x61075e,_0x5d5a4f,_0x31211b,_0xed27b4)=>{const _0x3beb5e=_0x59d3;_0x31211b[_0x3beb5e(0x298)][_0x5d5a4f]=_0xed27b4;},'afterObject':(_0x3d6cbc,_0x45cc9d)=>{return _0x45cc9d['result'];},'beforeArray':(_0x1ce49a,_0x4f6a9e)=>{const _0x1a2f7e=_0x59d3;_0x4f6a9e[_0x1a2f7e(0x298)]=[];},'beforeArrayItem':(_0x25e072,_0x5233df,_0x34be81)=>{_0x11cddf={};},'afterArrayItem':(_0x3e0424,_0x124fc1,_0x8eb1bf,_0x270152)=>{const _0x5bf2f3=_0x59d3;_0x8eb1bf[_0x5bf2f3(0x298)][_0x124fc1]=_0x270152;},'afterArray':(_0x34fc18,_0x499c9c)=>{const _0x5f54b3=_0x59d3;return _0x499c9c[_0x5f54b3(0x298)];}});},_0x163c71=_0x785de6=>_0x785de6!==null&&typeof _0x785de6===_0x6c07aa(0x247)&&!Array['isArray'](_0x785de6);return(_0x4692ca??[])[_0x6c07aa(0x348)]((_0x57278c,_0x4c94b4)=>{return _0x163c71(_0x4c94b4)?_0xa86df7(_0x57278c,_0x4c94b4):_0x57278c;},_0x49c54d);},getDateStringForFile=_0x35b3b7=>{const _0x459779=_0x22d604,_0x59f816=(_0x438e0a,_0x4d91e1)=>_0x4d91e1[_0x459779(0x25d)]()['padStart'](_0x438e0a,'0');return''+_0x35b3b7['getFullYear']()+_0x59f816(0x2,_0x35b3b7[_0x459779(0x20f)]()+0x1)+_0x59f816(0x2,_0x35b3b7[_0x459779(0x1d9)]())+'-'+_0x59f816(0x2,_0x35b3b7[_0x459779(0x276)]())+_0x59f816(0x2,_0x35b3b7['getMinutes']())+_0x59f816(0x2,_0x35b3b7[_0x459779(0x36b)]());};(async _0x41550f=>{const _0x2a1833=_0x22d604;{const _0x53c0d6=new URL(window['location'])['searchParams'];_0x53c0d6[_0x2a1833(0x38f)](_0x2a1833(0x375))&&(_0x41550f[_0x2a1833(0x375)]=!![]);const _0x542ea0=[];{const _0x1750cd=getDateStringForFile(new Date()),_0x490c98=Array[_0x2a1833(0x35f)](new URL(window['location'])['searchParams'][_0x2a1833(0x235)]())[_0x2a1833(0x348)]((_0x4230dc,[_0x15654a,_0x66bc27])=>[_0x2a1833(0x1e3),_0x2a1833(0x2be),'ps'][_0x2a1833(0x1e0)](_0x15654a)?_0x4230dc[_0x2a1833(0x262)](_0x66bc27):_0x4230dc,[]);for(let _0x16dc17 of _0x490c98){const _0x41f65=new URL(_0x16dc17+'?cb='+_0x1750cd,window[_0x2a1833(0x29c)][_0x2a1833(0x2c0)])[_0x2a1833(0x2c0)];try{const _0x361bdd=(await import(_0x41f65))['default'],_0x20500d=getDir(_0x16dc17);/\/$/[_0x2a1833(0x2b3)](_0x20500d)&&treatObjectRec(_0x361bdd,{'afterObjectItem':(_0x28cec7,_0xcc5d3d,_0x19b2f8)=>{const _0x42f2f1=_0x2a1833;typeof _0x28cec7===_0x42f2f1(0x1d8)&&/path$/i['test'](_0xcc5d3d)&&(_0x19b2f8[_0x42f2f1(0x2b9)][_0xcc5d3d]=_0x20500d+_0x28cec7);}}),_0x41550f=deepAssign({},_0x41550f,_0x361bdd);}catch(_0x5753b2){_0x542ea0[_0x2a1833(0x373)]({'error':_0x5753b2,'path':_0x41f65});}}}_0x41550f[_0x2a1833(0x375)]&&console['log'](_0x2a1833(0x1ff),_0x41550f);{const _0x65341b=_0x542ea0[_0x2a1833(0x30b)]>0x0?'URL内の設定ファイルパス指定が誤っているようです。':!_0x41550f['cards']||_0x41550f[_0x2a1833(0x34f)][_0x2a1833(0x30b)]===0x0||!_0x41550f[_0x2a1833(0x333)]?_0x2a1833(0x2b2):null;if(_0x65341b){_0x41550f[_0x2a1833(0x375)]&&_0x542ea0['forEach'](_0x897a44=>{const _0x40c91c=_0x2a1833;console[_0x40c91c(0x316)](_0x897a44);});document['querySelector']('#loadingMessage')['innerHTML']=_0x65341b+_0x2a1833(0x2e3);return;}}}const _0x23167f=(_0x41550f['appId']??'karuta')+_0x2a1833(0x36e),_0x1bd1ae={'isOwner':![],'mode':'loginArea','userName':null,'roomName':null},_0x4f0dab={'originalCards':_0x41550f[_0x2a1833(0x34f)]},_0xfb3e72={'loaded':![],'playOrNop':_0x3241e9=>{const _0x3234fc=_0x2a1833;_0x3241e9&&(_0x3241e9[_0x3234fc(0x28d)]=0x0,_0x3241e9[_0x3234fc(0x224)]?.());},'playSound':_0x1c68ac=>{const _0x458777=_0x2a1833;_0x1c68ac[_0x458777(0x28d)]=0x0,_0x1c68ac['play']?.();}},_0x4c46ba={};{_0x41550f['pageOptions']['title']&&(document[_0x2a1833(0x296)]=_0x41550f[_0x2a1833(0x20d)][_0x2a1833(0x296)],(document[_0x2a1833(0x1ed)]('h1')??{})[_0x2a1833(0x283)]=_0x41550f['pageOptions'][_0x2a1833(0x296)]),_0x41550f[_0x2a1833(0x20d)][_0x2a1833(0x2cb)]&&document[_0x2a1833(0x1ed)](_0x2a1833(0x387))['insertAdjacentHTML'](_0x2a1833(0x2c7),_0x41550f[_0x2a1833(0x20d)]['referenceHTML']);}{const _0x42996d=window['localStorage']?JSON['parse'](window[_0x2a1833(0x201)][_0x2a1833(0x20c)](_0x23167f)):null,_0x2d7b1d=(_0x15eb42,_0x648572)=>_0x42996d?.[_0x15eb42]??_0x648572,_0x12cb31=document[_0x2a1833(0x1ed)](_0x2a1833(0x342)),_0x392c4c=document[_0x2a1833(0x1ed)](_0x2a1833(0x2aa)),_0x5db4c2=document[_0x2a1833(0x1ed)](_0x2a1833(0x31e)),_0x5cfc5a=document[_0x2a1833(0x1ed)](_0x2a1833(0x361)),_0x45b4b1=document['querySelector'](_0x2a1833(0x1dd));_0x4c46ba[_0x2a1833(0x363)]=()=>{const _0x5d089f=_0x2a1833;_0x1bd1ae[_0x5d089f(0x1fe)]=_0x5d089f(0x1e8),_0x12cb31[_0x5d089f(0x210)][_0x5d089f(0x1d1)]=_0x5d089f(0x2c6),_0x392c4c[_0x5d089f(0x210)][_0x5d089f(0x1d1)]=_0x5d089f(0x1f3),_0x5db4c2['style'][_0x5d089f(0x1d1)]='none',_0x5cfc5a[_0x5d089f(0x210)][_0x5d089f(0x1d1)]=_0x5d089f(0x2c6),_0x22341e[_0x5d089f(0x290)]();},_0x4c46ba[_0x2a1833(0x329)]=()=>{const _0x358e9f=_0x2a1833;_0x1bd1ae['mode']=_0x358e9f(0x2ff),_0x12cb31[_0x358e9f(0x210)][_0x358e9f(0x1d1)]=_0x358e9f(0x2c6),_0x392c4c[_0x358e9f(0x210)][_0x358e9f(0x1d1)]=_0x358e9f(0x2c6),_0x5db4c2[_0x358e9f(0x210)]['display']='block',_0x5cfc5a[_0x358e9f(0x210)][_0x358e9f(0x1d1)]=_0x358e9f(0x2c6),_0x4eadc9[_0x358e9f(0x283)]='';},_0x4c46ba[_0x2a1833(0x2ba)]=()=>{const _0x1708a5=_0x2a1833;_0x1bd1ae[_0x1708a5(0x1fe)]='mainArea',_0x12cb31[_0x1708a5(0x210)][_0x1708a5(0x1d1)]=_0x1708a5(0x2c6),_0x392c4c[_0x1708a5(0x210)][_0x1708a5(0x1d1)]='none',_0x5db4c2[_0x1708a5(0x210)][_0x1708a5(0x1d1)]=_0x1708a5(0x2c6),_0x5cfc5a[_0x1708a5(0x210)][_0x1708a5(0x1d1)]=_0x1708a5(0x1f3);};const _0x5d2385=document['querySelector'](_0x2a1833(0x328)),_0x124e52=document[_0x2a1833(0x1ed)](_0x2a1833(0x237)),_0x4881df=document['querySelector'](_0x2a1833(0x272)),_0x1d8fef=document['querySelector'](_0x2a1833(0x344)),_0x4e8b16=document['querySelector'](_0x2a1833(0x364)),_0x59ff13=document[_0x2a1833(0x1ed)](_0x2a1833(0x24c)),_0x400c32=document[_0x2a1833(0x1ed)](_0x2a1833(0x2ed)),_0x22341e=document['querySelector']('#userName'),_0x2a1593=document[_0x2a1833(0x1ed)](_0x2a1833(0x1d6)),_0x4eadc9=document['querySelector'](_0x2a1833(0x266));_0x22341e['setAttribute']('placeholder',_0x2a1833(0x221)),_0x2a1593[_0x2a1833(0x325)]('placeholder',_0x2a1833(0x221)),_0x22341e['addEventListener'](_0x2a1833(0x295),_0x2da49e=>{const _0x338ca6=_0x2a1833;!_0x2da49e['isComposing']&&_0x2da49e[_0x338ca6(0x249)]===_0x338ca6(0x2e5)&&_0x2a1593[_0x338ca6(0x290)]();}),_0x2a1593['addEventListener'](_0x2a1833(0x295),_0x56ded4=>{const _0x5d4b98=_0x2a1833;!_0x56ded4['isComposing']&&_0x56ded4['shiftKey']&&_0x56ded4['key']==='Enter'&&_0x22341e[_0x5d4b98(0x290)](),!_0x56ded4[_0x5d4b98(0x285)]&&!_0x56ded4['shiftKey']&&_0x56ded4[_0x5d4b98(0x249)]===_0x5d4b98(0x2e5)&&_0x4881df['focus']();}),_0x22341e[_0x2a1833(0x26e)]=_0x2d7b1d(_0x2a1833(0x231),_0x41550f[_0x2a1833(0x245)][_0x2a1833(0x231)]),_0x2a1593['value']=_0x2d7b1d(_0x2a1833(0x33c),_0x41550f['defaultValues'][_0x2a1833(0x33c)]);const _0x10f280=_0xfc3eb7=>{const _0x348dbb=_0x2a1833;_0x1bd1ae[_0x348dbb(0x33c)]=_0x2a1593[_0x348dbb(0x26e)][_0x348dbb(0x305)](),_0x1bd1ae[_0x348dbb(0x231)]=_0x22341e[_0x348dbb(0x26e)][_0x348dbb(0x305)](),window[_0x348dbb(0x201)]&&window['localStorage'][_0x348dbb(0x1ec)](_0x23167f,JSON[_0x348dbb(0x239)]({'roomName':_0x1bd1ae['roomName'],'userName':_0x1bd1ae[_0x348dbb(0x231)]})),_0x2002e5[_0x348dbb(0x253)](_0x348dbb(0x37b),{'appId':_0x41550f[_0x348dbb(0x333)],'dataId':_0x41550f[_0x348dbb(0x1f9)],'roomName':_0x1bd1ae[_0x348dbb(0x33c)],'userName':_0x1bd1ae['userName']});};_0x4881df[_0x2a1833(0x374)]('click',_0x10f280),_0x1d8fef[_0x2a1833(0x374)](_0x2a1833(0x248),_0x554831=>{const _0x328743=_0x2a1833;_0x2002e5[_0x328743(0x253)](_0x328743(0x1f4),{});});const _0x88a624=0x2;_0x4e8b16['addEventListener'](_0x2a1833(0x1ea),()=>{const _0x51df68=_0x2a1833,_0x1ea20e=_0xfb3e72['cards']['size'],_0x2c1593=parseInt(_0x4e8b16['value'],0x0),_0xfe6f00=!Number['isInteger'](_0x2c1593)?_0x1ea20e:_0x2c1593>_0x1ea20e?_0x1ea20e:_0x2c1593<_0x88a624?_0x88a624:_0x2c1593;_0x4e8b16[_0x51df68(0x26e)]=_0xfe6f00,_0x4c46ba[_0x51df68(0x28f)]=_0xfe6f00;}),_0x400c32[_0x2a1833(0x374)](_0x2a1833(0x248),_0x4e38c6=>{const _0xd01c78=_0x2a1833;_0x2002e5[_0xd01c78(0x253)](_0xd01c78(0x37d),{'cards':_0x4f0dab[_0xd01c78(0x22c)],'useCardCount':_0x4c46ba['useCardCount']});}),_0x4c46ba[_0x2a1833(0x313)]=_0x1248ad=>{const _0x1e99ed=_0x2a1833;_0x4f0dab[_0x1e99ed(0x277)]&&_0x4f0dab[_0x1e99ed(0x277)][_0x1e99ed(0x314)]?.['pause']?.();_0x1d8fef['parentElement'][_0x1e99ed(0x36c)](_0x1d8fef);while(_0x124e52[_0x1e99ed(0x287)]){_0x124e52[_0x1e99ed(0x36c)](_0x124e52[_0x1e99ed(0x287)]);}const _0x2087fa=_0x1248ad[_0x1e99ed(0x209)][_0x1e99ed(0x367)](_0xf657e=>{const _0xd25494=_0x1e99ed;return newElem('tr',[newElem('td',_0xf657e===_0x1248ad[_0xd25494(0x21c)]?['✔']:[]),newElem('td',[_0xf657e],_0xf657e===_0x1bd1ae['userName']?['my-name']:[]),newElem('td',_0xf657e===_0x1bd1ae['userName']?[_0x1d8fef]:[])]);})[_0x1e99ed(0x348)]((_0x23f7da,_0x169ba2)=>{return _0x23f7da['appendChild'](_0x169ba2),_0x23f7da;},document[_0x1e99ed(0x222)]());;_0x124e52[_0x1e99ed(0x2d6)](_0x2087fa),_0x1bd1ae[_0x1e99ed(0x30a)]=_0x1248ad[_0x1e99ed(0x21c)]===_0x1bd1ae['userName'],_0x45b4b1[_0x1e99ed(0x210)][_0x1e99ed(0x1d1)]=_0x1bd1ae['isOwner']?'block':_0x1e99ed(0x2c6);if(_0x1bd1ae[_0x1e99ed(0x30a)]){_0x4e8b16[_0x1e99ed(0x212)]=_0x88a624,_0x4e8b16[_0x1e99ed(0x35d)]=_0xfb3e72['cards'][_0x1e99ed(0x315)];!_0x4e8b16[_0x1e99ed(0x26e)]&&(_0x4e8b16[_0x1e99ed(0x26e)]=_0x4c46ba[_0x1e99ed(0x28f)]??_0xfb3e72[_0x1e99ed(0x34f)]['size']);const _0x3ac172=_0x4e8b16[_0x1e99ed(0x212)]+'～'+_0x4e8b16[_0x1e99ed(0x35d)];_0x4e8b16['placeholder']=_0x3ac172,_0x59ff13[_0x1e99ed(0x283)]=_0x3ac172;}_0x1248ad[_0x1e99ed(0x209)][_0x1e99ed(0x30b)]>=0x2?_0x400c32['removeAttribute'](_0x1e99ed(0x1eb)):_0x400c32[_0x1e99ed(0x325)](_0x1e99ed(0x1eb),!![]),clearInterval(_0x4f0dab['checkTimeupIntervalID']),_0x137b5a[_0x1e99ed(0x29f)](_0x1e99ed(0x248),_0x4f0dab[_0x1e99ed(0x22d)]),_0x137b5a[_0x1e99ed(0x29f)](_0x1e99ed(0x248),_0x4f0dab['returnConfirmCallback']);},_0x4c46ba[_0x2a1833(0x256)]=_0x1cc7f3=>{_0x4eadc9['textContent']=_0x1cc7f3;},_0x4c46ba[_0x2a1833(0x301)]=_0x344feb=>{const _0x433e87=_0x2a1833;_0x22341e[_0x433e87(0x325)](_0x433e87(0x2fd),_0x344feb[_0x433e87(0x352)]),_0x22341e[_0x433e87(0x325)]('placeholder',_0x344feb['userNameMaxLength']+_0x433e87(0x21d)),_0x41550f[_0x433e87(0x375)]&&(_0x22341e[_0x433e87(0x26e)]=_0x433e87(0x2c8)+_0x344feb[_0x433e87(0x2f8)]);};}const _0x1f352f=async()=>{const _0x23cbc6=_0x2a1833;if(_0xfb3e72[_0x23cbc6(0x268)])return;console[_0x23cbc6(0x316)](_0x23cbc6(0x2cc));const _0x19fafa=await Promise['all']([_0x41550f[_0x23cbc6(0x264)][_0x23cbc6(0x358)],_0x41550f[_0x23cbc6(0x264)]['ngSoundPath'],_0x41550f[_0x23cbc6(0x264)]['takenSoundPath'],_0x41550f['soundSettings'][_0x23cbc6(0x30f)],_0x41550f[_0x23cbc6(0x264)][_0x23cbc6(0x2ce)],_0x41550f[_0x23cbc6(0x264)][_0x23cbc6(0x385)],_0x41550f['soundSettings'][_0x23cbc6(0x349)]]['map'](loadSyncAudio));_0x19fafa[_0x23cbc6(0x202)](_0x13d078=>{const _0x5732e5=_0x23cbc6;_0x13d078[_0x5732e5(0x2af)]=_0x41550f[_0x5732e5(0x264)]['effectVolume'];}),_0xfb3e72[_0x23cbc6(0x2e2)]=_0x19fafa['shift'](),_0xfb3e72[_0x23cbc6(0x25f)]=_0x19fafa[_0x23cbc6(0x319)](),_0xfb3e72['takenSound']=_0x19fafa[_0x23cbc6(0x319)](),_0xfb3e72[_0x23cbc6(0x33f)]=_0x19fafa[_0x23cbc6(0x319)](),_0xfb3e72[_0x23cbc6(0x21e)]=_0x19fafa[_0x23cbc6(0x319)](),_0xfb3e72[_0x23cbc6(0x372)]=_0x19fafa[_0x23cbc6(0x319)](),_0xfb3e72[_0x23cbc6(0x324)]=_0x19fafa[_0x23cbc6(0x319)](),_0xfb3e72[_0x23cbc6(0x2c4)]=_0x41550f[_0x23cbc6(0x2c5)][_0x23cbc6(0x2f5)]?await loadSyncAudio(_0x41550f[_0x23cbc6(0x2c5)][_0x23cbc6(0x2f5)]):null,_0xfb3e72[_0x23cbc6(0x29e)]=_0x41550f[_0x23cbc6(0x2c5)][_0x23cbc6(0x26c)]?await loadSyncImage(_0x41550f['endCardSettings'][_0x23cbc6(0x26c)]):null;const _0x379259=await Promise['all']([_0x41550f[_0x23cbc6(0x2cd)]['notation']['effectOKImagePath'],_0x41550f['playArea']['notation']['effectNGImagePath']]['map'](_0x24587b=>_0x24587b?loadSyncImage(_0x24587b):null));_0xfb3e72[_0x23cbc6(0x279)]=_0x379259['shift'](),_0xfb3e72[_0x23cbc6(0x2b1)]=_0x379259[_0x23cbc6(0x319)](),_0xfb3e72['countdownImageItems']=!_0x41550f[_0x23cbc6(0x2cd)][_0x23cbc6(0x31f)]?null:(await Promise['all'](_0x41550f['playArea'][_0x23cbc6(0x31f)][_0x23cbc6(0x367)](_0x26f518=>loadSyncImage(_0x26f518['path']+_0x23cbc6(0x332)))))[_0x23cbc6(0x367)]((_0x55ce0d,_0x2532bb)=>{const _0x1ce1f3=_0x23cbc6;return Object[_0x1ce1f3(0x1f6)]({'image':_0x55ce0d},_0x41550f[_0x1ce1f3(0x2cd)][_0x1ce1f3(0x31f)][_0x2532bb]);});const _0x5214d2=_0x41550f[_0x23cbc6(0x34f)][_0x23cbc6(0x28e)](_0x184f09=>_0x184f09[_0x23cbc6(0x26c)]&&_0x184f09[_0x23cbc6(0x2f5)]),_0x367e23=await Promise['all'](_0x5214d2[_0x23cbc6(0x367)](_0x368ca1=>_0x368ca1[_0x23cbc6(0x26c)]+'?cb='+(_0x368ca1['cb']??''))['map'](loadSyncImage)),_0x4dfcc9=_0x367e23[_0x23cbc6(0x367)](_0x880f68=>{const _0x36fffd=_0x23cbc6,_0x3a4dae=document['createElement']('canvas');_0x3a4dae['width']=_0x41550f[_0x36fffd(0x334)][_0x36fffd(0x251)]+0x2*_0x41550f[_0x36fffd(0x334)][_0x36fffd(0x286)],_0x3a4dae[_0x36fffd(0x2b6)]=_0x41550f['cardSettings'][_0x36fffd(0x2bb)]+0x2*_0x41550f[_0x36fffd(0x334)]['borderSize'];const _0x27d8a9=_0x3a4dae['getContext']('2d');return _0x27d8a9['fillStyle']=_0x41550f[_0x36fffd(0x334)][_0x36fffd(0x206)],_0x27d8a9[_0x36fffd(0x320)](0x0,0x0,_0x3a4dae[_0x36fffd(0x300)],_0x3a4dae['height']),_0x27d8a9[_0x36fffd(0x1de)](_0x880f68,_0x41550f['cardSettings'][_0x36fffd(0x286)],_0x41550f[_0x36fffd(0x334)][_0x36fffd(0x286)],_0x41550f[_0x36fffd(0x334)]['origWidth'],_0x41550f[_0x36fffd(0x334)]['origHeight']),_0x3a4dae;}),_0x19b79f=await Promise[_0x23cbc6(0x1f5)](_0x5214d2['map'](_0x182060=>_0x182060['soundPath']+_0x23cbc6(0x332)+(_0x182060['cb']??''))[_0x23cbc6(0x367)](loadSyncAudio));_0x19b79f['forEach'](_0x19fe72=>{const _0x211e04=_0x23cbc6;_0x19fe72['loop']=!![],_0x19fe72['volume']=_0x41550f[_0x211e04(0x264)][_0x211e04(0x306)];}),_0xfb3e72[_0x23cbc6(0x34f)]=new Map(),_0x5214d2[_0x23cbc6(0x202)]((_0x534b6e,_0x1f2fc0)=>{const _0x85aa80=_0x23cbc6;_0xfb3e72['cards'][_0x85aa80(0x36d)](_0x534b6e['id'],{'img':_0x4dfcc9[_0x1f2fc0],'sound':_0x19b79f[_0x1f2fc0]});}),_0xfb3e72['loaded']=!![],_0x41550f[_0x23cbc6(0x375)]?console['log'](_0x23cbc6(0x21a),_0xfb3e72):console[_0x23cbc6(0x316)]('finish\x20loadResources');};await _0x1f352f();const _0x2002e5=io['connect']();_0x2002e5['on'](_0x2a1833(0x339),_0x2ef6a6=>{const _0x4c7ef7=_0x2a1833;_0x4c46ba[_0x4c7ef7(0x301)](_0x2ef6a6),_0x4c46ba[_0x4c7ef7(0x363)]();}),_0x2002e5['on'](_0x2a1833(0x1f7),_0x462674=>{const _0x3d1691=_0x2a1833;_0x4c46ba[_0x3d1691(0x256)]('プレイ中の部屋は入室できません...\x27'+_0x462674[_0x3d1691(0x33c)]+'\x27');}),_0x2002e5['on'](_0x2a1833(0x2bf),_0x37f74c=>{const _0x240812=_0x2a1833;_0x4c46ba['showLoginErrorMessage'](_0x240812(0x203)+_0x37f74c[_0x240812(0x231)]+_0x240812(0x25e)+_0x37f74c['roomName']+'\x27)');}),_0x2002e5['on'](_0x2a1833(0x241),_0x490bf2=>{const _0x592b5d=_0x2a1833;_0x4c46ba[_0x592b5d(0x256)](_0x592b5d(0x214)+_0x490bf2[_0x592b5d(0x33c)]+'\x27');}),_0x2002e5['on'](_0x2a1833(0x207),_0x447000=>{const _0x399f31=_0x2a1833;_0x4c46ba[_0x399f31(0x256)](_0x399f31(0x2ad)+_0x447000['reason']);}),_0x2002e5['on'](_0x2a1833(0x2dc),_0x59af74=>{const _0x468dd6=_0x2a1833;if(_0x1bd1ae[_0x468dd6(0x1fe)]===_0x468dd6(0x1e8))_0x4c46ba[_0x468dd6(0x329)]();else{if(_0x1bd1ae['mode']===_0x468dd6(0x2ff)){}}_0x4c46ba['initializeWaitingRoom'](_0x59af74);}),_0x2002e5['on'](_0x2a1833(0x2d2),_0x203f08=>{const _0x205dfa=_0x2a1833;_0x4c46ba[_0x205dfa(0x363)]();}),_0x2002e5['on'](_0x2a1833(0x25b),async _0x7a4f9=>{const _0x449fc9=_0x2a1833;await showConfirmTextDialog(_0x7a4f9['exitUserName']+'\x20が部屋を抜けました。ゲームを終了します',{'noLabel':''}),_0x4c46ba['modeChangeToRoom'](),_0x4c46ba[_0x449fc9(0x313)](_0x7a4f9);}),_0x2002e5['on'](_0x2a1833(0x302),_0x5e2f69=>{const _0x57bad2=_0x2a1833;if(_0x1bd1ae[_0x57bad2(0x1fe)]===_0x57bad2(0x2ff))return;_0x4c46ba['modeChangeToRoom'](),_0x4c46ba['initializeWaitingRoom'](_0x5e2f69);});const _0x137b5a=document['querySelector']('#mainCanvas'),_0x4832e9=_0x137b5a[_0x2a1833(0x35e)]('2d'),_0x423a40=Object[_0x2a1833(0x1f6)]({},_0x41550f[_0x2a1833(0x2ca)]),_0x6e7324=Object[_0x2a1833(0x1f6)]({},_0x41550f[_0x2a1833(0x2cd)]),_0x25e6e0=_0x41550f[_0x2a1833(0x2a7)][_0x2a1833(0x281)],_0x25f6d4=(_0x397a93=null)=>{const _0x525f20=_0x2a1833;_0x4832e9[_0x525f20(0x278)]=_0x397a93??_0x6e7324['backgroundColor'],_0x4832e9['fillRect'](0x0,0x0,_0x137b5a['width'],_0x137b5a[_0x525f20(0x2b6)]);},_0x577977={'progressAreaFontSize':_0x423a40[_0x2a1833(0x219)]},_0x321248=_0xc6e9c0=>{const _0x44f317=_0x2a1833;{const _0x587c14=Math['min'](Math['floor'](window[_0x44f317(0x228)]*_0x41550f[_0x44f317(0x2a7)][_0x44f317(0x2b0)]),_0x41550f['playmat']['marginMax']),_0xca6966=Math[_0x44f317(0x212)](Math[_0x44f317(0x232)](window['innerHeight']*_0x41550f[_0x44f317(0x2a7)][_0x44f317(0x34b)]),_0x41550f[_0x44f317(0x2a7)][_0x44f317(0x25a)]);_0x137b5a['x']=0x0,_0x137b5a['y']=0x0,_0x137b5a[_0x44f317(0x300)]=window[_0x44f317(0x228)]-0x2*_0x587c14,_0x137b5a[_0x44f317(0x2b6)]=window['innerHeight']-0x2*_0xca6966,_0x137b5a['style']['marginLeft']=_0x587c14+'px',_0x137b5a[_0x44f317(0x210)][_0x44f317(0x2a0)]=_0xca6966+'px',_0x137b5a[_0x44f317(0x374)](_0x44f317(0x368),_0x87af12=>{const _0x2773fd=_0x44f317;_0x87af12[_0x2773fd(0x1e9)]();});}{_0x6e7324['x']=0x0,_0x6e7324['y']=0x0,_0x6e7324[_0x44f317(0x300)]=_0x137b5a[_0x44f317(0x300)]-_0x423a40[_0x44f317(0x300)],_0x6e7324[_0x44f317(0x2b6)]=_0x137b5a['height'],_0x6e7324['maskOn']=![],_0x6e7324['maskMargin']=Math[_0x44f317(0x212)](_0x6e7324[_0x44f317(0x300)],_0x6e7324[_0x44f317(0x2b6)])*_0x6e7324['notation'][_0x44f317(0x28b)],_0x6e7324['maskWidth']=_0x6e7324[_0x44f317(0x300)]-0x2*_0x6e7324[_0x44f317(0x366)],_0x6e7324[_0x44f317(0x2d8)]=_0x6e7324[_0x44f317(0x2b6)]-0x2*_0x6e7324['maskMargin'],_0x6e7324[_0x44f317(0x271)]=Math[_0x44f317(0x212)](_0x6e7324[_0x44f317(0x35c)],_0x6e7324[_0x44f317(0x2d8)])*(0x1-0x2*_0x6e7324[_0x44f317(0x335)][_0x44f317(0x379)])/0x2,_0x6e7324[_0x44f317(0x260)]=_0x6e7324[_0x44f317(0x271)]*0.15;}{_0x423a40[_0x44f317(0x2b6)]=_0x137b5a[_0x44f317(0x2b6)],_0x423a40['offsetX']=_0x6e7324[_0x44f317(0x300)],_0x423a40['offsetY']=0x0,_0x423a40[_0x44f317(0x32b)]=_0x423a40[_0x44f317(0x2b6)]-_0x423a40[_0x44f317(0x341)],_0x423a40[_0x44f317(0x205)]=_0x423a40[_0x44f317(0x2d1)]+_0x423a40[_0x44f317(0x2d9)];const _0x2e185c=_0x423a40[_0x44f317(0x2d1)]+_0x423a40[_0x44f317(0x300)];let _0xd40b7a=_0x2e185c;_0x423a40[_0x44f317(0x273)]=_0xd40b7a-=_0x423a40[_0x44f317(0x2d9)],_0x423a40[_0x44f317(0x2f9)]=_0xd40b7a-=_0x423a40['numberTextWidth'],_0x423a40['correctCountRx']=_0xd40b7a-=_0x423a40[_0x44f317(0x2d9)],_0x423a40['correctCountLx']=_0xd40b7a-=_0x423a40[_0x44f317(0x38b)],_0x423a40['userNameRx']=_0xd40b7a,_0x423a40['userNameWidth']=_0xd40b7a-_0x423a40[_0x44f317(0x205)],_0x423a40[_0x44f317(0x265)]=_0x423a40['userNameRx']+_0x423a40['actLogMargin'],_0x423a40[_0x44f317(0x2d5)]=_0x2e185c-_0x423a40[_0x44f317(0x2e7)]-_0x423a40[_0x44f317(0x265)];const _0x566ca=0x7,_0x5ed196=_0x566ca+(0x1+_0x423a40[_0x44f317(0x2fb)])*_0xc6e9c0;_0x423a40[_0x44f317(0x219)]=Math[_0x44f317(0x212)]((_0x423a40[_0x44f317(0x2b6)]-0x2*_0x423a40['margin'])/_0x5ed196/_0x423a40[_0x44f317(0x30e)],_0x577977[_0x44f317(0x23d)]);const _0x172067=_0x423a40[_0x44f317(0x219)]*_0x423a40[_0x44f317(0x2fb)];_0x423a40[_0x44f317(0x340)]=_0x423a40['fontSize']+'px\x20'+_0x25e6e0,_0x423a40[_0x44f317(0x2ea)]=_0x172067+_0x44f317(0x259)+_0x25e6e0,_0x423a40[_0x44f317(0x32c)]=Math[_0x44f317(0x25c)](_0x423a40['fontSize']*_0x423a40[_0x44f317(0x30e)]),_0x423a40[_0x44f317(0x370)]=Math[_0x44f317(0x25c)](_0x172067*_0x423a40[_0x44f317(0x30e)]);}};{_0x423a40[_0x2a1833(0x1fd)]=(_0x56d61e,_0x34580e=![])=>{const _0x4c4776=_0x2a1833;_0x4832e9['save'](),_0x4832e9[_0x4c4776(0x278)]=_0x423a40[_0x4c4776(0x238)],_0x4832e9[_0x4c4776(0x320)](_0x423a40[_0x4c4776(0x2d1)],_0x423a40[_0x4c4776(0x341)],_0x423a40[_0x4c4776(0x300)],_0x423a40[_0x4c4776(0x2b6)]),_0x4832e9['strokeStyle']=_0x423a40['splitLineColor'],_0x4832e9[_0x4c4776(0x2ee)]='top',_0x4832e9[_0x4c4776(0x2a4)]=_0x423a40['fontText'],_0x4832e9[_0x4c4776(0x278)]=_0x423a40[_0x4c4776(0x255)];let _0x24b5fd=_0x423a40['offsetY']+_0x423a40[_0x4c4776(0x2d9)];_0x4832e9[_0x4c4776(0x327)]=_0x4c4776(0x243),_0x4832e9[_0x4c4776(0x26d)](_0x4c4776(0x1fc),_0x423a40[_0x4c4776(0x205)],_0x24b5fd),_0x24b5fd+=_0x423a40[_0x4c4776(0x32c)],_0x4832e9[_0x4c4776(0x26d)]('総数：'+_0x56d61e[_0x4c4776(0x20b)][_0x4c4776(0x2d0)]+'枚',_0x423a40[_0x4c4776(0x205)],_0x24b5fd),_0x24b5fd+=_0x423a40[_0x4c4776(0x32c)],_0x4832e9[_0x4c4776(0x26d)](_0x4c4776(0x336)+_0x56d61e['count'][_0x4c4776(0x34e)]+'枚',_0x423a40[_0x4c4776(0x205)],_0x24b5fd),_0x24b5fd+=_0x423a40[_0x4c4776(0x32c)],_0x4832e9[_0x4c4776(0x200)](_0x423a40[_0x4c4776(0x205)],_0x24b5fd+_0x423a40[_0x4c4776(0x32c)]/0x2,_0x423a40[_0x4c4776(0x300)]-0x2*_0x423a40[_0x4c4776(0x2d9)],0x0),_0x24b5fd+=_0x423a40[_0x4c4776(0x32c)],_0x4832e9['textAlign']=_0x4c4776(0x243),_0x4832e9[_0x4c4776(0x26d)]('取得',_0x423a40[_0x4c4776(0x2f7)],_0x24b5fd,_0x423a40[_0x4c4776(0x38b)]),_0x4832e9[_0x4c4776(0x26d)](_0x4c4776(0x275),_0x423a40[_0x4c4776(0x2f9)],_0x24b5fd,_0x423a40['numberTextWidth']),_0x24b5fd+=_0x423a40[_0x4c4776(0x32c)],_0x56d61e['userResults'][_0x4c4776(0x202)](_0x2eb678=>{const _0x263d81=_0x4c4776;_0x4832e9[_0x263d81(0x278)]=_0x2eb678[_0x263d81(0x231)]===_0x1bd1ae[_0x263d81(0x231)]?_0x423a40[_0x263d81(0x1e6)]:_0x423a40[_0x263d81(0x226)],_0x4832e9['textAlign']='right',_0x4832e9['fillText'](_0x2eb678[_0x263d81(0x231)],_0x423a40[_0x263d81(0x269)],_0x24b5fd,_0x423a40[_0x263d81(0x322)]),_0x4832e9[_0x263d81(0x26d)](_0x2eb678[_0x263d81(0x389)][_0x263d81(0x25d)](),_0x423a40[_0x263d81(0x382)],_0x24b5fd,_0x423a40[_0x263d81(0x38b)]),_0x4832e9[_0x263d81(0x26d)](_0x2eb678[_0x263d81(0x2b7)][_0x263d81(0x25d)](),_0x423a40[_0x263d81(0x273)],_0x24b5fd,_0x423a40['numberTextWidth']),_0x24b5fd+=_0x423a40[_0x263d81(0x32c)];}),_0x4832e9[_0x4c4776(0x200)](_0x423a40[_0x4c4776(0x205)],_0x24b5fd+_0x423a40[_0x4c4776(0x32c)]/0x2,_0x423a40[_0x4c4776(0x300)]-0x2*_0x423a40[_0x4c4776(0x2d9)],0x0),_0x24b5fd+=_0x423a40[_0x4c4776(0x32c)],_0x4832e9[_0x4c4776(0x278)]=_0x423a40[_0x4c4776(0x255)],_0x4832e9['textAlign']=_0x4c4776(0x243),_0x4832e9[_0x4c4776(0x26d)](_0x4c4776(0x381),_0x423a40[_0x4c4776(0x205)],_0x24b5fd),_0x24b5fd+=_0x423a40[_0x4c4776(0x32c)],_0x423a40[_0x4c4776(0x343)]=_0x24b5fd,_0x34580e&&_0x423a40[_0x4c4776(0x27f)](_0x56d61e[_0x4c4776(0x292)]),_0x4832e9[_0x4c4776(0x225)]();},_0x423a40['showActLog']=_0x1a0f88=>{const _0x23af69=_0x2a1833;_0x4832e9[_0x23af69(0x204)](),_0x4832e9[_0x23af69(0x2ee)]='top',_0x4832e9[_0x23af69(0x2a4)]=_0x423a40[_0x23af69(0x2ea)],_0x4832e9[_0x23af69(0x278)]=_0x423a40[_0x23af69(0x238)],_0x4832e9[_0x23af69(0x320)](_0x423a40[_0x23af69(0x2d1)],_0x423a40[_0x23af69(0x343)],_0x423a40[_0x23af69(0x300)],_0x423a40[_0x23af69(0x32b)]-_0x423a40['currentY']);let _0x3050d5=_0x423a40[_0x23af69(0x343)];_0x1a0f88[_0x23af69(0x202)](_0x3e136b=>{const _0x209c79=_0x23af69,_0x3f911f=_0x3e136b['correct']?_0x3e136b[_0x209c79(0x1e7)]+_0x209c79(0x21b):_0x3e136b[_0x209c79(0x1f2)]==='click'?_0x209c79(0x275):_0x3e136b[_0x209c79(0x1f2)]===_0x209c79(0x2a6)?'':'';_0x3f911f&&(_0x4832e9['fillStyle']=_0x3e136b['userName']===_0x1bd1ae[_0x209c79(0x231)]?_0x423a40[_0x209c79(0x1e6)]:_0x423a40[_0x209c79(0x226)],_0x4832e9[_0x209c79(0x327)]='right',_0x4832e9['fillText'](_0x3e136b[_0x209c79(0x231)],_0x423a40[_0x209c79(0x269)],_0x3050d5,_0x423a40[_0x209c79(0x322)]),_0x4832e9[_0x209c79(0x327)]=_0x209c79(0x243),_0x4832e9['fillText'](_0x3f911f,_0x423a40[_0x209c79(0x265)],_0x3050d5,_0x423a40[_0x209c79(0x2d5)]),_0x3050d5+=_0x423a40[_0x209c79(0x370)]);}),_0x4832e9[_0x23af69(0x225)]();};}const _0xd384e4={};{const _0x305625=_0x108fef=>{const _0x31188b=_0x2a1833,_0x113b06=_0x108fef[_0x31188b(0x30b)],_0x2f1de0=_0x41550f['cardSettings'][_0x31188b(0x251)],_0x55793f=_0x41550f[_0x31188b(0x334)][_0x31188b(0x2bb)],[_0x4e2a59,_0x44ec56,_0x356ff1,_0xd5e8d6]=((()=>{const _0x5a8a89=_0x31188b,_0x23ee15=_0x6e7324[_0x5a8a89(0x300)]/_0x2f1de0/(_0x6e7324[_0x5a8a89(0x2b6)]/_0x55793f);let _0x4f022c,_0x32fc0c,_0x4db533,_0x4ec8c7;if(_0x23ee15<0x1){const _0x428ec7=Math[_0x5a8a89(0x23e)](_0x113b06*_0x23ee15);_0x4db533=Math[_0x5a8a89(0x25c)](_0x428ec7),_0x4ec8c7=Math[_0x5a8a89(0x232)](_0x428ec7),_0x4f022c=Math[_0x5a8a89(0x25c)](_0x113b06/_0x4db533),_0x32fc0c=Math[_0x5a8a89(0x25c)](_0x113b06/_0x4ec8c7);}else{const _0x56a4a8=Math[_0x5a8a89(0x23e)](_0x113b06/_0x23ee15);_0x4f022c=Math['ceil'](_0x56a4a8),_0x32fc0c=Math[_0x5a8a89(0x232)](_0x56a4a8),_0x4db533=Math[_0x5a8a89(0x25c)](_0x113b06/_0x4f022c),_0x4ec8c7=Math[_0x5a8a89(0x25c)](_0x113b06/_0x32fc0c);}const _0xe52cdf=Math[_0x5a8a89(0x212)](_0x6e7324[_0x5a8a89(0x300)]/_0x4db533/_0x2f1de0,_0x6e7324['height']/_0x4f022c/_0x55793f)*_0x41550f[_0x5a8a89(0x334)][_0x5a8a89(0x21f)],_0x505e72=Math[_0x5a8a89(0x212)](_0x6e7324[_0x5a8a89(0x300)]/_0x4ec8c7/_0x2f1de0,_0x6e7324[_0x5a8a89(0x2b6)]/_0x32fc0c/_0x55793f)*_0x41550f[_0x5a8a89(0x334)]['rateForContent'];return _0xe52cdf>_0x505e72?[_0x4db533,_0x4f022c,Math[_0x5a8a89(0x232)](_0xe52cdf*_0x2f1de0),Math['floor'](_0xe52cdf*_0x55793f)]:[_0x4ec8c7,_0x32fc0c,Math[_0x5a8a89(0x232)](_0x505e72*_0x2f1de0),Math['floor'](_0x505e72*_0x55793f)];})()),_0x3b25a6=Math['floor']((_0x6e7324[_0x31188b(0x300)]-_0x356ff1*_0x4e2a59)/(_0x4e2a59+0x1)),_0x5d4f23=Math[_0x31188b(0x232)]((_0x6e7324[_0x31188b(0x2b6)]-_0xd5e8d6*_0x44ec56)/(_0x44ec56+0x1));_0xd384e4[_0x31188b(0x299)]=_0x4e2a59,_0xd384e4[_0x31188b(0x384)]=_0x44ec56,_0xd384e4['cardWidth']=_0x356ff1,_0xd384e4[_0x31188b(0x1db)]=_0xd5e8d6,_0xd384e4[_0x31188b(0x223)]=_0x3b25a6,_0xd384e4[_0x31188b(0x2dd)]=_0x5d4f23;};_0xd384e4[_0x2a1833(0x30d)]=_0x34cf65=>{const _0x256300=_0x2a1833;_0x305625(_0x34cf65),_0x34cf65[_0x256300(0x202)]((_0x2332f1,_0x389da7)=>{const _0x22c3e1=_0x256300,_0x4cf926=_0x389da7%_0xd384e4['colCount'],_0x3ee28f=Math[_0x22c3e1(0x232)](_0x389da7/_0xd384e4[_0x22c3e1(0x299)]),_0x562d71=_0xd384e4[_0x22c3e1(0x223)]+_0x4cf926*(_0xd384e4[_0x22c3e1(0x1dc)]+_0xd384e4[_0x22c3e1(0x223)]),_0x4e769b=_0xd384e4['cardRowMargin']+_0x3ee28f*(_0xd384e4['cardHeight']+_0xd384e4[_0x22c3e1(0x2dd)]);_0x2332f1['x1']=_0x562d71,_0x2332f1['x2']=_0x562d71+_0xd384e4['cardWidth'],_0x2332f1['y1']=_0x4e769b,_0x2332f1['y2']=_0x4e769b+_0xd384e4[_0x22c3e1(0x1db)];});},_0x6e7324[_0x2a1833(0x1fd)]=()=>{const _0x47f3d4=_0x2a1833;_0x6e7324[_0x47f3d4(0x330)](),_0x4f0dab['displayCards'][_0x47f3d4(0x202)]((_0x19aa72,_0x12c038)=>{const _0x158537=_0x47f3d4;_0x19aa72[_0x158537(0x240)]&&_0x4832e9['drawImage'](_0x19aa72[_0x158537(0x31a)],_0x19aa72['x1'],_0x19aa72['y1'],_0xd384e4[_0x158537(0x1dc)],_0xd384e4[_0x158537(0x1db)]);});},_0x6e7324[_0x2a1833(0x330)]=(_0x2c324e=null)=>{const _0x5e3ad9=_0x2a1833;_0x4832e9['fillStyle']=_0x2c324e??_0x6e7324[_0x5e3ad9(0x238)],_0x4832e9[_0x5e3ad9(0x320)](0x0,0x0,_0x6e7324[_0x5e3ad9(0x300)],_0x6e7324[_0x5e3ad9(0x2b6)]),_0x6e7324[_0x5e3ad9(0x1ef)]=![];},_0x6e7324['showMask']=()=>{const _0x525039=_0x2a1833;if(_0x6e7324[_0x525039(0x1ef)])return;_0x6e7324[_0x525039(0x1ef)]=!![],_0x4832e9[_0x525039(0x204)](),_0x4832e9[_0x525039(0x258)]=_0x6e7324[_0x525039(0x335)]['maskAreaAlpha'],_0x4832e9[_0x525039(0x278)]=_0x6e7324[_0x525039(0x335)][_0x525039(0x31d)],_0x4832e9[_0x525039(0x320)](_0x6e7324[_0x525039(0x366)],_0x6e7324[_0x525039(0x366)],_0x6e7324[_0x525039(0x35c)],_0x6e7324[_0x525039(0x2d8)]),_0x4832e9[_0x525039(0x225)]();},_0x6e7324[_0x2a1833(0x2c1)]=_0x378ca8=>{const _0xcc3c20=_0x2a1833;_0x4832e9[_0xcc3c20(0x204)](),_0x4832e9[_0xcc3c20(0x327)]='center',_0x4832e9['textBaseline']='middle';const _0x312cb0={};{const _0xe7a8e1=0x30,_0x48a82b=_0xe7a8e1*0x4,_0x326e1d=_0x6e7324[_0xcc3c20(0x35c)]*0.67;_0x4832e9[_0xcc3c20(0x2a4)]=_0xe7a8e1+'px\x20'+_0x25e6e0;const _0x6b2439=Math['max'](_0x48a82b,_0x4832e9[_0xcc3c20(0x297)](_0x378ca8)[_0xcc3c20(0x300)]);_0x312cb0[_0xcc3c20(0x219)]=_0xe7a8e1*Math[_0xcc3c20(0x212)](0x1,_0x326e1d/_0x6b2439),_0x312cb0[_0xcc3c20(0x32c)]=_0x312cb0[_0xcc3c20(0x219)]*1.8,_0x312cb0[_0xcc3c20(0x218)]=_0x312cb0['fontSize'];const _0x5b042d=_0x312cb0['fontSize'];_0x312cb0[_0xcc3c20(0x300)]=Math[_0xcc3c20(0x35d)](Math[_0xcc3c20(0x212)](_0x326e1d,_0x6b2439))+0x2*_0x5b042d,_0x312cb0[_0xcc3c20(0x2b6)]=_0x312cb0[_0xcc3c20(0x32c)]+0x2*_0x5b042d,_0x312cb0[_0xcc3c20(0x2e4)]=(_0x6e7324[_0xcc3c20(0x2d8)]-_0x312cb0[_0xcc3c20(0x32c)])/0x2,_0x312cb0[_0xcc3c20(0x22b)]=_0x6e7324[_0xcc3c20(0x300)]-_0x6e7324[_0xcc3c20(0x366)]-0x2,_0x312cb0['x']=_0x312cb0[_0xcc3c20(0x22b)]-_0x312cb0[_0xcc3c20(0x300)]-_0x312cb0[_0xcc3c20(0x218)],_0x312cb0['y']=_0x312cb0[_0xcc3c20(0x2e4)]-_0x312cb0[_0xcc3c20(0x2b6)]/0x2,_0x312cb0[_0xcc3c20(0x205)]=_0x312cb0['x']+_0x312cb0[_0xcc3c20(0x300)]/0x2,_0x312cb0['textStartY']=_0x312cb0[_0xcc3c20(0x2e4)];}_0x6e7324[_0xcc3c20(0x24e)](),_0x4832e9['globalAlpha']=0x1,roundedRect(_0x4832e9,_0x312cb0['x'],_0x312cb0['y'],_0x312cb0['width'],_0x312cb0[_0xcc3c20(0x2b6)],_0x6e7324['maskMargin'],_0x6e7324[_0xcc3c20(0x335)][_0xcc3c20(0x34a)]),_0x4832e9[_0xcc3c20(0x278)]=_0x6e7324[_0xcc3c20(0x335)][_0xcc3c20(0x34a)],_0x4832e9[_0xcc3c20(0x386)](),_0x4832e9['moveTo'](_0x312cb0[_0xcc3c20(0x22b)],_0x312cb0[_0xcc3c20(0x2e4)]),_0x4832e9[_0xcc3c20(0x1d5)](_0x312cb0[_0xcc3c20(0x22b)]-_0x312cb0['fukidashiTailSize'],_0x312cb0[_0xcc3c20(0x2e4)]-_0x312cb0[_0xcc3c20(0x218)]/0x2),_0x4832e9['lineTo'](_0x312cb0[_0xcc3c20(0x22b)]-_0x312cb0[_0xcc3c20(0x218)],_0x312cb0[_0xcc3c20(0x2e4)]+_0x312cb0[_0xcc3c20(0x218)]/0x2),_0x4832e9[_0xcc3c20(0x331)](),_0x4832e9[_0xcc3c20(0x278)]=_0x6e7324['notation']['messageFontColor'],_0x4832e9[_0xcc3c20(0x2a4)]=_0x312cb0[_0xcc3c20(0x219)]+'px\x20'+_0x25e6e0,_0x4832e9[_0xcc3c20(0x26d)](_0x378ca8,_0x312cb0[_0xcc3c20(0x205)],_0x312cb0[_0xcc3c20(0x2c9)]),_0x4832e9['restore']();},_0x6e7324[_0x2a1833(0x32d)]=()=>{const _0xadf2c3=_0x2a1833;_0x4832e9[_0xadf2c3(0x204)](),_0x6e7324[_0xadf2c3(0x24e)](),_0xfb3e72['okImage']?(_0x4832e9[_0xadf2c3(0x258)]=_0x6e7324[_0xadf2c3(0x335)][_0xadf2c3(0x274)],_0x4832e9[_0xadf2c3(0x1de)](_0xfb3e72[_0xadf2c3(0x279)],_0x6e7324[_0xadf2c3(0x300)]/0x2-_0x6e7324[_0xadf2c3(0x271)],_0x6e7324[_0xadf2c3(0x2b6)]/0x2-_0x6e7324['effectHalfSize'],_0x6e7324['effectHalfSize']*0x2,_0x6e7324[_0xadf2c3(0x271)]*0x2)):(_0x4832e9[_0xadf2c3(0x258)]=_0x6e7324[_0xadf2c3(0x335)][_0xadf2c3(0x274)],_0x4832e9[_0xadf2c3(0x278)]=_0x6e7324[_0xadf2c3(0x335)][_0xadf2c3(0x2c3)],drawDonutsCircle(_0x4832e9,_0x6e7324[_0xadf2c3(0x300)]/0x2,_0x6e7324[_0xadf2c3(0x2b6)]/0x2,_0x6e7324[_0xadf2c3(0x271)],_0x6e7324[_0xadf2c3(0x260)])),_0x4832e9[_0xadf2c3(0x225)]();},_0x6e7324[_0x2a1833(0x208)]=()=>{const _0x37f361=_0x2a1833;_0x4832e9[_0x37f361(0x204)](),_0x6e7324['showMask'](),_0xfb3e72[_0x37f361(0x2b1)]?(_0x4832e9[_0x37f361(0x258)]=_0x6e7324['notation'][_0x37f361(0x274)],_0x4832e9[_0x37f361(0x1de)](_0xfb3e72[_0x37f361(0x2b1)],_0x6e7324[_0x37f361(0x300)]/0x2-_0x6e7324[_0x37f361(0x271)],_0x6e7324[_0x37f361(0x2b6)]/0x2-_0x6e7324['effectHalfSize'],_0x6e7324[_0x37f361(0x271)]*0x2,_0x6e7324[_0x37f361(0x271)]*0x2)):(_0x4832e9[_0x37f361(0x258)]=_0x6e7324[_0x37f361(0x335)][_0x37f361(0x274)],_0x4832e9[_0x37f361(0x278)]=_0x6e7324[_0x37f361(0x335)][_0x37f361(0x311)],drawRoundedXMark(_0x4832e9,_0x6e7324[_0x37f361(0x300)]/0x2,_0x6e7324[_0x37f361(0x2b6)]/0x2,_0x6e7324['effectHalfSize'],_0x6e7324['effectHalfWidth'])),_0x4832e9[_0x37f361(0x225)]();};}const _0x41e3ce=(_0x5f4ba6,_0x1f1b60,_0x2a1472=0x10)=>{const _0x58a9d2=_0x2a1833,_0x1fdbab=_0x1f1b60['x']+_0x1f1b60[_0x58a9d2(0x300)]/0x2,_0x2c85e7=_0x1f1b60['y']+_0x1f1b60[_0x58a9d2(0x2b6)]/0x2-_0x2a1472/0x2;_0x4832e9[_0x58a9d2(0x204)](),_0x4832e9[_0x58a9d2(0x2a4)]=_0x2a1472+_0x58a9d2(0x259)+_0x25e6e0,_0x4832e9[_0x58a9d2(0x327)]=_0x58a9d2(0x377),_0x4832e9['textBaseline']=_0x58a9d2(0x1da),_0x4832e9[_0x58a9d2(0x278)]=_0x58a9d2(0x215),_0x4832e9[_0x58a9d2(0x26d)](_0x5f4ba6,_0x1fdbab,_0x2c85e7,_0x1f1b60[_0x58a9d2(0x300)]),_0x4832e9[_0x58a9d2(0x225)]();};_0x2002e5['on']('prepare_play',async _0x3430f7=>{const _0xd92c5a=_0x2a1833;_0x4c46ba['modeChangeToPlay'](),_0x25f6d4(),_0x321248(_0x3430f7[_0xd92c5a(0x2a1)][_0xd92c5a(0x304)][_0xd92c5a(0x30b)]),_0x4f0dab['displayCards']=_0x3430f7[_0xd92c5a(0x293)][_0xd92c5a(0x367)](_0x2d746c=>{const _0x3fb085=_0xd92c5a,_0x153657=_0x3430f7[_0x3fb085(0x2ef)][_0x3fb085(0x338)](_0x2d746c);_0x153657===-0x1&&console[_0x3fb085(0x345)](_0x3fb085(0x380),_0x2d746c,_0x3430f7);const _0x1821f9=_0x4f0dab[_0x3fb085(0x22c)][_0x153657];return Object['assign']({'put':!![],'tag':_0x2d746c},_0xfb3e72[_0x3fb085(0x34f)][_0x3fb085(0x230)](_0x1821f9['id']),_0x1821f9);}),_0xd384e4[_0xd92c5a(0x30d)](_0x4f0dab[_0xd92c5a(0x388)]),window[_0xd92c5a(0x270)](window['scrollX'],_0x137b5a[_0xd92c5a(0x29d)]()[_0xd92c5a(0x1da)]),_0x4f0dab['cardPhaseAct']=null,_0x4f0dab[_0xd92c5a(0x2f1)]=_0x3430f7[_0xd92c5a(0x2a1)],_0x2002e5['emit'](_0xd92c5a(0x347));}),_0x2002e5['on'](_0x2a1833(0x32f),async()=>{const _0x2b8d37=_0x2a1833,_0x1a0fc9=_0x6e7324,_0x52b24e=0xf0;let _0x1f6aea=_0x6e7324[_0x2b8d37(0x23c)];const _0x405074=!_0xfb3e72[_0x2b8d37(0x267)]?null:((()=>{const _0x4ddfe8=_0x2b8d37,_0x17b132=[],_0x58ba02=[];let _0x2c81bc=_0x6e7324[_0x4ddfe8(0x23c)];while(_0x2c81bc-->0x0){_0x58ba02[_0x4ddfe8(0x30b)]===0x0&&_0x58ba02[_0x4ddfe8(0x309)](0x0,0x0,..._0xfb3e72['countdownImageItems']);const _0xfc3cc1=getRandomRanged(0x0,_0x58ba02[_0x4ddfe8(0x30b)]);_0x17b132['push'](_0x58ba02[_0xfc3cc1]),_0x58ba02['splice'](_0xfc3cc1,0x1);}const _0x5180e8=0x1-0x2*(_0x6e7324[_0x4ddfe8(0x36f)]??0x0);return new Set(_0x17b132)[_0x4ddfe8(0x202)](_0x2a0b15=>{const _0x28a7b7=_0x4ddfe8,_0x16b594=_0x2a0b15[_0x28a7b7(0x1fa)],_0x28a77a=Math[_0x28a7b7(0x212)](Math[_0x28a7b7(0x212)](_0x137b5a[_0x28a7b7(0x300)]*_0x5180e8/_0x16b594['width'],_0x137b5a[_0x28a7b7(0x2b6)]*_0x5180e8/_0x16b594[_0x28a7b7(0x2b6)]),0x1),_0x2aab5d=_0x28a77a*_0x16b594['width'],_0x3eaa59=_0x28a77a*_0x16b594['height'],_0x41db15=(_0x137b5a[_0x28a7b7(0x300)]-_0x2aab5d)/0x2,_0x342306=(_0x137b5a[_0x28a7b7(0x2b6)]-_0x3eaa59)/0x2,_0xaa587=Math[_0x28a7b7(0x212)](_0x2aab5d,_0x3eaa59)*_0x2a0b15[_0x28a7b7(0x390)],_0x576eee=_0x41db15+_0x2aab5d*_0x2a0b15[_0x28a7b7(0x2db)],_0x556499=_0x342306+_0x3eaa59*_0x2a0b15[_0x28a7b7(0x252)],_0x10dc05=_0x576eee,_0x193daa=_0x556499-_0xaa587/0x2;_0x2a0b15[_0x28a7b7(0x307)]=_0x28fc14=>{const _0x3694ee=_0x28a7b7;_0x4832e9[_0x3694ee(0x204)](),_0x4832e9['drawImage'](_0x16b594,_0x41db15,_0x342306,_0x2aab5d,_0x3eaa59),_0x4832e9[_0x3694ee(0x2a4)]=_0xaa587+_0x3694ee(0x259)+_0x25e6e0,_0x4832e9[_0x3694ee(0x327)]='center',_0x4832e9['textBaseline']='top',_0x4832e9['fillStyle']=_0x3694ee(0x215),_0x4832e9[_0x3694ee(0x26d)](_0x28fc14[_0x3694ee(0x25d)](),_0x10dc05,_0x193daa,_0xaa587),_0x4832e9[_0x3694ee(0x225)]();};}),_0x17b132;})()),_0x271c0d=_0x405074||!_0x6e7324[_0x2b8d37(0x2bd)]?null:generateBlinkingText(_0x4832e9,{'x':0x0,'y':0x0,'width':_0x137b5a['width'],'height':_0x137b5a[_0x2b8d37(0x2b6)],'fontSize':0x40,'backgroundColor':_0x6e7324[_0x2b8d37(0x238)],'fontColor':_0x2b8d37(0x215),'halfPeriodMS':0x3e8});while(_0x1f6aea>0x0){_0x25f6d4(_0x41550f['playArea'][_0x2b8d37(0x2fe)]);if(_0x405074)_0xfb3e72[_0x2b8d37(0x33e)](_0xfb3e72[_0x2b8d37(0x372)]),_0x405074[_0x2b8d37(0x319)]()[_0x2b8d37(0x307)](_0x1f6aea),await sleep(0x3e8);else _0x6e7324['playCountdownBlinking']?(_0xfb3e72[_0x2b8d37(0x33e)](_0xfb3e72[_0x2b8d37(0x372)]),_0x271c0d['start'](_0x1f6aea[_0x2b8d37(0x25d)](),_0x52b24e),await sleep(0x3b6),_0x271c0d['stop'](),await sleep(0x32)):(_0xfb3e72[_0x2b8d37(0x33e)](_0xfb3e72['countdown1Sound']),_0x41e3ce(_0x1f6aea[_0x2b8d37(0x25d)](),_0x1a0fc9,_0x52b24e),await sleep(0x3e8));_0x1f6aea--;}_0xfb3e72[_0x2b8d37(0x33e)](_0xfb3e72[_0x2b8d37(0x324)]),_0x423a40[_0x2b8d37(0x1fd)](_0x4f0dab['lastShowData']),_0x2002e5[_0x2b8d37(0x253)](_0x2b8d37(0x35b));}),_0x2002e5['on'](_0x2a1833(0x38d),()=>{});const _0x2a7c84='none',_0x2871c9=_0x2a1833(0x2a5),_0x175c1e=_0x2a1833(0x229);_0x4f0dab['getClickedCard']=(_0x4bc8dc,_0x162471)=>{return _0x4f0dab['displayCards']['find'](_0x14777b=>{return _0x14777b['x1']<=_0x4bc8dc&&_0x4bc8dc<=_0x14777b['x2']&&_0x14777b['y1']<=_0x162471&&_0x162471<=_0x14777b['y2'];});},_0x4f0dab[_0x2a1833(0x22d)]=_0x2192d7=>{const _0x58b51d=_0x2a1833;if(_0x4f0dab[_0x58b51d(0x246)]===_0x175c1e){const _0x2fd083=_0x4f0dab['getClickedCard'](_0x2192d7[_0x58b51d(0x2d1)],_0x2192d7[_0x58b51d(0x341)]);if(_0x2fd083){const _0x388783=Date['now']()-_0x4f0dab['startTimestamp'];_0x4f0dab[_0x58b51d(0x246)]=_0x2871c9,_0x137b5a['removeEventListener'](_0x58b51d(0x248),_0x4f0dab[_0x58b51d(0x22d)]);const _0x521210=_0x2fd083['id'],_0x199bb3=_0x2fd083==_0x4f0dab[_0x58b51d(0x277)];_0x199bb3?_0x6e7324['showMask']():_0x6e7324[_0x58b51d(0x208)](),_0x2002e5[_0x58b51d(0x253)](_0x58b51d(0x1df),{'currentTag':_0x4f0dab['currentCard']?.[_0x58b51d(0x32e)],'userName':_0x1bd1ae[_0x58b51d(0x231)],'action':_0x58b51d(0x248),'correct':_0x199bb3,'cardId':_0x521210,'takenTimeMS':_0x388783}),!_0x199bb3&&_0xfb3e72[_0x58b51d(0x33e)](_0xfb3e72[_0x58b51d(0x25f)]);}}else{}},_0x2002e5['on']('next_card',_0x59a763=>{const _0xd4008f=_0x2a1833,_0x2d74ed=_0x4f0dab['displayCards'][_0xd4008f(0x2f3)](_0x24936a=>_0x24936a[_0xd4008f(0x32e)]===_0x59a763['currentTag']);_0x4f0dab[_0xd4008f(0x277)]=_0x2d74ed,_0x4f0dab[_0xd4008f(0x31c)]=Date['now'](),_0x4f0dab[_0xd4008f(0x246)]=_0x175c1e,_0x423a40[_0xd4008f(0x1fd)](_0x4f0dab[_0xd4008f(0x2f1)]),_0x6e7324[_0xd4008f(0x1fd)](),_0xfb3e72[_0xd4008f(0x33e)](_0x4f0dab['currentCard']['sound']),_0x41550f[_0xd4008f(0x375)]&&console[_0xd4008f(0x316)]('次',_0x4f0dab[_0xd4008f(0x277)]['id'],_0x4f0dab[_0xd4008f(0x277)]['label'],_0x4f0dab[_0xd4008f(0x277)]),clearInterval(_0x4f0dab[_0xd4008f(0x346)]),_0x137b5a[_0xd4008f(0x29f)](_0xd4008f(0x248),_0x4f0dab[_0xd4008f(0x22d)]),_0x137b5a[_0xd4008f(0x374)]('click',_0x4f0dab[_0xd4008f(0x22d)]);}),_0x2002e5['on']('card_phase_update_actinfo',_0x4b5028=>{const _0x2232fa=_0x2a1833,_0x1e7ebf=_0x4b5028[_0x2232fa(0x2ab)];if(_0x1e7ebf!==_0x4f0dab[_0x2232fa(0x277)]?.['tag'])return;if(_0x4f0dab['cardPhaseAct']===_0x175c1e&&_0x4b5028[_0x2232fa(0x23a)]){const _0x1519f9=Date['now']()-_0x4f0dab[_0x2232fa(0x31c)];_0x1519f9>_0x4b5028[_0x2232fa(0x23a)]?(_0x137b5a[_0x2232fa(0x29f)](_0x2232fa(0x248),_0x4f0dab[_0x2232fa(0x22d)]),_0x2002e5[_0x2232fa(0x253)](_0x2232fa(0x1df),{'currentTag':_0x4f0dab[_0x2232fa(0x277)]?.[_0x2232fa(0x32e)],'userName':_0x1bd1ae[_0x2232fa(0x231)],'action':_0x2232fa(0x2a6)})):_0x4f0dab[_0x2232fa(0x346)]=setInterval(()=>{const _0x16b823=_0x2232fa;_0x1e7ebf===_0x4f0dab[_0x16b823(0x277)]?.[_0x16b823(0x32e)]&&_0x4f0dab[_0x16b823(0x246)]===_0x175c1e&&_0x4b5028[_0x16b823(0x23a)]&&(_0x137b5a[_0x16b823(0x29f)](_0x16b823(0x248),_0x4f0dab[_0x16b823(0x22d)]),_0x2002e5[_0x16b823(0x253)](_0x16b823(0x1df),{'currentTag':_0x4f0dab[_0x16b823(0x277)]?.[_0x16b823(0x32e)],'userName':_0x1bd1ae[_0x16b823(0x231)],'action':_0x16b823(0x2a6)}));},_0x6e7324[_0x2232fa(0x36a)]);}_0x423a40['showActLog'](_0x4b5028[_0x2232fa(0x292)]);}),_0x2002e5['on']('card_phase_card_result',async _0x18333e=>{const _0x5d1223=_0x2a1833;if(_0x18333e[_0x5d1223(0x1d3)][_0x5d1223(0x2ab)]!==_0x4f0dab[_0x5d1223(0x277)]?.['tag'])return;_0x4f0dab[_0x5d1223(0x277)]['sound'][_0x5d1223(0x211)]();if(_0x1bd1ae['userName']===_0x18333e[_0x5d1223(0x1d3)][_0x5d1223(0x31b)])_0xfb3e72[_0x5d1223(0x33e)](_0xfb3e72['okSound']),_0x6e7324['showOK']();else{if(_0x18333e[_0x5d1223(0x1d3)][_0x5d1223(0x31b)])_0xfb3e72[_0x5d1223(0x33e)](_0xfb3e72[_0x5d1223(0x1f0)]),_0x6e7324['showMessage'](_0x18333e[_0x5d1223(0x1d3)]['winnerUserName']+'\x20が札を取得');else _0x18333e[_0x5d1223(0x292)][_0x5d1223(0x2fa)](_0x2f1556=>_0x2f1556['correct']===![])?(_0xfb3e72[_0x5d1223(0x33e)](_0xfb3e72['allngSound']),_0x6e7324['showMessage'](_0x5d1223(0x280))):(_0xfb3e72[_0x5d1223(0x33e)](_0xfb3e72['nextSound']),_0x6e7324[_0x5d1223(0x2c1)]('次'));}_0x4f0dab[_0x5d1223(0x2f1)]=_0x18333e,_0x423a40[_0x5d1223(0x1fd)](_0x18333e,!![]);if(_0x18333e['card'][_0x5d1223(0x31b)]){const _0x48b487=_0x4f0dab['displayCards'][_0x5d1223(0x242)](_0x269324=>_0x269324['id']===_0x18333e['card'][_0x5d1223(0x2cf)]);_0x4f0dab[_0x5d1223(0x388)][_0x5d1223(0x309)](_0x48b487,0x1);}await sleep(_0x6e7324[_0x5d1223(0x213)]),_0x2002e5[_0x5d1223(0x253)](_0x5d1223(0x35b));}),_0x2002e5['on'](_0x2a1833(0x24d),_0x4fb54b=>{const _0x1dc722=_0x2a1833;{_0x4f0dab[_0x1dc722(0x246)]=_0x2a7c84,_0x4f0dab[_0x1dc722(0x277)]={};}{_0xfb3e72[_0x1dc722(0x355)](_0xfb3e72['endCardSound']);}{_0x41550f[_0x1dc722(0x2c5)][_0x1dc722(0x238)]&&_0x6e7324[_0x1dc722(0x330)](_0x41550f[_0x1dc722(0x2c5)][_0x1dc722(0x238)]);const _0xed7bda=_0xfb3e72[_0x1dc722(0x29e)];if(_0xed7bda){const _0x4c5a47=Math[_0x1dc722(0x212)](_0x6e7324[_0x1dc722(0x300)]/_0xed7bda[_0x1dc722(0x300)],_0x6e7324[_0x1dc722(0x2b6)]/_0xed7bda[_0x1dc722(0x2b6)]),_0x39cc24=_0xed7bda[_0x1dc722(0x300)]*_0x4c5a47,_0x501719=_0xed7bda[_0x1dc722(0x2b6)]*_0x4c5a47;_0x4832e9[_0x1dc722(0x204)](),_0x4832e9[_0x1dc722(0x258)]=_0x41550f[_0x1dc722(0x2c5)][_0x1dc722(0x257)],_0x4832e9[_0x1dc722(0x1de)](_0xed7bda,(_0x6e7324[_0x1dc722(0x300)]-_0x39cc24)/0x2,(_0x6e7324[_0x1dc722(0x2b6)]-_0x501719)/0x2,_0x39cc24,_0x501719),_0x4832e9['restore']();}}{const _0x46b5db=_0x4fb54b[_0x1dc722(0x2e9)],_0x5a3d4d=_0x41550f['rankingArea'],_0x4550e9={};{const _0x115a92=0x3,_0x44e0c1=_0x5a3d4d[_0x1dc722(0x2d9)],_0x3320fd=_0x5a3d4d[_0x1dc722(0x27a)][_0x1dc722(0x28c)],_0x5e896a=_0x5a3d4d[_0x1dc722(0x27a)][_0x1dc722(0x37a)],_0x5c0983=_0x5a3d4d[_0x1dc722(0x27a)][_0x1dc722(0x1e4)],_0x22170c=_0x5a3d4d['letterCount']['wrongUnit'],_0x5cf49a=_0x6e7324[_0x1dc722(0x300)]*_0x5a3d4d[_0x1dc722(0x360)],[_0x5c6c26,_0x34aaf6,_0x206352,_0x60c59d]=((()=>{const _0x483ee9=_0x1dc722,_0x4e165d=_0x476ddf=>{const _0x1ef7bb=_0x59d3;_0x4832e9[_0x1ef7bb(0x204)](),_0x4832e9[_0x1ef7bb(0x2a4)]=_0x476ddf+_0x1ef7bb(0x259)+_0x25e6e0;const _0x5b9454=_0x46b5db[_0x1ef7bb(0x367)](_0x4223e3=>_0x4832e9[_0x1ef7bb(0x297)](_0x4223e3[_0x1ef7bb(0x231)])[_0x1ef7bb(0x300)])[_0x1ef7bb(0x348)]((_0x3a2183,_0x2c0d34)=>Math[_0x1ef7bb(0x35d)](_0x3a2183,_0x2c0d34));_0x4832e9[_0x1ef7bb(0x225)]();const _0x6528ed=(_0x3320fd+0x1+0x1+_0x3320fd+0x1+_0x3320fd)*_0x476ddf+(_0x5e896a+_0x5c0983+_0x22170c)*_0x476ddf*_0x5a3d4d[_0x1ef7bb(0x22f)]+_0x5b9454+(0x1+_0x115a92)*_0x44e0c1,_0x12e14c=_0x476ddf*_0x5a3d4d['lineHeightRate']*_0x46b5db[_0x1ef7bb(0x30b)]+(0x1+_0x115a92)*_0x44e0c1;return{'width':_0x6528ed,'height':_0x12e14c,'userNameWidth':_0x5b9454};},_0x342644=_0x5a3d4d[_0x483ee9(0x26b)],_0x1314ea=_0x4e165d(_0x342644),_0x56c05b=Math[_0x483ee9(0x212)](_0x5cf49a/_0x1314ea[_0x483ee9(0x300)],_0x6e7324[_0x483ee9(0x2b6)]/_0x1314ea[_0x483ee9(0x2b6)]);if(_0x56c05b>=0x1)return[_0x342644,_0x1314ea[_0x483ee9(0x300)],_0x1314ea[_0x483ee9(0x2b6)],_0x1314ea[_0x483ee9(0x322)]];const _0x22aa30=_0x342644*_0x56c05b,_0x4407d2=_0x4e165d(_0x22aa30);return[_0x22aa30,_0x4407d2[_0x483ee9(0x300)],_0x4407d2['height'],_0x4407d2[_0x483ee9(0x322)]];})());_0x4550e9['fontSize']=_0x5c6c26,_0x4550e9[_0x1dc722(0x33b)]=_0x5c6c26*_0x5a3d4d[_0x1dc722(0x22f)],_0x4550e9[_0x1dc722(0x300)]=_0x34aaf6,_0x4550e9[_0x1dc722(0x2b6)]=_0x206352,_0x4550e9[_0x1dc722(0x322)]=_0x60c59d,_0x4550e9[_0x1dc722(0x2d1)]=_0x6e7324['x']+(_0x6e7324[_0x1dc722(0x300)]-_0x34aaf6)/0x2,_0x4550e9[_0x1dc722(0x341)]=_0x6e7324['y']+(_0x6e7324['height']-_0x206352)/0x2;const _0x4dd821=_0x4550e9[_0x1dc722(0x2d1)]+_0x44e0c1;_0x4550e9[_0x1dc722(0x2c9)]=_0x4550e9[_0x1dc722(0x341)]+_0x44e0c1*_0x115a92,_0x4550e9[_0x1dc722(0x32c)]=_0x5c6c26*_0x5a3d4d[_0x1dc722(0x30e)],_0x4550e9[_0x1dc722(0x38b)]=_0x3320fd*_0x5c6c26,_0x4550e9[_0x1dc722(0x227)]=_0x5e896a*_0x4550e9['unitFontSize'],_0x4550e9[_0x1dc722(0x23b)]=_0x5c0983*_0x4550e9['unitFontSize'],_0x4550e9[_0x1dc722(0x24a)]=_0x22170c*_0x4550e9['unitFontSize'];const _0x5e457b=_0x5c6c26,_0x7fba8c=_0x5c6c26*_0x5a3d4d[_0x1dc722(0x2eb)];let _0x18f111=0x0;_0x4550e9[_0x1dc722(0x1fb)]=_0x18f111+=_0x4dd821+_0x4550e9[_0x1dc722(0x38b)],_0x4550e9['rankUnitTextLeftX']=_0x18f111+=_0x7fba8c,_0x4550e9[_0x1dc722(0x30c)]=_0x18f111+=_0x4550e9[_0x1dc722(0x227)]+_0x5e457b,_0x4550e9[_0x1dc722(0x376)]=_0x18f111+=_0x4550e9['userNameWidth']+_0x5e457b+_0x4550e9[_0x1dc722(0x38b)],_0x4550e9[_0x1dc722(0x2a9)]=_0x18f111+=_0x7fba8c,_0x4550e9[_0x1dc722(0x2e6)]=_0x18f111+=_0x4550e9[_0x1dc722(0x23b)]+_0x5e457b+_0x4550e9['numberTextWidth'],_0x4550e9['wrongUnitTextLeftX']=_0x18f111+=_0x7fba8c;const _0x5bd33f=0x2*_0x44e0c1;_0x4550e9[_0x1dc722(0x2f2)]=_0x4550e9[_0x1dc722(0x2d1)]+_0x5bd33f,_0x4550e9[_0x1dc722(0x26f)]=_0x34aaf6-0x2*_0x5bd33f,_0x4550e9[_0x1dc722(0x391)]=_0x5c6c26*(0x1+_0x5a3d4d[_0x1dc722(0x284)]);}_0x4832e9[_0x1dc722(0x204)](),_0x4832e9[_0x1dc722(0x258)]=_0x5a3d4d['backgroundAlpha'],roundedRect(_0x4832e9,_0x4550e9[_0x1dc722(0x2d1)],_0x4550e9[_0x1dc722(0x341)],_0x4550e9[_0x1dc722(0x300)],_0x4550e9['height'],_0x4550e9[_0x1dc722(0x219)]*_0x5a3d4d[_0x1dc722(0x27e)],_0x5a3d4d[_0x1dc722(0x238)]),_0x4832e9[_0x1dc722(0x258)]=0x1,_0x4832e9[_0x1dc722(0x32a)]=_0x5a3d4d[_0x1dc722(0x369)],_0x4832e9['textBaseline']=_0x1dc722(0x1da);let _0x2fa9ad=_0x4550e9[_0x1dc722(0x2c9)];_0x46b5db['forEach'](_0x4b6177=>{const _0x154b53=_0x1dc722;_0x4832e9[_0x154b53(0x278)]=_0x4b6177[_0x154b53(0x231)]===_0x1bd1ae[_0x154b53(0x231)]?_0x5a3d4d[_0x154b53(0x1e6)]:_0x5a3d4d[_0x154b53(0x255)],_0x4832e9[_0x154b53(0x327)]=_0x154b53(0x243),_0x4832e9[_0x154b53(0x2a4)]=_0x4550e9['unitFontSize']+'px\x20'+_0x25e6e0,_0x4832e9[_0x154b53(0x26d)]('位',_0x4550e9[_0x154b53(0x350)],_0x2fa9ad,_0x4550e9['rankUnitTextWidth']),_0x4832e9['fillText'](_0x154b53(0x33a),_0x4550e9[_0x154b53(0x2a9)],_0x2fa9ad,_0x4550e9[_0x154b53(0x23b)]),_0x4832e9['fillText'](_0x154b53(0x275),_0x4550e9[_0x154b53(0x310)],_0x2fa9ad,_0x4550e9[_0x154b53(0x24a)]),_0x4832e9[_0x154b53(0x2a4)]=_0x4550e9['fontSize']+'px\x20'+_0x25e6e0,_0x4832e9[_0x154b53(0x26d)](_0x4b6177[_0x154b53(0x231)],_0x4550e9[_0x154b53(0x30c)],_0x2fa9ad,_0x4550e9[_0x154b53(0x322)]),_0x4832e9[_0x154b53(0x2a4)]=_0x4550e9['fontSize']+_0x154b53(0x259)+_0x25e6e0,_0x4832e9['textAlign']=_0x154b53(0x2d4),_0x4832e9[_0x154b53(0x26d)](''+_0x4b6177[_0x154b53(0x2f6)],_0x4550e9[_0x154b53(0x1fb)],_0x2fa9ad,_0x4550e9[_0x154b53(0x38b)]),_0x4832e9[_0x154b53(0x26d)](''+_0x4b6177[_0x154b53(0x389)],_0x4550e9['correctTextRightX'],_0x2fa9ad,_0x4550e9[_0x154b53(0x38b)]),_0x4832e9[_0x154b53(0x26d)](''+_0x4b6177[_0x154b53(0x2b7)],_0x4550e9[_0x154b53(0x2e6)],_0x2fa9ad,_0x4550e9[_0x154b53(0x38b)]),_0x4832e9['strokeRect'](_0x4550e9[_0x154b53(0x2f2)],_0x2fa9ad+_0x4550e9[_0x154b53(0x391)],_0x4550e9[_0x154b53(0x26f)],0x0),_0x2fa9ad+=_0x4550e9[_0x154b53(0x32c)];}),_0x4832e9[_0x1dc722(0x225)]();}{_0x4f0dab[_0x1dc722(0x1d2)]=async _0x31d5ad=>{const _0x3e11ed=_0x1dc722,_0xc410c6=await showConfirmTextDialog(_0x3e11ed(0x2e1));_0xc410c6&&(clearInterval(_0x4f0dab[_0x3e11ed(0x346)]),_0x137b5a[_0x3e11ed(0x29f)](_0x3e11ed(0x248),_0x4f0dab['returnConfirmCallback']),_0x2002e5[_0x3e11ed(0x253)](_0x3e11ed(0x233)));},_0x137b5a[_0x1dc722(0x374)]('click',_0x4f0dab['returnConfirmCallback']);}});})(getInitValues());
    
    
    function getInitValues() {
      return {
        defaultValues: {
          userName: '',
          roomName: 'room1',
        },
        
        playmat: {
          marginMax: 40,
          marginTopRate : 0.03,
          marginLeftRate: 0.03,
          fontFamily: `sans-serif`,
        },
        rankingArea: {
          maxWidthRate: 0.8,
          margin: 10,
          radiusFontSizeRate: 0.8,
          defaultFontSize: 24,
          unitFontSizeRate: 1, // 値を変えると textBaseline の調整が必要となる
          unitMarginRate: 0.2,
          lineHeightRate: 1.8,
          letterCount: {
            number     : 2,
            rankUnit   : 1,
            correctUnit: 2.5,
            wrongUnit  : 2.5,
          },
          fontColor: '#111111',
          myUserFontColor: '#2222FF',
          backgroundAlpha: 0.925,
          backgroundColor: '#EEEEEE',
          splitLineColor: '#FFFFFF',
          splitLinePaddingRate: 0.3,
        },
        progressArea: {
          // カード枚数が3桁行かないことを前提にしている
          width: 250,
          margin: 8,
          fontSize: 24,
          lineHeightRate: 1.6,
          numberTextWidth: 50,
          actLogFontSizeRate: 0.875,
          actLogMargin: 16,
          fontColor: '#000000',
          myUserFontColor: '#2222FF',
          otherUserFontColor: '#000000',
          backgroundColor: '#cccccc',
          splitLineColor: '#efefef',
        },
        playArea: {
          playCountdownLength: 3,
          playCountdownBlinking: true,
          playCountdownBackgroundColor: '#FFFFFF',
          backgroundColor: '#efefef',
          checkTimeupIntervalMS: 250,
          waitCardResultEffectMS: 1200,
          notation: {
            maskAreaMarginRate: 0.05, // 情報表示のための黒塗りマスクを出す際のマージン。概ね 1 - rate * 2 がマスクの画面に占める割合
            maskAreaAlpha: 0.50,
            maskAreaColor: '#000000',
            messageBackgroundColor: '#FFFFFF',
            messageFontColor: '#000000',
            effectMarginRate: 0.10, // マスク内にエフェクトを表示する際のマージン。 1- rate * 2 がエフェクトのマスクに占める割合
            effectOKColor: '#FF2222',
            effectNGColor: '#CCCC00',
            effectAlpha: 0.80,
          },
        },
        soundSettings: {
          voiceVolume: 1.00,
          effectVolume: 0.50,
          okSoundPath: 'res/ok.mp3',
          ngSoundPath: 'res/ng.mp3',
          allngSoundPath: 'res/allng.mp3',
          takenSoundPath: 'res/taken.mp3',
          nextSoundPath: 'res/next.mp3',
          countdown1SoundPath: 'res/countdown1.mp3',
          countdown2SoundPath: 'res/countdown2.mp3',
        },
        endCardSettings: {
          imgAlpha: 1.00,
          backgroundColor: '#000000',
        },
        
        cardSettings: {
          rateForContent: 0.9,
          origWidth :  900, // カルタ画像は全てこの origWidth,origHeight の比率と同じものとする
          origHeight: 1200,
          borderSize: 15,
          borderColor: '#660066',
        },
        ///debug: true,
      };
    }
  </script>
</body>
</html>
